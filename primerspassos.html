<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Primeres passes</title>

<script src="site_libs/header-attrs-2.5/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="site_libs/anchor-sections-1.0/anchor-sections.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Stats CPA</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Inici</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Elements bàsics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="primerspassos.html">Primeres passes</a>
    </li>
    <li>
      <a href="importacio.html">Importar i exportar arxius</a>
    </li>
    <li>
      <a href="objectes.html">Objectes i funcions bàsiques</a>
    </li>
  </ul>
</li>
<li>
  <a href="ordenacio.html">Ordenació de variables</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Primeres passes</h1>

</div>


<p>En aquest apartat podreu trobar una introducció bàsica a R que tractarem durant les primeres sessions de classe. Els continguts que tractarem són:</p>
<ol style="list-style-type: decimal">
<li>Com funciona R: una introducció bàsica</li>
<li>Configuració de directoris de treball</li>
<li>Instal·lar i carregar paquets</li>
<li>Incloure notes als scripts</li>
<li>Demanar ajuda a R</li>
</ol>
<div id="com-funciona-r" class="section level2">
<h2>1. Com funciona R?</h2>
<p>A les primeres sessions vam poder veure <a href="https://bookdown.org/gboccardo/manual-ED-UCH/instalacion-de-los-softwares-a-utilizar-en-este-manual.html">com instal·lar R i RStudio</a>, establir els directoris de treball, i quina estructura té RStudio, així com les funcions de cadascuna de les parts de la interfície de treball. Ara començarem a aprendre els rudiments de R.</p>
<p>R és un llenguatge de programació. Això implica que interaccioneu amb el programa mitjançant codi. La sintaxi és un conjunt de codis. El seu ús en R és bastant intuïtiu i segueix un patró lògic.</p>
<p>En el seu nivell més bàsic, R pot ser entesa com una calculadora. Els operadors aritmètics més bàsics són: +,-,*,/ i ^ per elevar potències.</p>
<p>Primer de tot, escriviu al vostre script el següent:</p>
<pre class="r"><code>1+2</code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="r"><code>2*3</code></pre>
<pre><code>## [1] 6</code></pre>
<p>Ara, proveu a escriure la mateixa suma a la consola. Com veieu a la consola també podeu realitzar les operacions, però és millor fer-ho al llibre per tal de registrar els moviments que aneu realitzant.</p>
<p>Escriure les intruccions a l’editor de sintaxis ens permet tenir una sintaxi editable que no s’executa de forma automàtica com operacions computacionals (això sí passa quan ho escrivim directament a la consola). Per executar sintaxis haureu de seleccionar amb el cursor o bé situar-vos sobre el codi i (1) apretar el botó de “Run” a la part superior de l’editor de sintaxi o bé (2) apretar la combinació de tecles ctrl + enter.</p>
<p>Existeixen una sèrie de convencions quan treballem amb scripts que necessiteu saber:</p>
<ol style="list-style-type: decimal">
<li>Comandament més bàsic: la creació d’objectes. Cal tenir en compte que R treballa amb memòria temporal, pel que un cop s’executa el procés i es tanca el programa, l’operació i el seu resultat desapareix si no s’ha emmagatzemat.</li>
</ol>
<pre class="r"><code>#Assignació del valor &#39;10&#39; a l&#39;objecte X

X &lt;- 10
X</code></pre>
<pre><code>## [1] 10</code></pre>
<p>Podeu veure, que aquest objecte el podem reescriure en qualsevol moment.</p>
<pre class="r"><code>X &lt;- 5
X</code></pre>
<pre><code>## [1] 5</code></pre>
<p>L’estructura de la sintaxi computacional és bastant flexible. Només a tall d’exemple, pot executar una assignació d’un valor a un objecte alterant l’ordre dels elements. Val la pena destacar que l’ordre dels elements no altera el resultat, mentre el assignador apunt des dels valors que ens interessa guardar cap el nom d’un objecte a crear (o prèviament existent). Tanmateix això, per una qüestió d’ordre suggerim l’estructura de sintaxi objecte &lt;- valors, amb el assignador apuntant cap a l’esquerra de la pantalla.</p>
<pre class="r"><code># Exemples alternatius d&#39;assignació de valors a objectes 

10 -&gt; X
X</code></pre>
<pre><code>## [1] 10</code></pre>
<pre class="r"><code>X = 5
X</code></pre>
<pre><code>## [1] 5</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Les funcions sempre porten un parèntesi, com sum() o mean()</li>
</ol>
<pre class="r"><code>X &lt;- c(6, 14, 20)
mean(X)</code></pre>
<pre><code>## [1] 13.33333</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Altres objectes a R no necessiten parèntesi</li>
</ol>
<pre class="r"><code>#Si volem imprimir un objecte, el podem escriure i executar directament 
X</code></pre>
<pre><code>## [1]  6 14 20</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>És possible que a vegades trobeu aquest tipus de terminologia: dplyr::mutate() - en aquests casos, s’utilitza aquest sistema per indicar clarament que la funció que utilitzem (mutate()) es troba dins el paquet dplyr. Normalment nosaltres carregarem els paquets a l’inici de la sessió pel que no haurem de recordar els paquets a cada funció, però a vegades trobareu aquest tipus de notacions en exemples a la web.</li>
</ol>
<hr />
</div>
<div id="configurar-el-directori-de-treball" class="section level2">
<h2>2. Configurar el directori de treball</h2>
<p>Abans de començar a treballar haurem de fixar el nostre directori on guardarem els fitxers que farem servir durant el curs. Hi ha dues maneres de poder-ho fer. En aquest curs, donat que per a l’elaboració de les pràctiques i per al vostre projecte final, haureu d’utilitzar bases de dades diferents, optarem per la segona opció.</p>
<div id="opció-1-fixar-un-directori-local" class="section level3">
<h3>2.1) Opció 1: fixar un directori local</h3>
<p>Per a fixar un directori local, haurem d’indicar a R quina és la ruta de la carpeta amb què volem treballar i la fixarem amb la funció setwd()</p>
<pre class="r"><code>#setwd(&quot;C:/ruta del directori&quot;)</code></pre>
<p>Per a comprobar quina és la ruta local que estem utilitzant, farem servir la funció getdw()</p>
<pre class="r"><code>getwd()</code></pre>
<pre><code>## [1] &quot;C:/Users/annai/OneDrive/Documentos/webpage_github/Stats_CPA&quot;</code></pre>
</div>
<div id="opció-2-projectes-r" class="section level3">
<h3>2.2) Opció 2: Projectes R</h3>
<p>En aquest cas, crearem un projecte de R que agruparà i vincularà tots els fitxers al projecte. Aquesta opció ens permet que, al compartir el projecte (per exemple, amb pràctiques) tots els fitxers que hem utilitzat també es comparteixin. En cas que ens enviessiu el script en què utilitzeu rutes locals, el que passaria és que no podriem executar-lo ja que ens redirigiria a una ruta del vostre ordinador que només és accessible a través del vostre terminal. Els projectes també seran útils si voleu <strong>treballar des de diferents dispositius</strong>.</p>
<p>Per a crear un projecte heu d’anar a FILE &gt; NEW PROJECT &gt; New Directory</p>
<p>A continuació seleccionem el tipus de projecte, que en aquest cas és ‘Empty Project’ i li assignem un nom. A continuació li indiquem que volem crear el projecte. Aquesta acció crearà una carpeta amb aquest nom i al mateix temps assignarà un nom al projecte: la carpeta estarà a documents i es crearà un projecte amb el nom: nom_carpeta.Rproj</p>
<p>Si volem crear un projecte en una carpeta existent (per exemple, si ja tenim un directori creat per al curs d’estadística) fem clic al botó d’Existing Directory i a través de BROWSE seleccionem la carpeta i creem el projecte.</p>
<p>L’avantatge d’utilitzar projectes és que qualsevol fitxer que creem es guardarà en aquesta carpeta.</p>
<hr />
</div>
</div>
<div id="installar-i-carregar-paquets" class="section level2">
<h2>3. Instal·lar i carregar paquets</h2>
<p>R està format per un sistema base (packages de R-base) però per extendre les seves funcionalitats podrem instal·lar i executar paquets addicionals. Els paquets són un conjunt de funcions, dades i documentació.</p>
<p>Quan instal·lem R, com hem dit, es carreguen automàticament 7 paquets de R-base. Per a veure aquests paquets pots teclejar a la consola:</p>
<pre class="r"><code>loadedNamespaces()</code></pre>
<pre><code>##  [1] &quot;tidyselect&quot; &quot;xfun&quot;       &quot;purrr&quot;      &quot;rJava&quot;      &quot;haven&quot;      &quot;colorspace&quot;
##  [7] &quot;vctrs&quot;      &quot;generics&quot;   &quot;htmltools&quot;  &quot;yaml&quot;       &quot;grDevices&quot;  &quot;utf8&quot;      
## [13] &quot;rlang&quot;      &quot;pillar&quot;     &quot;withr&quot;      &quot;foreign&quot;    &quot;glue&quot;       &quot;DBI&quot;       
## [19] &quot;tidyverse&quot;  &quot;dbplyr&quot;     &quot;modelr&quot;     &quot;readxl&quot;     &quot;lifecycle&quot;  &quot;stringr&quot;   
## [25] &quot;munsell&quot;    &quot;gtable&quot;     &quot;cellranger&quot; &quot;rvest&quot;      &quot;evaluate&quot;   &quot;knitr&quot;     
## [31] &quot;forcats&quot;    &quot;gapminder&quot;  &quot;curl&quot;       &quot;markdown&quot;   &quot;fansi&quot;      &quot;xlsxjars&quot;  
## [37] &quot;broom&quot;      &quot;methods&quot;    &quot;Rcpp&quot;       &quot;readr&quot;      &quot;backports&quot;  &quot;scales&quot;    
## [43] &quot;xlsx&quot;       &quot;jsonlite&quot;   &quot;fs&quot;         &quot;ggplot2&quot;    &quot;hms&quot;        &quot;stats&quot;     
## [49] &quot;datasets&quot;   &quot;graphics&quot;   &quot;digest&quot;     &quot;stringi&quot;    &quot;dplyr&quot;      &quot;grid&quot;      
## [55] &quot;cli&quot;        &quot;tools&quot;      &quot;magrittr&quot;   &quot;tibble&quot;     &quot;crayon&quot;     &quot;tidyr&quot;     
## [61] &quot;pkgconfig&quot;  &quot;ellipsis&quot;   &quot;xml2&quot;       &quot;utils&quot;      &quot;reprex&quot;     &quot;lubridate&quot; 
## [67] &quot;assertthat&quot; &quot;rmarkdown&quot;  &quot;base&quot;       &quot;httr&quot;       &quot;rstudioapi&quot; &quot;R6&quot;        
## [73] &quot;compiler&quot;</code></pre>
<p>La gran quantitat de paquets disponibles a R és una de les claus d’èxit del propi llenguatge per al seu ús en estadística.</p>
<p>Podem instal·lar paquets de diverses formes: - A través del menú: <em>Toools &gt; Install packages …</em> - A través de l’escriptori de R (secció de miscelània, al requadre dret inferior de l’escriptori) a la pestanya de “Packages” podem veure quins paquets tenim instal·lats i carregats.</p>
<p>En la majoria de casos, utilitzarem la funció install.packages() al script o consola, i posarem el nom del paquet entre cometes. En aquest cas - per a practicar - instal·larem un paquet que conté diversos subpaquets i funcionalitats que utilitzarem al llarg del curs: el paquet <a href="https://www.tidyverse.org/">Tidyverse</a>:</p>
<pre class="r"><code>install.packages(&quot;tidyverse&quot;)</code></pre>
<pre><code>## Error in install.packages : Updating loaded packages</code></pre>
<p>Un cop instal·lat el paquet, l’haurem de carregar per a poder-lo utilitzar amb la funció library():</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<hr />
</div>
<div id="inclusió-de-notes-al-codi-en-script" class="section level2">
<h2>4. Inclusió de notes al codi en script</h2>
<p>L’editor de sintaxi accepta la inclusió de comentaris en el cos de codi. Quan anteposem el signe (#) abans d’un comandament, aquest es posa d’un color diferent als codis que representen instruccions vàlides (en la visualització per defecte de RStudio, el color serà automàticament verd).</p>
<p><strong>Per a què serveix?</strong> Tota línia que estigui amb aquest signe (#) el programa la ignorarà com a codi R. Això permet incloure notes que indiquin el que s’està fent, missatges o ajudes de memòria, particularment quan treballem en un projecte que ens pot durar diversos dies - en els quals serà difícil recordar tot el que hagi fet o provat - i en contextos com l’entrega d’exercicis, treballs en grup, etc.</p>
<pre class="r"><code>1+2*3 # Ens permet incloure notes i encapçalaments als nostres scripts</code></pre>
<pre><code>## [1] 7</code></pre>
<pre class="r"><code>#---------------------- ENCAPÇALAMENT -----------------------------
1+1 </code></pre>
<pre><code>## [1] 2</code></pre>
<hr />
</div>
<div id="demanar-ajuda" class="section level2">
<h2>5. Demanar ajuda</h2>
<p>En aquestes sessions us donarem algunes pistes per aprendre rudiments de R i com aplicar conceptes estadístics bàsics amb R. Ara bé, probablement no resoldrem tots els dubtes que us puguin sorgir i segur passaran coses entre sessions. En aquest apartat us donem algunes pistes perque trobeu ajuda de forma autònoma (per descomptat, ens podeu escriure un correu, però internet sol ser més ràpid).</p>
<ol style="list-style-type: decimal">
<li>Busca a la documentació de RStudio.</li>
</ol>
<pre class="r"><code>#Per ajuda general 
help.start()</code></pre>
<pre><code>## If nothing happens, you should open
## &#39;http://127.0.0.1:25403/doc/html/index.html&#39; yourself</code></pre>
<pre class="r"><code># Ajuda sobre una funció
help(mean) # Equivalent to ?mean</code></pre>
<p>L’ajuda apareixera a la pantalla d’ajuda de la dreta.</p>
<pre class="r"><code>#Buscar el nombre de funcions que contenen un conjunt de caràcters
apropos(&quot;mean&quot;)</code></pre>
<pre><code>##  [1] &quot;.colMeans&quot;      &quot;.rowMeans&quot;      &quot;colMeans&quot;       &quot;cummean&quot;        &quot;kmeans&quot;        
##  [6] &quot;mean&quot;           &quot;mean.Date&quot;      &quot;mean.default&quot;   &quot;mean.difftime&quot;  &quot;mean.POSIXct&quot;  
## [11] &quot;mean.POSIXlt&quot;   &quot;mean_cl_boot&quot;   &quot;mean_cl_normal&quot; &quot;mean_sdl&quot;       &quot;mean_se&quot;       
## [16] &quot;rowMeans&quot;       &quot;weighted.mean&quot;</code></pre>
<pre class="r"><code>#Buscar exemples d&#39;una funció
example(mean)</code></pre>
<pre><code>## 
## mean&gt; x &lt;- c(0:10, 50)
## 
## mean&gt; xm &lt;- mean(x)
## 
## mean&gt; c(xm, mean(x, trim = 0.10))
## [1] 8.75 5.50</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Busca a Google: no és broma. Si et quedes encallat Google i els milions de blogs d’ajuda a la xarxa són un gran recurs, particularment amb els errors (probablement algú ha estat en la teva mateixa situació abans i ha demanat ajuda!)</p></li>
<li><p>Si Google no ajuda, pots provar llocs més especialitzats com <a href="https://stackoverflow.com/" class="uri">https://stackoverflow.com/</a> . Primer tracta de buscar si algú ha resolt el dubte abans (navega una estona!). Si no trobes la resposta, pots penjar la teva pregunta amb un reprex (minimal reproducible example).</p></li>
</ol>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
