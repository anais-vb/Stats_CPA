<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Ordenació de variables</title>

<script src="site_libs/header-attrs-2.5/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="site_libs/anchor-sections-1.0/anchor-sections.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Stats CPA</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Inici</a>
</li>
<li>
  <a href="primerspassos.html">Primers passos</a>
</li>
<li>
  <a href="ordenacio.html">Ordenació de variables</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Ordenació de variables</h1>

</div>


<div id="part-pràctica-variables-i-ordenació-de-data.frames-en-r" class="section level3">
<h3>Part pràctica: Variables i ordenació de data.frames en R</h3>
<div id="primer-pas" class="section level4">
<h4>Primer pas</h4>
<p>Fixem el nostre director de treball d’on obtindrem les dades i on guardarem els nostres scripts per poder iniciar la sessió pràctica.</p>
</div>
</div>
<div id="les-variables-a-r" class="section level3">
<h3>Les variables a R</h3>
<p>R és un programa d’anàlisi estadístic de dades que ens permet analitzar, descriure i operar amb variables com les que hem acabat d’estudiar. Ens permet aplicar totes les tècniques estadístiques que veurem al llarg de les properes sessions però també ens permet recopilar dades i emmagatzemar-les d’una determinada forma. Per tant, en les bases de dades que carreguem a R identificar totes les tipologies de variables que hem estudiat a nivell teòric.</p>
<p>Tanmateix, hem de tenir clar abans d’analitzar una variable a R provinent d’una determinada base de dades el que caracteritza a cada tipus de variable, quina forma prenen i quin tipus d’informació volem obtenir. En aquest apartat farem un repàs de com les trobarem en el programa R.</p>
<div id="les-variables-categòriques-nominals-en-r" class="section level4">
<h4>Les variables categòriques nominals en R</h4>
<p>En primer lloc, tenim tres tipus de variables categòriques (nominals, ordinals o binàries), que podem emmagatzemar a R com a vectors de caràcter, factors o vectors lògics:</p>
<p>• Com a vectors de caràcter</p>
<p>Els vectors de caràcter o strings emmagatzemen tot tipus de caràcters, des de lletres fins a símbols especials. Sempre utilitzarem les cometes per a referir-nos a cada valor.</p>
<p>Crearem un vector de caràcter a R de la següent manera:</p>
<pre class="r"><code>vector_caracter &lt;- c(&quot;Kuwait&quot;, &quot;Qatar&quot;, &quot;Saudi Arabia&quot;, &quot;Bahrain&quot;)</code></pre>
<p>• Com a vectors enters en forma de factors</p>
<p>Un factor és un vector enter que emmagatzema informació categòrica. Normalment crearem els factors a partir d’un vector caràcter i el passarem a factor amb la funció factor() o as.factor().</p>
<p>Primera forma de crear-ho:</p>
<pre class="r"><code>paisos &lt;- factor(c(&quot;BRA&quot;, &quot;ARG&quot;, &quot;VEN&quot;, &quot;URU&quot;, &quot;PAR&quot;)) </code></pre>
<p>Segona forma de crear-ho. Creem un vector de caràcter:</p>
<pre class="r"><code>paisos &lt;- c(&quot;BRA&quot;, &quot;ARG&quot;, &quot;VEN&quot;, &quot;URU&quot;, &quot;PAR&quot;)</code></pre>
<p>El transformem en un factor amb la funció as.factor():</p>
<pre class="r"><code>as.factor(paisos)</code></pre>
<pre><code>## [1] BRA ARG VEN URU PAR
## Levels: ARG BRA PAR URU VEN</code></pre>
<p>Observem el vector i les seves categories:</p>
<pre class="r"><code>paisos</code></pre>
<pre><code>## [1] &quot;BRA&quot; &quot;ARG&quot; &quot;VEN&quot; &quot;URU&quot; &quot;PAR&quot;</code></pre>
<pre class="r"><code>levels(paisos)</code></pre>
<pre><code>## NULL</code></pre>
<p>Ara podem modificar els nivells o canviar els noms de la següent manera:</p>
<pre class="r"><code>levels(paisos) &lt;- c(&quot;Brazil&quot;,&quot;Argentina&quot;,&quot;Venezuela&quot;, &quot;Uruguay&quot;, &quot;Paraguay&quot;)
paisos #Comprovem el resultat</code></pre>
<pre><code>## [1] &quot;BRA&quot; &quot;ARG&quot; &quot;VEN&quot; &quot;URU&quot; &quot;PAR&quot;
## attr(,&quot;levels&quot;)
## [1] &quot;Brazil&quot;    &quot;Argentina&quot; &quot;Venezuela&quot; &quot;Uruguay&quot;   &quot;Paraguay&quot;</code></pre>
<p>També podem modificar un sol nivell:</p>
<pre class="r"><code>levels(paisos)[4] &lt;- c(&quot;URUGUAY&quot;) 
paisos ###### comprovem els resultats</code></pre>
<pre><code>## [1] &quot;BRA&quot; &quot;ARG&quot; &quot;VEN&quot; &quot;URU&quot; &quot;PAR&quot;
## attr(,&quot;levels&quot;)
## [1] &quot;Brazil&quot;    &quot;Argentina&quot; &quot;Venezuela&quot; &quot;URUGUAY&quot;   &quot;Paraguay&quot;</code></pre>
<p>Si volem també podem modificar els nivells a través d’un argument a la funció factor().</p>
<pre class="r"><code>factor(paisos, labels = c(&quot;Argentina&quot;, &quot;Brazil&quot;, &quot;Paraguay&quot;, &quot;Uruguay&quot;, &quot;Venezuela&quot;))</code></pre>
<pre><code>## [1] Brazil    Argentina Venezuela Uruguay   Paraguay 
## Levels: Argentina Brazil Paraguay Uruguay Venezuela</code></pre>
<p>• Com a vectors lògics</p>
<p>Les variables categòriques nominals també poden prendre la forma d’un vector lògic, en què la variable només pot tenir dos valors discrets i normalment no ordenables: veritat (TRUE) i fals (FALSE). En aquest cas es tractarà d’una variable binària (també dita dicotòmica, booleana o dummy), que normalment serveix per a indicar la presència o absència d’un determinat concepte. Si el concepte és present, la variable pren el valor lògic TRUE, si el concepte és absent, pren el valor lògic FALSE.</p>
<p>Per comprovar-ho, crearem un vector lògic de la següent manera:</p>
<pre class="r"><code>vector_logic &lt;- c(TRUE, FALSE, FALSE, TRUE)</code></pre>
</div>
<div id="les-variables-categòriques-ordinals-en-r" class="section level4">
<h4>Les variables categòriques ordinals en R</h4>
<p>Les variables ordinals són variables categòriques que es poden ordenar de manera lògica. És a dir, segueixen un ordre determinat. Aquestes variables les podem emmagatzemar com a vectors de caràcter, factors o vectors lògics, encara que amb algunes petites diferències en relació als factors i els vectors lògics.</p>
<p>• Com a factors:</p>
<p>Els factors són una de les eines principals que tenim per a emmagatzemar variables categòriques. El seu gran potencial és la manera com poden guardar variables ordinals, ja que tenen la capacitat d’ordenar les categories seguint l’ordre que indiquem.</p>
<p>El seu gran potencial és la manera com poden guardar variables ordinals, ja que tenen la capacitat d’ordenar les categories seguint l’ordre que indiquem.</p>
<pre class="r"><code>wb &lt;- data.frame(country = c(&quot;Antigua and Barbuda&quot;, &quot;Belize&quot;, &quot;Costa Rica&quot;, &quot;Dominica&quot;, &quot;Dominican Republic&quot;,
                             &quot;El Salvador&quot;, &quot;Guyana&quot;, &quot;Guatemala&quot;, &quot;Haiti&quot;, &quot;Honduras&quot;, &quot;Jamaica&quot;, &quot;Nicaragua&quot;, 
                             &quot;Panama&quot;, &quot;Surinam&quot;, &quot;Trinidad and Tobago&quot;), 
                 income = factor(c(&quot;high&quot;, &quot;upper-middle&quot;, &quot;upper-middle&quot;,&quot;upper-middle&quot;, &quot;upper-middle&quot;, 
                                   &quot;lower-middle&quot;, &quot;upper-middle&quot;, &quot;upper-middle&quot;,&quot;low&quot;, &quot;lower-middle&quot;, &quot;upper-middle&quot;,
                                   &quot;lower-middle&quot;, &quot;high&quot;, &quot;upper-middle&quot;, &quot;high&quot;)),
                 stringsAsFactors = FALSE)</code></pre>
<p>Imprimim el marc de dades teclejant wb. Fixeu-vos en el procediment per convertir un factor en ordinal:</p>
<pre><code> •  A dins de la funció factor(), indiquem que l’argument   order a TRUE.
 
 •  Indiquem a l’argument levels l’ordre dels factors, de menor a major.</code></pre>
<pre class="r"><code>wb$income &lt;- factor(wb$income, order = TRUE, levels = c(&quot;low&quot;, &quot;lower-middle&quot;, &quot;upper-middle&quot;, &quot;high&quot;))</code></pre>
<p>Comproveu el resultat amb:</p>
<pre class="r"><code>class(wb$income)</code></pre>
<pre><code>## [1] &quot;ordered&quot; &quot;factor&quot;</code></pre>
<pre class="r"><code>wb$income</code></pre>
<pre><code>##  [1] high         upper-middle upper-middle upper-middle upper-middle
##  [6] lower-middle upper-middle upper-middle low          lower-middle
## [11] upper-middle lower-middle high         upper-middle high        
## Levels: low &lt; lower-middle &lt; upper-middle &lt; high</code></pre>
<p>• Com a vectors lògics</p>
<p>Els vectors lògics també poden operar com a variable categòrica ordinal pel simple fet que TRUE és convertible a 1 i FALSE és convertible a 0.</p>
<p>Fixem-nos què passa si convertim un vector lògic a vector numèric:</p>
<pre class="r"><code>as.numeric(c(TRUE, FALSE))</code></pre>
<pre><code>## [1] 1 0</code></pre>
<p>Això significa que TRUE pot ser interpretat com un 1 i FALSE com un 0. Però no son números amb un valor per operar de manera numèrica. Sinó que son categories.</p>
<p>Per il·lustrar-ho crearem un marc de dades format per dos vectors, country i poverty. Primer creem els vectors i, a partir dels vectors, creem el marc de dades:</p>
<pre class="r"><code>country = c(&quot;Armenia&quot;, &quot;Austria&quot;, &quot;Benin&quot;, &quot;Bolivia&quot;, &quot;Brazil&quot;, &quot;Colombia&quot;, 
            &quot;El Salvador&quot;, &quot;Ethiopia&quot;, &quot;Honduras&quot;, &quot;Indonesia&quot;)
poverty = c(1.90, 0.7, 49.6, 6.4, 3.4, 4.5, 1.9, 26.7, 16.2, 7.2)
pov &lt;- data.frame(country, poverty)</code></pre>
<p>Observeu com qualsevol vector és convertible en un vector lògic. Mireu els següents exemples:</p>
<p>• Preguntem si algun element del vector country porta el nom Benin.</p>
<pre class="r"><code>pov$country == &quot;Benin&quot;</code></pre>
<pre><code>##  [1] FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<p>• Preguntem si algun element del vector poverty és inferior a 16.</p>
<pre class="r"><code>pov$poverty &lt; 16</code></pre>
<pre><code>##  [1]  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE  TRUE</code></pre>
<p>Per passar qualsevol tipus de vector a vector lògic haurem de dominar els operadors relacionals. En aquest enllaç teniu un video sobre com fer servir operadors relacionals. És molt important el seu us a R.</p>
</div>
<div id="les-variables-categòriques-binàries-en-r" class="section level4">
<h4>Les variables categòriques binàries en R</h4>
<p>Les variables categòriques binàries només poden adoptar dos valors. Es poden crear amb vectors de caràcter, factors o vectors lògics, tal com s’ha mostrat en els anteriors apartats.</p>
<p>• Com a caràcter:</p>
<pre class="r"><code>sexe = c(&quot;Home&quot;, &quot;Dona&quot;)</code></pre>
<p>• Com a factor:</p>
<pre class="r"><code>sexe &lt;- factor(c(&quot;Home&quot;,&quot;Dona&quot;))
as.factor(sexe)</code></pre>
<pre><code>## [1] Home Dona
## Levels: Dona Home</code></pre>
<p>• Com a vector lògic:</p>
<pre class="r"><code>sexe &lt;- c(TRUE, FALSE) </code></pre>
</div>
<div id="les-variables-numèriques-en-r" class="section level4">
<h4>Les variables numèriques en R</h4>
<p>Les variables numèriques, anomenades també cardinals o quantitatives, són variables que representen nombres en els seus valors. Hi ha dos tipus de variables numèriques:</p>
<p>• Les numèriques contínues accepten decimals.</p>
<p>• Les numèriques discretes no accepten decimals.</p>
<p>Per defecte, si una variable conté nombres ens crearà un vector numèric, també anomenat double. Per crear un vector enter ho podem fer de dues maneres diferents:</p>
<pre class="r"><code>enter1 &lt;- c(4L, 8L, 15L, 16L, 23L, 42L)
typeof(enter1)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>La lletra L darrera del número determina que és un número enter, és a dir, sense decimal.</p>
<pre class="r"><code>enter2 &lt;- as.integer(c(4, 8, 15, 16, 23, 42))
typeof(enter2)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>Utilitzant la funció as.integer li estem dient a R que aquests números son enters, és a dir, una variable numèrica discreta.</p>
<p>Aquesta, en canvi, és una variable numèrica continua.</p>
<pre class="r"><code>temp_2020 &lt;- c(10.3, 11.4, 15.7, 17.2, 20.8, 24.3, 27.4, 30.2, 26.5, 20.2, 16.5, 13.2)
class(temp_2020)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>A l’hora de fer operacions amb un vector numèric o enter, podem fer dues coses:</p>
<p>• Fer operacions d’un vector amb un nombre.</p>
<pre class="r"><code>3 * c(1, 3, 6)</code></pre>
<pre><code>## [1]  3  9 18</code></pre>
<p>• Fer operacions entre dos vectors d’igual longitud.</p>
<pre class="r"><code>c(1, 3, 6) * c(1, 3, 6)</code></pre>
<pre><code>## [1]  1  9 36</code></pre>
<p>• En canvi, en operacions amb vectors de diferent longitud ens donarà un avís.</p>
<pre class="r"><code>c(1, 3, 6) * c(1, 3)</code></pre>
<pre><code>## Warning in c(1, 3, 6) * c(1, 3): longer object length is not a multiple
## of shorter object length</code></pre>
<pre><code>## [1] 1 9 6</code></pre>
</div>
</div>
<div id="funcions-per-obtenir-informació-dels-objectes-i-de-les-variables-a-r." class="section level3">
<h3>Funcions per obtenir informació dels objectes i de les variables a R.</h3>
<p>Utilitzem l’anterior data.frame:</p>
<pre class="r"><code>wb &lt;- data.frame(country = c(&quot;Antigua and Barbuda&quot;, &quot;Belize&quot;, &quot;Costa Rica&quot;, &quot;Dominica&quot;, &quot;Dominican Republic&quot;,
                             &quot;El Salvador&quot;, &quot;Guyana&quot;, &quot;Guatemala&quot;, &quot;Haiti&quot;, &quot;Honduras&quot;, &quot;Jamaica&quot;, &quot;Nicaragua&quot;, 
                             &quot;Panama&quot;, &quot;Surinam&quot;, &quot;Trinidad and Tobago&quot;), 
                 income = factor(c(&quot;high&quot;, &quot;upper-middle&quot;, &quot;upper-middle&quot;,&quot;upper-middle&quot;, &quot;upper-middle&quot;, 
                                   &quot;lower-middle&quot;, &quot;upper-middle&quot;, &quot;upper-middle&quot;,&quot;low&quot;, &quot;lower-middle&quot;, &quot;upper-middle&quot;,
                                   &quot;lower-middle&quot;, &quot;high&quot;, &quot;upper-middle&quot;, &quot;high&quot;)),
                 stringsAsFactors = FALSE)</code></pre>
<p>Carreguem la llibreria tidyverse que és útil per l’observació, ordenació i transformació de dades:</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<p>Utilitzem la funció class() sobre les variables:</p>
<pre class="r"><code>class(wb$income) #### Es ordinal</code></pre>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<pre class="r"><code>class(wb$country) #### Es nominal</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Utilitzem la funció glimpse() sobre la base de dades i les variables:</p>
<pre class="r"><code>glimpse(wb)</code></pre>
<pre><code>## Rows: 15
## Columns: 2
## $ country &lt;chr&gt; &quot;Antigua and Barbuda&quot;, &quot;Belize&quot;, &quot;Costa Rica&quot;, &quot;Domi...
## $ income  &lt;fct&gt; high, upper-middle, upper-middle, upper-middle, uppe...</code></pre>
<p>Ens dona informació de les fileres (número de casos), quantes variables (columnes) tenim i quin tipus son (character and factor).</p>
<pre class="r"><code>glimpse(wb$country)</code></pre>
<pre><code>##  chr [1:15] &quot;Antigua and Barbuda&quot; &quot;Belize&quot; &quot;Costa Rica&quot; &quot;Dominica&quot; ...</code></pre>
<p>Ens diu que és un vector de caràcter que ocupa les posicions del 1 al 15 de casos i ens assenyalar els primers noms.</p>
<pre class="r"><code>glimpse(wb$income)</code></pre>
<pre><code>##  Factor w/ 4 levels &quot;high&quot;,&quot;low&quot;,&quot;lower-middle&quot;,..: 1 4 4 4 4 3 4 4 2 3 ...</code></pre>
<p>Ens diu que es un factor ordinal amb 4 nivells: high, low, lower-middle i upper-middle.</p>
<p>Utilitzem la funció attributes() sobre la base de dades i les variables:</p>
<pre class="r"><code>attributes(wb)</code></pre>
<pre><code>## $names
## [1] &quot;country&quot; &quot;income&quot; 
## 
## $class
## [1] &quot;data.frame&quot;
## 
## $row.names
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15</code></pre>
<p>Ens diu el nom de les dues variables de la base de dades, allò que és el nostre objecte (una base de dades o data.frame) i el número de casos (15).</p>
<pre class="r"><code>attributes(wb$country)</code></pre>
<pre><code>## NULL</code></pre>
<p>No funciona amb variables qualitatives nominals.</p>
<pre class="r"><code>attributes(wb$income)</code></pre>
<pre><code>## $levels
## [1] &quot;high&quot;         &quot;low&quot;          &quot;lower-middle&quot; &quot;upper-middle&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<p>En canvi, amb variables qualitatives ordinals, sí: ens diu les categories de la variable i la classe d’objecte que és: un factor.</p>
<p>Fem el mateix que hem fet amb la funció unclass():</p>
<pre class="r"><code>unclass(wb)</code></pre>
<pre><code>## $country
##  [1] &quot;Antigua and Barbuda&quot; &quot;Belize&quot;              &quot;Costa Rica&quot;         
##  [4] &quot;Dominica&quot;            &quot;Dominican Republic&quot;  &quot;El Salvador&quot;        
##  [7] &quot;Guyana&quot;              &quot;Guatemala&quot;           &quot;Haiti&quot;              
## [10] &quot;Honduras&quot;            &quot;Jamaica&quot;             &quot;Nicaragua&quot;          
## [13] &quot;Panama&quot;              &quot;Surinam&quot;             &quot;Trinidad and Tobago&quot;
## 
## $income
##  [1] high         upper-middle upper-middle upper-middle upper-middle
##  [6] lower-middle upper-middle upper-middle low          lower-middle
## [11] upper-middle lower-middle high         upper-middle high        
## Levels: high low lower-middle upper-middle
## 
## attr(,&quot;row.names&quot;)
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15</code></pre>
<p>Ens dona tota la informació del data.frame: categories de la primera variable (country) i de la segona (income) i el número total de casos (15).</p>
<pre class="r"><code>unclass(wb$country)</code></pre>
<pre><code>##  [1] &quot;Antigua and Barbuda&quot; &quot;Belize&quot;              &quot;Costa Rica&quot;         
##  [4] &quot;Dominica&quot;            &quot;Dominican Republic&quot;  &quot;El Salvador&quot;        
##  [7] &quot;Guyana&quot;              &quot;Guatemala&quot;           &quot;Haiti&quot;              
## [10] &quot;Honduras&quot;            &quot;Jamaica&quot;             &quot;Nicaragua&quot;          
## [13] &quot;Panama&quot;              &quot;Surinam&quot;             &quot;Trinidad and Tobago&quot;</code></pre>
<p>Ens dona totes les categories de la variable nominal country.</p>
<pre class="r"><code>unclass(wb$income)</code></pre>
<pre><code>##  [1] 1 4 4 4 4 3 4 4 2 3 4 3 1 4 1
## attr(,&quot;levels&quot;)
## [1] &quot;high&quot;         &quot;low&quot;          &quot;lower-middle&quot; &quot;upper-middle&quot;</code></pre>
<p>Ens dona els nivells o categories ordinals i com s’ordenen en el total de casos.</p>
<p>Comprovem això amb dades reals. Utilitzarem la base de dades de la darrer enquesta preelectoral del CEO (REO 992)</p>
<div id="enquesta-preelectoral-2021.-centre-destudis-dopinió.-extreta-de-ttpsceo.gencat.catcabarometredetallindex.htmlid7908" class="section level5">
<h5>Enquesta preelectoral 2021. Centre d’Estudis d’Opinió. Extreta de ttps://ceo.gencat.cat/ca/barometre/detall/index.html?id=7908</h5>
<p>Carreguem la library (readr) per poder obrir els dos arxius que tenen diferent format.</p>
<pre class="r"><code>library(readr)</code></pre>
<p>Carreguem també la library(tidyverse) per poder obrir funcions d’exploració de dades:</p>
<pre class="r"><code>library(tidyverse)
library(readr)</code></pre>
<p>Carreguem el de la base de dades de l’enquesta del CEO:</p>
<pre class="r"><code>ceo &lt;- read.csv(&quot;Microdades anonimitzades -992.csv&quot;, sep = &quot;;&quot;, dec = &quot;.&quot;, header = TRUE, encoding = &quot;UTF-8&quot;)</code></pre>
<p>Apliquem les funcions analitzades anteriorment</p>
<pre class="r"><code>class(ceo)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>Amb class(), el programa R ens diu que estem davant una llista: que és un objecte format per diferents vectors de diferent tipus.</p>
<pre class="r"><code>glimpse(ceo)</code></pre>
<pre><code>## Rows: 1,100
## Columns: 130
## $ X.U.FEFF.PONDERA         &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ ORDRE_REVISADA           &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...
## $ ANY                      &lt;int&gt; 2021, 2021, 2021, 2021, 2021, 2021,...
## $ MES                      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ DIA                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_INI                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_FIN                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ DURADA                   &lt;int&gt; 571, 775, 748, 933, 983, 1104, 1438...
## $ TIP_TEL                  &lt;chr&gt; &quot;Trucada a telèfon mòbil&quot;, &quot;Trucada...
## $ ENQUESTADOR_CODI         &lt;int&gt; 98, 98, 629, 629, 852, 98, 629, 98,...
## $ ENQUESTADOR_SEXE         &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ ENQUESTADOR_EDAT         &lt;int&gt; 42, 42, 58, 58, 63, 42, 58, 42, 58,...
## $ ENQUESTADOR_ESTUDIS      &lt;chr&gt; &quot;ESO, EGB, FP1, Batxillerat element...
## $ ENQUESTADOR_NACIONALITAT &lt;chr&gt; &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;E...
## $ NUM_QUEST_CAMP           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ PROVINCIA                &lt;chr&gt; &quot;BARCELONA&quot;, &quot;BARCELONA&quot;, &quot;TARRAGON...
## $ HABITAT                  &lt;chr&gt; &quot;De 10.001 a 50.000&quot;, &quot;De 150.001 a...
## $ MUNICIPI                 &lt;chr&gt; &quot; &quot;, &quot;HOSPITALET DE LLOBREGAT, L&#39;&quot;,...
## $ COMARCA                  &lt;chr&gt; &quot;Baix Llobregat&quot;, &quot;Barcelonès&quot;, &quot;Ta...
## $ DOMICILI_PARTICULAR      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ LLENGUA_ENQUESTA         &lt;chr&gt; &quot;Català&quot;, &quot;Castellà&quot;, &quot;Català&quot;, &quot;Ca...
## $ LLENGUA_SISTEMA          &lt;chr&gt; &quot;Català&quot;, &quot;Castellà&quot;, &quot;Català&quot;, &quot;Ca...
## $ PADRO                    &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ CIUTADANIA               &lt;chr&gt; &quot;Sí, tinc la ciutadania (espanyola)...
## $ SEXE                     &lt;chr&gt; &quot;Home&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ EDAT                     &lt;int&gt; 61, 62, 58, 83, 25, 70, 44, 36, 49,...
## $ EDAT_GR                  &lt;chr&gt; &quot;De 50 a 64 anys&quot;, &quot;De 50 a 64 anys...
## $ EDAT_CEO                 &lt;chr&gt; &quot;De 60 a 64 anys&quot;, &quot;De 60 a 64 anys...
## $ US_TELEFON_FIX           &lt;chr&gt; &quot;Sí, en fa ús&quot;, &quot;No&quot;, &quot;Sí, en fa ús...
## $ LLOC_NAIX                &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ HORA_PRIMERA_PREGUNTA    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ CIRCUIT_992_1            &lt;int&gt; 1, 2, 1, 1, 2, 1, 1, 1, 2, 1, 1, 2,...
## $ P1                       &lt;chr&gt; &quot;Dolenta&quot;, &quot;Molt dolenta&quot;, &quot;Molt do...
## $ P2                       &lt;chr&gt; &quot;Molt dolenta&quot;, &quot;Bona&quot;, &quot;Dolenta&quot;, ...
## $ P3                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Poc&quot;, &quot;Bastant&quot;, &quot;Poc&quot;,...
## $ P4                       &lt;chr&gt; &quot;4&quot;, &quot;5&quot;, &quot;5&quot;, &quot;6&quot;, &quot;5&quot;, &quot;No ho sap...
## $ P5                       &lt;chr&gt; &quot;CUP&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P5_LITERALS              &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;unidas podemos...
## $ P6                       &lt;chr&gt; &quot;Esquerra&quot;, &quot;Esquerra&quot;, &quot;Esquerra&quot;,...
## $ P7                       &lt;chr&gt; &quot;Màxim catalanisme&quot;, &quot;7&quot;, &quot;5&quot;, &quot;Màx...
## $ P8                       &lt;chr&gt; &quot;Un nivell insuficient d’autonomia&quot;...
## $ P9                       &lt;chr&gt; &quot;Un Estat independent&quot;, &quot;Una regió ...
## $ P10                      &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P11                      &lt;chr&gt; &quot;Amb tota seguretat aniré a votar&quot;,...
## $ P12_1                    &lt;chr&gt; &quot;La ideologia&quot;, &quot;El líder/cap de ll...
## $ P12_2                    &lt;chr&gt; &quot;Les propostes electorals&quot;, &quot;Les pr...
## $ P13_A                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;5&quot;, &quot;7&quot;, &quot;...
## $ P13_B                    &lt;chr&gt; &quot;8&quot;, &quot;Ho té molt en compte&quot;, &quot;Ho té...
## $ P13_C                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;Ho té molt...
## $ P13_D                    &lt;chr&gt; &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;Ho té molt en compt...
## $ P13_E                    &lt;chr&gt; &quot;5&quot;, &quot;8&quot;, &quot;7&quot;, &quot;No ho sap&quot;, &quot;9&quot;, &quot;H...
## $ P14                      &lt;chr&gt; &quot;Abans que comenci la campanya&quot;, &quot;A...
## $ P15                      &lt;chr&gt; &quot;CUP&quot;, &quot;No ho sap&quot;, &quot;PSC&quot;, &quot;Junts p...
## $ P15_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;en comu podem&quot;...
## $ P16_1                    &lt;chr&gt; &quot; &quot;, &quot;ERC&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_2                    &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem&quot;, &quot; &quot;...
## $ P16_3                    &lt;chr&gt; &quot; &quot;, &quot;Altres partits&quot;, &quot; &quot;, &quot; &quot;, &quot; ...
## $ P16_4                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;verdes&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P17                      &lt;chr&gt; &quot;ERC&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P17_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;junts per cata...
## $ P18_A                    &lt;chr&gt; &quot;Estic segur/a que vaig votar&quot;, &quot;Es...
## $ P18_B                    &lt;chr&gt; &quot;CUP&quot;, &quot;No ho recorda&quot;, &quot;PSC&quot;, &quot;Jun...
## $ P18_B_LITERALS           &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;podemos&quot;, &quot;-&quot;,...
## $ P19A_A_FERNANDEZ         &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No ho sap&quot;, &quot;No&quot;...
## $ P19B_A_FERNANDEZ         &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot;4&quot;, &quot; &quot;, &quot; ...
## $ P19A_L_BORRAS            &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_L_BORRAS            &lt;chr&gt; &quot;8&quot;, &quot;No ho sap&quot;, &quot;4&quot;, &quot;8&quot;, &quot;7&quot;, &quot;N...
## $ P19A_P_ARAGONES          &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_P_ARAGONES          &lt;chr&gt; &quot;6&quot;, &quot;No ho sap&quot;, &quot;6&quot;, &quot;7&quot;, &quot;6&quot;, &quot;N...
## $ P19A_S_ILLA              &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_S_ILLA              &lt;chr&gt; &quot;5&quot;, &quot;Excel·lent&quot;, &quot;7&quot;, &quot;5&quot;, &quot;7&quot;, &quot;...
## $ P19A_J_ALBIACH           &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_J_ALBIACH           &lt;chr&gt; &quot;7&quot;, &quot; &quot;, &quot; &quot;, &quot;No ho sap&quot;, &quot; &quot;, &quot; ...
## $ P19A_C_CARRIZOSA         &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_C_CARRIZOSA         &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot;4&quot;, &quot;Molt d...
## $ P19A_D_SABATER           &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_D_SABATER           &lt;chr&gt; &quot;Excel·lent&quot;, &quot;5&quot;, &quot; &quot;, &quot;7&quot;, &quot; &quot;, &quot;...
## $ P19A_I_GARRIGA           &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_I_GARRIGA           &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; ...
## $ P19A_A_CHACON            &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_A_CHACON            &lt;chr&gt; &quot;5&quot;, &quot; &quot;, &quot;5&quot;, &quot;No ho sap&quot;, &quot;5&quot;, &quot; ...
## $ P20                      &lt;chr&gt; &quot; &quot;, &quot;1970&quot;, &quot;1966&quot;, &quot; &quot;, &quot; &quot;, &quot;196...
## $ P21                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ P22                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ P23                      &lt;chr&gt; &quot;Catolicisme&quot;, &quot;Catolicisme&quot;, &quot;Cato...
## $ P23_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P24                      &lt;chr&gt; &quot;No, mai&quot;, &quot;No, mai&quot;, &quot;Sí, algun co...
## $ P25                      &lt;chr&gt; &quot;Treballa&quot;, &quot;No treballa&quot;, &quot;Treball...
## $ P26                      &lt;chr&gt; &quot; &quot;, &quot;Aturat /ada i busca la primer...
## $ P27                      &lt;chr&gt; &quot;Assalariat/ada indefinit/ida&quot;, &quot; &quot;...
## $ P28                      &lt;chr&gt; &quot;Sector privat&quot;, &quot; &quot;, &quot;Sector públi...
## $ P29                      &lt;chr&gt; &quot;Batxillerat, BUP, COU, Batxillerat...
## $ P29_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P30                      &lt;chr&gt; &quot;Casat/ada&quot;, &quot;Divorciat/ada&quot;, &quot;Casa...
## $ P31                      &lt;int&gt; 2, 2, 2, 2, 0, 1, 0, 2, 0, 0, 3, 8,...
## $ P32                      &lt;chr&gt; &quot;Només català/ana&quot;, &quot;Tan espanyol/a...
## $ P33                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Castel...
## $ P33_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P34                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Castel...
## $ P34_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;GALLEGO -...
## $ P35                      &lt;chr&gt; &quot;Classe mitjana&quot;, &quot; &quot;, &quot;Classe mitj...
## $ P36                      &lt;chr&gt; &quot; &quot;, &quot;Classe treballadora baixa&quot;, &quot;...
## $ P37                      &lt;int&gt; 3, 1, 3, 5, 4, 2, 1, 4, 2, 2, 2, 2,...
## $ P38                      &lt;chr&gt; &quot;Entre 2.001€ i 3.000€&quot;, &quot;Inferiors...
## $ P39                      &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P40_1                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;Mobilitat reduïda&quot;,...
## $ P40_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_4                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ P40_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ HORA_ÚLTIMA_PREGUNTA     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ E1                       &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ E2                       &lt;chr&gt; &quot;Mai&quot;, &quot;Mai&quot;, &quot;Mai&quot;, &quot;Quasi mai&quot;, &quot;...
## $ E3                       &lt;chr&gt; &quot;Gens&quot;, &quot;Gens&quot;, &quot;Gens&quot;, &quot;Poc&quot;, &quot;Gen...
## $ E4                       &lt;chr&gt; &quot;Molt&quot;, &quot;Molt&quot;, &quot;Molt&quot;, &quot;Bastant&quot;, ...
## $ E5                       &lt;chr&gt; &quot;Molt&quot;, &quot;Molt&quot;, &quot;Molt&quot;, &quot;Bastant&quot;, ...
## $ E6                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Bast...
## $ SUPERVISADA              &lt;chr&gt; &quot;Sí&quot;, &quot; &quot;, &quot;Sí&quot;, &quot; &quot;, &quot; &quot;, &quot;Sí&quot;, &quot; ...
## $ P5R                      &lt;chr&gt; &quot;CUP&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P15R                     &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P16_1R                   &lt;chr&gt; &quot; &quot;, &quot;ERC&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_2R                   &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem&quot;, &quot; &quot;...
## $ P16_3R                   &lt;chr&gt; &quot; &quot;, &quot;Altres, blanc&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_4R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P17R                     &lt;chr&gt; &quot;ERC&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P18R                     &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P18_CENS                 &lt;chr&gt; &quot;CUP&quot;, &quot;No ho recorda&quot;, &quot;PSC&quot;, &quot;Jun...
## $ P18R_CENS                &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P16R                     &lt;chr&gt; &quot; &quot;, &quot;ERC / Altres&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;,...</code></pre>
<p>Si utilitzem glimpse() podem veure com és una base de dades amb 130 variables i 1100 casos. A més, podem veure els diferents tipus de variables que tenim. Aquesta funció ens resumeix diferents caràcterístiques d’aquest data.frame.</p>
<p>Aquestes dues funcions ens donen tota la informació de cadascuna de les variables però ens la dona de cop i és poc útil. És millor analitzar variable a variable.</p>
<p>Per últim, si volem que R ens ensenyi la totalitat de la base de dades ben ordenada podem realitzar la funció View():</p>
<pre class="r"><code>View(ceo)</code></pre>
<p>Ens obre una pestanya on ens indica el nom de totes les variables, el tipus que son i les seves categories o valors. Com sabem, aquestes funcions també es poden aplicar variable a variable. De fet, és més útil que en el total de la base de dades.</p>
<p>La funció names ens dona el nom de totes les variables de la base de dades analitzada.</p>
<pre class="r"><code>names(ceo)</code></pre>
<pre><code>##   [1] &quot;X.U.FEFF.PONDERA&quot;         &quot;ORDRE_REVISADA&quot;          
##   [3] &quot;ANY&quot;                      &quot;MES&quot;                     
##   [5] &quot;DIA&quot;                      &quot;HOR_INI&quot;                 
##   [7] &quot;HOR_FIN&quot;                  &quot;DURADA&quot;                  
##   [9] &quot;TIP_TEL&quot;                  &quot;ENQUESTADOR_CODI&quot;        
##  [11] &quot;ENQUESTADOR_SEXE&quot;         &quot;ENQUESTADOR_EDAT&quot;        
##  [13] &quot;ENQUESTADOR_ESTUDIS&quot;      &quot;ENQUESTADOR_NACIONALITAT&quot;
##  [15] &quot;NUM_QUEST_CAMP&quot;           &quot;PROVINCIA&quot;               
##  [17] &quot;HABITAT&quot;                  &quot;MUNICIPI&quot;                
##  [19] &quot;COMARCA&quot;                  &quot;DOMICILI_PARTICULAR&quot;     
##  [21] &quot;LLENGUA_ENQUESTA&quot;         &quot;LLENGUA_SISTEMA&quot;         
##  [23] &quot;PADRO&quot;                    &quot;CIUTADANIA&quot;              
##  [25] &quot;SEXE&quot;                     &quot;EDAT&quot;                    
##  [27] &quot;EDAT_GR&quot;                  &quot;EDAT_CEO&quot;                
##  [29] &quot;US_TELEFON_FIX&quot;           &quot;LLOC_NAIX&quot;               
##  [31] &quot;HORA_PRIMERA_PREGUNTA&quot;    &quot;CIRCUIT_992_1&quot;           
##  [33] &quot;P1&quot;                       &quot;P2&quot;                      
##  [35] &quot;P3&quot;                       &quot;P4&quot;                      
##  [37] &quot;P5&quot;                       &quot;P5_LITERALS&quot;             
##  [39] &quot;P6&quot;                       &quot;P7&quot;                      
##  [41] &quot;P8&quot;                       &quot;P9&quot;                      
##  [43] &quot;P10&quot;                      &quot;P11&quot;                     
##  [45] &quot;P12_1&quot;                    &quot;P12_2&quot;                   
##  [47] &quot;P13_A&quot;                    &quot;P13_B&quot;                   
##  [49] &quot;P13_C&quot;                    &quot;P13_D&quot;                   
##  [51] &quot;P13_E&quot;                    &quot;P14&quot;                     
##  [53] &quot;P15&quot;                      &quot;P15_LITERALS&quot;            
##  [55] &quot;P16_1&quot;                    &quot;P16_2&quot;                   
##  [57] &quot;P16_3&quot;                    &quot;P16_4&quot;                   
##  [59] &quot;P16_LITERALS&quot;             &quot;P17&quot;                     
##  [61] &quot;P17_LITERALS&quot;             &quot;P18_A&quot;                   
##  [63] &quot;P18_B&quot;                    &quot;P18_B_LITERALS&quot;          
##  [65] &quot;P19A_A_FERNANDEZ&quot;         &quot;P19B_A_FERNANDEZ&quot;        
##  [67] &quot;P19A_L_BORRAS&quot;            &quot;P19B_L_BORRAS&quot;           
##  [69] &quot;P19A_P_ARAGONES&quot;          &quot;P19B_P_ARAGONES&quot;         
##  [71] &quot;P19A_S_ILLA&quot;              &quot;P19B_S_ILLA&quot;             
##  [73] &quot;P19A_J_ALBIACH&quot;           &quot;P19B_J_ALBIACH&quot;          
##  [75] &quot;P19A_C_CARRIZOSA&quot;         &quot;P19B_C_CARRIZOSA&quot;        
##  [77] &quot;P19A_D_SABATER&quot;           &quot;P19B_D_SABATER&quot;          
##  [79] &quot;P19A_I_GARRIGA&quot;           &quot;P19B_I_GARRIGA&quot;          
##  [81] &quot;P19A_A_CHACON&quot;            &quot;P19B_A_CHACON&quot;           
##  [83] &quot;P20&quot;                      &quot;P21&quot;                     
##  [85] &quot;P22&quot;                      &quot;P23&quot;                     
##  [87] &quot;P23_LITERALS&quot;             &quot;P24&quot;                     
##  [89] &quot;P25&quot;                      &quot;P26&quot;                     
##  [91] &quot;P27&quot;                      &quot;P28&quot;                     
##  [93] &quot;P29&quot;                      &quot;P29_LITERALS&quot;            
##  [95] &quot;P30&quot;                      &quot;P31&quot;                     
##  [97] &quot;P32&quot;                      &quot;P33&quot;                     
##  [99] &quot;P33_LITERALS&quot;             &quot;P34&quot;                     
## [101] &quot;P34_LITERALS&quot;             &quot;P35&quot;                     
## [103] &quot;P36&quot;                      &quot;P37&quot;                     
## [105] &quot;P38&quot;                      &quot;P39&quot;                     
## [107] &quot;P40_1&quot;                    &quot;P40_2&quot;                   
## [109] &quot;P40_3&quot;                    &quot;P40_4&quot;                   
## [111] &quot;P40_LITERALS&quot;             &quot;HORA_ÚLTIMA_PREGUNTA&quot;    
## [113] &quot;E1&quot;                       &quot;E2&quot;                      
## [115] &quot;E3&quot;                       &quot;E4&quot;                      
## [117] &quot;E5&quot;                       &quot;E6&quot;                      
## [119] &quot;SUPERVISADA&quot;              &quot;P5R&quot;                     
## [121] &quot;P15R&quot;                     &quot;P16_1R&quot;                  
## [123] &quot;P16_2R&quot;                   &quot;P16_3R&quot;                  
## [125] &quot;P16_4R&quot;                   &quot;P17R&quot;                    
## [127] &quot;P18R&quot;                     &quot;P18_CENS&quot;                
## [129] &quot;P18R_CENS&quot;                &quot;P16R&quot;</code></pre>
<p>Ara busquem les variables més facilment identificables pel seu contngut: ANY, PROVINCIA, SEXE i DIMENSIO.</p>
<pre class="r"><code>glimpse(ceo$ANY)</code></pre>
<pre><code>##  int [1:1100] 2021 2021 2021 2021 2021 2021 2021 2021 2021 2021 ...</code></pre>
<p>La funció glimpse() ens diu que any és una variable númerica que té 1100 casos.</p>
<pre class="r"><code>class(ceo$ANY)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>Ens confirma que és una variable numèrica discreta (integer)</p>
<p>Analitzem la variable EDAT_GR.</p>
<pre class="r"><code>class(ceo$EDAT_GR)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Ens diu que és un caràcter. Recordem que aquesta és una manera d’enmagatzemar a R les variables qualitatives. Si la convertim en un factor i li apliquem la funció levels podem saber quantes i quines son les categories d’aquesta variable.</p>
<pre class="r"><code>ceo$EDAT_GR &lt;- as.factor(ceo$EDAT_GR)
attributes(ceo$EDAT_GR)</code></pre>
<pre><code>## $levels
## [1] &quot;24 anys o menys&quot; &quot;65 anys o més&quot;   &quot;De 25 a 34 anys&quot;
## [4] &quot;De 35 a 49 anys&quot; &quot;De 50 a 64 anys&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<p>Ens diu que hi ha 5: “24 anys o menys”, “De 25 a 34 anys”, “De 35 a 49 anys”, “De 50 a 64 anys”, “65 anys o més”. És una variable qualitativa ordinal.</p>
<pre class="r"><code>ceo$SEXE &lt;- as.factor(ceo$SEXE)
levels(ceo$SEXE)</code></pre>
<pre><code>## [1] &quot;Dona&quot; &quot;Home&quot;</code></pre>
<pre class="r"><code>glimpse(ceo$SEXE)</code></pre>
<pre><code>##  Factor w/ 2 levels &quot;Dona&quot;,&quot;Home&quot;: 2 1 1 1 1 1 2 1 1 2 ...</code></pre>
<p>La funció glimpse() ens dona la mateixa informació que les altres funcions però concentrada en un comandament. Ens diu que és un factor i que té dos categories: Home i Dona.</p>
<pre class="r"><code>attributes(ceo$SEXE)</code></pre>
<pre><code>## $levels
## [1] &quot;Dona&quot; &quot;Home&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<p>Ens dona la mateixa informació que glimpse()</p>
<p>Realitzeu el mateix amb PROVINCIA I HABITAT.</p>
</div>
<div id="provincia" class="section level4">
<h4>Provincia</h4>
<pre class="r"><code>glimpse(ceo$PROVINCIA)</code></pre>
<pre><code>##  chr [1:1100] &quot;BARCELONA&quot; &quot;BARCELONA&quot; &quot;TARRAGONA&quot; &quot;BARCELONA&quot; ...</code></pre>
<pre class="r"><code>class(ceo$PROVINCIA)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>ceo$PROVINCIA &lt;- as.factor(ceo$PROVINCIA)
levels(ceo$PROVINCIA)</code></pre>
<pre><code>## [1] &quot;BARCELONA&quot; &quot;GIRONA&quot;    &quot;LLEIDA&quot;    &quot;TARRAGONA&quot;</code></pre>
<pre class="r"><code>attributes(ceo$PROVINCIA)</code></pre>
<pre><code>## $levels
## [1] &quot;BARCELONA&quot; &quot;GIRONA&quot;    &quot;LLEIDA&quot;    &quot;TARRAGONA&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
</div>
<div id="dimensió" class="section level4">
<h4>Dimensió</h4>
<pre class="r"><code>glimpse(ceo$HABITAT)</code></pre>
<pre><code>##  chr [1:1100] &quot;De 10.001 a 50.000&quot; &quot;De 150.001 a 1.000.000&quot; ...</code></pre>
<pre class="r"><code>class(ceo$HABITAT)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>ceo$HABITAT &lt;- as.factor(ceo$HABITAT)
levels(ceo$HABITAT)</code></pre>
<pre><code>## [1] &quot;De 10.001 a 50.000&quot;     &quot;De 150.001 a 1.000.000&quot;
## [3] &quot;De 2.001 a 10.000&quot;      &quot;De 50.001 a 150.000&quot;   
## [5] &quot;Menor o igual a 2.000&quot;  &quot;Més de 1.000.000&quot;</code></pre>
<pre class="r"><code>attributes(ceo$HABITAT)</code></pre>
<pre><code>## $levels
## [1] &quot;De 10.001 a 50.000&quot;     &quot;De 150.001 a 1.000.000&quot;
## [3] &quot;De 2.001 a 10.000&quot;      &quot;De 50.001 a 150.000&quot;   
## [5] &quot;Menor o igual a 2.000&quot;  &quot;Més de 1.000.000&quot;      
## 
## $class
## [1] &quot;factor&quot;</code></pre>
</div>
<div id="exercici-a-classe-iv.-exercici-a-classe-iv." class="section level4">
<h4>Exercici a classe (IV). Exercici a classe (IV).</h4>
<p>Mireu el llibre de codis de l’enquesta del ICPS (adjunt al material de la sessió) i identifiqueu diferents tipus de variables: quantitatives i qualitatives. Analitzeu-les amb les funcions explicades. Cal que trobeu un variable quantitativa i tres variables qualitatives: nominal, dicotòmica i ordinal.</p>
</div>
</div>
<div id="recodificació-de-variables-en-r." class="section level3">
<h3>Recodificació de variables en R.</h3>
<p>La recodificació de variables és la transformació d’un determinat tipus de variable en una d’un tipus diferent.</p>
<p>Comencem creant una nova base de dades,</p>
<p>• Creem dos vector amb informació: un caràcter i un vector numèric:</p>
<pre class="r"><code>country &lt;- c(&quot;Armenia&quot;, &quot;Austria&quot;,&quot;Benin&quot;,&quot;Bolivia&quot;,&quot;Brasil&quot;,&quot;Colombia&quot;,&quot;El Salvador&quot;,
             &quot;Etiopia&quot;,&quot;Honduras&quot;,&quot;Indonesia&quot;)
class(country) #Ens dona informació sobre que és un caràcter (variable qualitativa nominal)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>poverty &lt;- c(1.90,0.7,49.6,6.4,3.4,4.5,1.9,26.7,16.2,7.2)
class(poverty) #Ens diu que és un vector numèric (variable quantitativa continua)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>unemployment &lt;- c(13.5, 5.2, 45.4,25.6,17.8,21.3,63.4,44.3,52.3,10.4)
class(unemployment)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>population &lt;- c(3001643, 8935112, 12114193, 11633371, 212216052, 51049498, 6704121, 98665000, 9368926, 259903244)
class(population)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>gini &lt;- c(34.4, 29.7, 47.8, 42.2, 53.9, 50.4, 38.6, 35.0, 52.1, 37.8)
class(gini)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>pibcap &lt;- c(4732,50552,1259,2579,11121,7838,3572,602,2241,4450)
class(pibcap)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Totes les dades s’han extret de la pàgina web del Banc Mundial. Execepte la primer, tota la resta de variables son numèriques.</p>
<p>• Creem la base de dades unint els dos vectors amb la funció data.frame():</p>
<pre class="r"><code>pov &lt;- data.frame(country, poverty, unemployment, population, gini, pibcap)
View(pov) #Visualitzem la taula.
class(pov) #Ens diu que es un data.frame.</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<pre class="r"><code>glimpse(pov) #Ens diu que tenim un data.frame amb 10 fileres i dos columnes de variables una en format caràcter i l&#39;altra numèric.</code></pre>
<pre><code>## Rows: 10
## Columns: 6
## $ country      &lt;chr&gt; &quot;Armenia&quot;, &quot;Austria&quot;, &quot;Benin&quot;, &quot;Bolivia&quot;, &quot;Bras...
## $ poverty      &lt;dbl&gt; 1.9, 0.7, 49.6, 6.4, 3.4, 4.5, 1.9, 26.7, 16.2,...
## $ unemployment &lt;dbl&gt; 13.5, 5.2, 45.4, 25.6, 17.8, 21.3, 63.4, 44.3, ...
## $ population   &lt;dbl&gt; 3001643, 8935112, 12114193, 11633371, 212216052...
## $ gini         &lt;dbl&gt; 34.4, 29.7, 47.8, 42.2, 53.9, 50.4, 38.6, 35.0,...
## $ pibcap       &lt;dbl&gt; 4732, 50552, 1259, 2579, 11121, 7838, 3572, 602...</code></pre>
<p>Fem les comprovacions corresponents en el data.frame.</p>
<pre class="r"><code>pov$country == &quot;Austria&quot; #Si li preguntem a R si existeix el cas Austria a la base de dades noves ens diu que és la segona opció amb TRUE.</code></pre>
<pre><code>##  [1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<pre class="r"><code>pov$poverty &gt; 15 #Ens diu que hi ha tres paisos amb una taxa de pobresa superior a 15% (3 TRUE)</code></pre>
<pre><code>##  [1] FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE</code></pre>
<pre class="r"><code>pov$unemployment &gt; 25 #Ens diu que hi ha tres països per sobre de 25% d&#39;atur.</code></pre>
<pre><code>##  [1] FALSE FALSE  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE FALSE</code></pre>
<pre class="r"><code>pov$population &lt; 10000000</code></pre>
<pre><code>##  [1]  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<pre class="r"><code>pov$gini &gt; 35</code></pre>
<pre><code>##  [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE</code></pre>
<pre class="r"><code>pov$pibcap &gt; 25000</code></pre>
<pre><code>##  [1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<p>Existeixen diversos tipus de recodificació de variables. Tanmateix, cal fer dos passos previament:</p>
<ol style="list-style-type: decimal">
<li>Carregar la llibreria tidyverse.</li>
<li>Quan recodifiquem variables és útil posar algun distintiu en el nom de la nova variable que ens recordi que ha estat recodificada. L’ús d’una _R al final o del sufix _rec ens pot ajudar.</li>
</ol>
<div id="recodificar-variables-continues-a-categòriques-i-el-mètode-if_elfe" class="section level4">
<h4>1. Recodificar variables continues a categòriques I: el mètode if_elfe()</h4>
<p>Seleccionem el nom de la variable que volem recodificar passant-la de numèrica a qualitativa i apliquem la funció if_else().</p>
<pre class="r"><code>pov$unemployment_rec &lt;- if_else(pov$unemployment &gt;= 25, &quot;Alt&quot;, &quot;Baix&quot;)

pov$unemployment_rec2 &lt;- if_else(pov$unemployment &gt;= mean(pov$unemployment), &quot;Per sobre mitjana&quot;, &quot;Per sota mitjana&quot;)
table(pov$unemployment_rec2)</code></pre>
<pre><code>## 
## Per sobre mitjana  Per sota mitjana 
##                 4                 6</code></pre>
<pre class="r"><code>summary(pov$unemployment)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    5.20   14.57   23.45   29.92   45.12   63.40</code></pre>
<p>Amb la funció if_else hem dit que tots aquells casos que la seva taxa d’atur sigui major de 25% (més gran o igual que) Es nomenaran a partir d’ara “Alt” i que els restans seran “Baix”. El resultat és el següent:</p>
<pre class="r"><code>View(pov$unemployment_rec) #Mirem com ha quedat la nova base de dades amb la recodificació feta.
table(pov$unemployment_rec)</code></pre>
<pre><code>## 
##  Alt Baix 
##    5    5</code></pre>
</div>
<div id="recodificar-variables-continues-a-categòriques-ii-el-mètode-case_when" class="section level4">
<h4>2. Recodificar variables continues a categòriques II: el mètode case_when()</h4>
<p>Seleccionem el nom de la variable que volem recodificar passant-la de numèrica a qualitativa. En aquest cas volem transformar la variable pov$poverty que és numèrica continua en una qualitativa ordinal amb tres categories: “Low”,“Medium”,“High”.</p>
<pre class="r"><code>View(pov$unemployment_rec) #Mirem com ha quedat la nova base de dades amb la recodificació feta.
table(pov$unemployment_rec)</code></pre>
<pre><code>## 
##  Alt Baix 
##    5    5</code></pre>
<p>Ens ha transformat la variable poverty en una variable qualitativa ordinal que cal ordenar amb la següent funció.</p>
<pre class="r"><code>pov$poverty_rec &lt;- factor(pov$poverty, order = TRUE, levels = c(&quot;Low&quot;, &quot;Medium&quot;,&quot;High&quot;))
class(pov$poverty) #Si mirem amb la funció class() ja ens diu que tenim una variable qualitativa ordinal (ordered factor)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>En aquest cas transformarem la variable numèrica population en una de qualitativa ordinal també per mitjà de la funció case_when().</p>
<pre class="r"><code>pov$population_rec &lt;- case_when(pov$population &lt; 10000000 ~ &quot;Low size&quot;, between(pov$population, 10000001, 60000000) ~ &quot;Medium Size&quot;, TRUE ~ &quot;Big Size&quot;)
View(pov$population_rec)</code></pre>
</div>
<div id="recodificació-de-variables-continues-a-categòriques-iii-el-mètode-cut." class="section level4">
<h4>3. Recodificació de variables continues a categòriques III: el mètode cut.</h4>
<p>Recodifiquem amb la funció cut(). Aquesta funció és útil per trencar en parts iguals variables numèriques.</p>
<pre class="r"><code>pov$gini_rec &lt;-cut(pov$gini, breaks = 3) #Especifiquem el nombre de talls amb l&#39;argument breaks.
table(pov$gini_rec) #observem la nova distribució de casos amb les noves categories.</code></pre>
<pre><code>## 
## (29.7,37.8] (37.8,45.8] (45.8,53.9] 
##           3           3           4</code></pre>
<p>Tanmateix, aquestes noves categories que son intervals numèrics no ens diuen res i necessitem posar-li un nom.</p>
<pre class="r"><code>pov$gini_rec &lt;-cut(pov$gini, breaks = 3, labels = c(&quot;Nivell baix desigualtat&quot;, &quot;Nivell mig desigualtat&quot;, &quot;Nivell alt desigualtat&quot;))
as.factor(pov$gini_rec)</code></pre>
<pre><code>##  [1] Nivell baix desigualtat Nivell baix desigualtat
##  [3] Nivell alt desigualtat  Nivell mig desigualtat 
##  [5] Nivell alt desigualtat  Nivell alt desigualtat 
##  [7] Nivell mig desigualtat  Nivell baix desigualtat
##  [9] Nivell alt desigualtat  Nivell mig desigualtat 
## 3 Levels: Nivell baix desigualtat ... Nivell alt desigualtat</code></pre>
<pre class="r"><code>table(pov$gini_rec)</code></pre>
<pre><code>## 
## Nivell baix desigualtat  Nivell mig desigualtat  Nivell alt desigualtat 
##                       3                       3                       4</code></pre>
<p>Repetim el procés amb la variable pibcap.</p>
<pre class="r"><code>pov$pibcap_rec &lt;-cut(pov$pibcap, breaks = 3, labels = c(&quot;Baix&quot;, &quot;Mig&quot;, &quot;Alt&quot;))
as.factor(pov$pibcap_rec)</code></pre>
<pre><code>##  [1] Baix Alt  Baix Baix Baix Baix Baix Baix Baix Baix
## Levels: Baix Mig Alt</code></pre>
<pre class="r"><code>table(pov$pibcap_rec)</code></pre>
<pre><code>## 
## Baix  Mig  Alt 
##    9    0    1</code></pre>
<p>També podem fixar els talls nosaltres creant un vector numéric. Ho farem seguint els talls que ens doni summary(). La funció summary() ens resumeix alguns dels estadístics descriptius de la variable numèrica que analitzem.</p>
<pre class="r"><code>summary(pov$unemployment)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    5.20   14.57   23.45   29.92   45.12   63.40</code></pre>
<p>En aquest cas ens dona el primer quartil, la mediana i la mitjana. Marquem els talls: de 0 a 15, de 15 a 30, de 30 a 45, de 45 a 60 i més de 60)</p>
<pre class="r"><code>pov$unemployment_rec3 &lt;-cut(pov$unemployment, breaks = c(0,15,30,45,60))
table(pov$unemployment_rec3)</code></pre>
<pre><code>## 
##  (0,15] (15,30] (30,45] (45,60] 
##       3       3       1       2</code></pre>
</div>
<div id="reodificacio-reduint-categories-amb-corxetes.-de-categòrica-ordinal-a-dicotòmica" class="section level4">
<h4>4. Reodificacio reduint categories amb corxetes. De categòrica ordinal a dicotòmica:</h4>
<p>Carreguem una nova base de dades sobre participació en diferents democràcies. Aquí teniu la seva cita:</p>
<pre class="r"><code>idea &lt;- read.csv(&quot;idea_turnout.csv&quot;, sep = &quot;;&quot;, dec = &quot;,&quot;, header = TRUE)
as.tibble(idea)</code></pre>
<pre><code>## # A tibble: 17 x 3
##    Election.type  Year Participacio
##    &lt;chr&gt;         &lt;int&gt;        &lt;dbl&gt;
##  1 Parliamentary  2017         46.8
##  2 Parliamentary  2013         53.3
##  3 Parliamentary  2009         50.8
##  4 Parliamentary  2005         48.7
##  5 Parliamentary  2001         55.0
##  6 Parliamentary  1997         72.6
##  7 Parliamentary  1996         89.1
##  8 Parliamentary  1992         91.5
##  9 Parliamentary  1991         98.9
## 10 Parliamentary  2019         68.3
## 11 Parliamentary  2015         65.6
## 12 Parliamentary  2011         74.1
## 13 Parliamentary  2009         75.3
## 14 Parliamentary  2005         80.4
## 15 Parliamentary  2001         81.6
## 16 Parliamentary  1997         81.6
## 17 Parliamentary  1993         80.8</code></pre>
<pre class="r"><code>glimpse(idea)</code></pre>
<pre><code>## Rows: 17
## Columns: 3
## $ Election.type &lt;chr&gt; &quot;Parliamentary&quot;, &quot;Parliamentary&quot;, &quot;Parliamenta...
## $ Year          &lt;int&gt; 2017, 2013, 2009, 2005, 2001, 1997, 1996, 1992...
## $ Participacio  &lt;dbl&gt; 46.76, 53.31, 50.77, 48.73, 54.95, 72.56, 89.0...</code></pre>
<div id="idea-international.-voter-turnout-database.-extreta-de-httpswww.idea.intdata-toolsdatavoter-turnout" class="section level5">
<h5>IDEA International. Voter Turnout Database. Extreta de <a href="https://www.idea.int/data-tools/data/voter-turnout" class="uri">https://www.idea.int/data-tools/data/voter-turnout</a></h5>
<p>Ens interessa recodificar en quatre categories diferent la variable voter.turnout (participació electoral)</p>
<pre class="r"><code>idea$participacio_rec &lt;- cut(idea$Participacio, breaks = 4, labels = c(&quot;Baixa&quot;, &quot;Mitja-baixa&quot;, &quot;Mitja-alta&quot;, &quot;Alta&quot;))
table(idea$participacio_rec)</code></pre>
<pre><code>## 
##       Baixa Mitja-baixa  Mitja-alta        Alta 
##           5           3           6           3</code></pre>
<p>Ara volem passar a dos categories només.</p>
<pre class="r"><code>idea$participacio_rec2[idea$participacio_rec == &quot;Baixa&quot; | idea$participacio_rec == &quot;Mitja-baixa&quot;] &lt;- &quot;Baixa&quot;
idea$participacio_rec2[idea$participacio_rec == &quot;Mitja-alta&quot; | idea$participacio_rec == &quot;Alta&quot;] &lt;- &quot;Alta&quot;
table(idea$participacio_rec2)</code></pre>
<pre><code>## 
##  Alta Baixa 
##     9     8</code></pre>
</div>
</div>
<div id="més-exemples-de-recodificació-de-variables.-ús-de-la-funció-recode" class="section level4">
<h4>5. Més exemples de recodificació de variables. Ús de la funció recode()</h4>
<div id="exemple-i." class="section level5">
<h5>Exemple I.</h5>
<pre class="r"><code>glimpse(ceo)</code></pre>
<pre><code>## Rows: 1,100
## Columns: 130
## $ X.U.FEFF.PONDERA         &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ ORDRE_REVISADA           &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...
## $ ANY                      &lt;int&gt; 2021, 2021, 2021, 2021, 2021, 2021,...
## $ MES                      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ DIA                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_INI                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_FIN                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ DURADA                   &lt;int&gt; 571, 775, 748, 933, 983, 1104, 1438...
## $ TIP_TEL                  &lt;chr&gt; &quot;Trucada a telèfon mòbil&quot;, &quot;Trucada...
## $ ENQUESTADOR_CODI         &lt;int&gt; 98, 98, 629, 629, 852, 98, 629, 98,...
## $ ENQUESTADOR_SEXE         &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ ENQUESTADOR_EDAT         &lt;int&gt; 42, 42, 58, 58, 63, 42, 58, 42, 58,...
## $ ENQUESTADOR_ESTUDIS      &lt;chr&gt; &quot;ESO, EGB, FP1, Batxillerat element...
## $ ENQUESTADOR_NACIONALITAT &lt;chr&gt; &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;E...
## $ NUM_QUEST_CAMP           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ PROVINCIA                &lt;fct&gt; BARCELONA, BARCELONA, TARRAGONA, BA...
## $ HABITAT                  &lt;fct&gt; De 10.001 a 50.000, De 150.001 a 1....
## $ MUNICIPI                 &lt;chr&gt; &quot; &quot;, &quot;HOSPITALET DE LLOBREGAT, L&#39;&quot;,...
## $ COMARCA                  &lt;chr&gt; &quot;Baix Llobregat&quot;, &quot;Barcelonès&quot;, &quot;Ta...
## $ DOMICILI_PARTICULAR      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ LLENGUA_ENQUESTA         &lt;chr&gt; &quot;Català&quot;, &quot;Castellà&quot;, &quot;Català&quot;, &quot;Ca...
## $ LLENGUA_SISTEMA          &lt;chr&gt; &quot;Català&quot;, &quot;Castellà&quot;, &quot;Català&quot;, &quot;Ca...
## $ PADRO                    &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ CIUTADANIA               &lt;chr&gt; &quot;Sí, tinc la ciutadania (espanyola)...
## $ SEXE                     &lt;fct&gt; Home, Dona, Dona, Dona, Dona, Dona,...
## $ EDAT                     &lt;int&gt; 61, 62, 58, 83, 25, 70, 44, 36, 49,...
## $ EDAT_GR                  &lt;fct&gt; De 50 a 64 anys, De 50 a 64 anys, D...
## $ EDAT_CEO                 &lt;chr&gt; &quot;De 60 a 64 anys&quot;, &quot;De 60 a 64 anys...
## $ US_TELEFON_FIX           &lt;chr&gt; &quot;Sí, en fa ús&quot;, &quot;No&quot;, &quot;Sí, en fa ús...
## $ LLOC_NAIX                &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ HORA_PRIMERA_PREGUNTA    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ CIRCUIT_992_1            &lt;int&gt; 1, 2, 1, 1, 2, 1, 1, 1, 2, 1, 1, 2,...
## $ P1                       &lt;chr&gt; &quot;Dolenta&quot;, &quot;Molt dolenta&quot;, &quot;Molt do...
## $ P2                       &lt;chr&gt; &quot;Molt dolenta&quot;, &quot;Bona&quot;, &quot;Dolenta&quot;, ...
## $ P3                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Poc&quot;, &quot;Bastant&quot;, &quot;Poc&quot;,...
## $ P4                       &lt;chr&gt; &quot;4&quot;, &quot;5&quot;, &quot;5&quot;, &quot;6&quot;, &quot;5&quot;, &quot;No ho sap...
## $ P5                       &lt;chr&gt; &quot;CUP&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P5_LITERALS              &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;unidas podemos...
## $ P6                       &lt;chr&gt; &quot;Esquerra&quot;, &quot;Esquerra&quot;, &quot;Esquerra&quot;,...
## $ P7                       &lt;chr&gt; &quot;Màxim catalanisme&quot;, &quot;7&quot;, &quot;5&quot;, &quot;Màx...
## $ P8                       &lt;chr&gt; &quot;Un nivell insuficient d’autonomia&quot;...
## $ P9                       &lt;chr&gt; &quot;Un Estat independent&quot;, &quot;Una regió ...
## $ P10                      &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P11                      &lt;chr&gt; &quot;Amb tota seguretat aniré a votar&quot;,...
## $ P12_1                    &lt;chr&gt; &quot;La ideologia&quot;, &quot;El líder/cap de ll...
## $ P12_2                    &lt;chr&gt; &quot;Les propostes electorals&quot;, &quot;Les pr...
## $ P13_A                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;5&quot;, &quot;7&quot;, &quot;...
## $ P13_B                    &lt;chr&gt; &quot;8&quot;, &quot;Ho té molt en compte&quot;, &quot;Ho té...
## $ P13_C                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;Ho té molt...
## $ P13_D                    &lt;chr&gt; &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;Ho té molt en compt...
## $ P13_E                    &lt;chr&gt; &quot;5&quot;, &quot;8&quot;, &quot;7&quot;, &quot;No ho sap&quot;, &quot;9&quot;, &quot;H...
## $ P14                      &lt;chr&gt; &quot;Abans que comenci la campanya&quot;, &quot;A...
## $ P15                      &lt;chr&gt; &quot;CUP&quot;, &quot;No ho sap&quot;, &quot;PSC&quot;, &quot;Junts p...
## $ P15_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;en comu podem&quot;...
## $ P16_1                    &lt;chr&gt; &quot; &quot;, &quot;ERC&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_2                    &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem&quot;, &quot; &quot;...
## $ P16_3                    &lt;chr&gt; &quot; &quot;, &quot;Altres partits&quot;, &quot; &quot;, &quot; &quot;, &quot; ...
## $ P16_4                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;verdes&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P17                      &lt;chr&gt; &quot;ERC&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P17_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;junts per cata...
## $ P18_A                    &lt;chr&gt; &quot;Estic segur/a que vaig votar&quot;, &quot;Es...
## $ P18_B                    &lt;chr&gt; &quot;CUP&quot;, &quot;No ho recorda&quot;, &quot;PSC&quot;, &quot;Jun...
## $ P18_B_LITERALS           &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;podemos&quot;, &quot;-&quot;,...
## $ P19A_A_FERNANDEZ         &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No ho sap&quot;, &quot;No&quot;...
## $ P19B_A_FERNANDEZ         &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot;4&quot;, &quot; &quot;, &quot; ...
## $ P19A_L_BORRAS            &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_L_BORRAS            &lt;chr&gt; &quot;8&quot;, &quot;No ho sap&quot;, &quot;4&quot;, &quot;8&quot;, &quot;7&quot;, &quot;N...
## $ P19A_P_ARAGONES          &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_P_ARAGONES          &lt;chr&gt; &quot;6&quot;, &quot;No ho sap&quot;, &quot;6&quot;, &quot;7&quot;, &quot;6&quot;, &quot;N...
## $ P19A_S_ILLA              &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_S_ILLA              &lt;chr&gt; &quot;5&quot;, &quot;Excel·lent&quot;, &quot;7&quot;, &quot;5&quot;, &quot;7&quot;, &quot;...
## $ P19A_J_ALBIACH           &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_J_ALBIACH           &lt;chr&gt; &quot;7&quot;, &quot; &quot;, &quot; &quot;, &quot;No ho sap&quot;, &quot; &quot;, &quot; ...
## $ P19A_C_CARRIZOSA         &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_C_CARRIZOSA         &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot;4&quot;, &quot;Molt d...
## $ P19A_D_SABATER           &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_D_SABATER           &lt;chr&gt; &quot;Excel·lent&quot;, &quot;5&quot;, &quot; &quot;, &quot;7&quot;, &quot; &quot;, &quot;...
## $ P19A_I_GARRIGA           &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_I_GARRIGA           &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; ...
## $ P19A_A_CHACON            &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_A_CHACON            &lt;chr&gt; &quot;5&quot;, &quot; &quot;, &quot;5&quot;, &quot;No ho sap&quot;, &quot;5&quot;, &quot; ...
## $ P20                      &lt;chr&gt; &quot; &quot;, &quot;1970&quot;, &quot;1966&quot;, &quot; &quot;, &quot; &quot;, &quot;196...
## $ P21                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ P22                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ P23                      &lt;chr&gt; &quot;Catolicisme&quot;, &quot;Catolicisme&quot;, &quot;Cato...
## $ P23_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P24                      &lt;chr&gt; &quot;No, mai&quot;, &quot;No, mai&quot;, &quot;Sí, algun co...
## $ P25                      &lt;chr&gt; &quot;Treballa&quot;, &quot;No treballa&quot;, &quot;Treball...
## $ P26                      &lt;chr&gt; &quot; &quot;, &quot;Aturat /ada i busca la primer...
## $ P27                      &lt;chr&gt; &quot;Assalariat/ada indefinit/ida&quot;, &quot; &quot;...
## $ P28                      &lt;chr&gt; &quot;Sector privat&quot;, &quot; &quot;, &quot;Sector públi...
## $ P29                      &lt;chr&gt; &quot;Batxillerat, BUP, COU, Batxillerat...
## $ P29_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P30                      &lt;chr&gt; &quot;Casat/ada&quot;, &quot;Divorciat/ada&quot;, &quot;Casa...
## $ P31                      &lt;int&gt; 2, 2, 2, 2, 0, 1, 0, 2, 0, 0, 3, 8,...
## $ P32                      &lt;chr&gt; &quot;Només català/ana&quot;, &quot;Tan espanyol/a...
## $ P33                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Castel...
## $ P33_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P34                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Castel...
## $ P34_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;GALLEGO -...
## $ P35                      &lt;chr&gt; &quot;Classe mitjana&quot;, &quot; &quot;, &quot;Classe mitj...
## $ P36                      &lt;chr&gt; &quot; &quot;, &quot;Classe treballadora baixa&quot;, &quot;...
## $ P37                      &lt;int&gt; 3, 1, 3, 5, 4, 2, 1, 4, 2, 2, 2, 2,...
## $ P38                      &lt;chr&gt; &quot;Entre 2.001€ i 3.000€&quot;, &quot;Inferiors...
## $ P39                      &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P40_1                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;Mobilitat reduïda&quot;,...
## $ P40_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_4                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ P40_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ HORA_ÚLTIMA_PREGUNTA     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ E1                       &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ E2                       &lt;chr&gt; &quot;Mai&quot;, &quot;Mai&quot;, &quot;Mai&quot;, &quot;Quasi mai&quot;, &quot;...
## $ E3                       &lt;chr&gt; &quot;Gens&quot;, &quot;Gens&quot;, &quot;Gens&quot;, &quot;Poc&quot;, &quot;Gen...
## $ E4                       &lt;chr&gt; &quot;Molt&quot;, &quot;Molt&quot;, &quot;Molt&quot;, &quot;Bastant&quot;, ...
## $ E5                       &lt;chr&gt; &quot;Molt&quot;, &quot;Molt&quot;, &quot;Molt&quot;, &quot;Bastant&quot;, ...
## $ E6                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Bast...
## $ SUPERVISADA              &lt;chr&gt; &quot;Sí&quot;, &quot; &quot;, &quot;Sí&quot;, &quot; &quot;, &quot; &quot;, &quot;Sí&quot;, &quot; ...
## $ P5R                      &lt;chr&gt; &quot;CUP&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P15R                     &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P16_1R                   &lt;chr&gt; &quot; &quot;, &quot;ERC&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_2R                   &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem&quot;, &quot; &quot;...
## $ P16_3R                   &lt;chr&gt; &quot; &quot;, &quot;Altres, blanc&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_4R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P17R                     &lt;chr&gt; &quot;ERC&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P18R                     &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P18_CENS                 &lt;chr&gt; &quot;CUP&quot;, &quot;No ho recorda&quot;, &quot;PSC&quot;, &quot;Jun...
## $ P18R_CENS                &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P16R                     &lt;chr&gt; &quot; &quot;, &quot;ERC / Altres&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;,...</code></pre>
<p>Busquem una variable ordinal que podem dicotomitzar, és a dir, que la podem transformar en una variable amb únicament dues opcions.</p>
<p>Trobem la variable V010 Qualificació de l’actual situació política a Catalunya. Aquesta variable recull l’opinió dels enquestats sobre la situació política catalana.</p>
<pre class="r"><code>class(ceo$P1) #És un caràcter.</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>ceo$P1 &lt;- as.factor(ceo$P1)
glimpse(ceo$P1) #Té quatre nivells de resposta ordenats: és una variable qualitativa ordinal.</code></pre>
<pre><code>##  Factor w/ 7 levels &quot;Bona&quot;,&quot;Dolenta&quot;,..: 2 4 4 5 2 4 2 2 4 2 ...</code></pre>
<pre class="r"><code>attributes(ceo$P1) #Confirmem els nivells i el tipus d&#39;objecte que és.</code></pre>
<pre><code>## $levels
## [1] &quot;Bona&quot;               &quot;Dolenta&quot;            &quot;Molt bona&quot;         
## [4] &quot;Molt dolenta&quot;       &quot;Ni bona ni dolenta&quot; &quot;No contesta&quot;       
## [7] &quot;No ho sap&quot;         
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<p>Recodifiquem en una variable dicotòmica que només tingui dues opcions: Negativa i Positiva.</p>
<pre class="r"><code>ceo$P1R &lt;- recode(ceo$P1, &quot;Molt bona&quot; = &quot;Positiva&quot;, &quot;Bona&quot; = &quot;Positiva&quot;, &quot;Dolenta&quot; = &quot;Negativa&quot;, &quot;Molt dolenta&quot; = &quot;Negativa&quot;, .default = NA_character_)</code></pre>
<p>Li diem ICPS$V010R per mantenir les dades originals sense manipular. Al afegir la R creem una altra variablr nova.</p>
<pre class="r"><code>glimpse(ceo$P1R)</code></pre>
<pre><code>##  Factor w/ 2 levels &quot;Positiva&quot;,&quot;Negativa&quot;: 2 2 2 NA 2 2 2 2 2 2 ...</code></pre>
<pre class="r"><code>table(ceo$P1R)</code></pre>
<pre><code>## 
## Positiva Negativa 
##      114      881</code></pre>
<p>Hem convertit les categories “Molt bona” i “Bona” en “Positiva” i “Molt dolenta” i “Dolenta” en “Negativa”. Això el que ha fet es agrupar els casos de 4 opcions a 2. També hem eliminat la resta de valors (Regular, NS i NC).</p>
</div>
<div id="exemple-ii." class="section level5">
<h5>Exemple II.</h5>
<p>Provem de nou. Ara amb la variable V182 vinculada a les relacions entre Catalunya i Espanya. La variable dona fins a quatre opcions sobre el que Catalunya hauria de ser respecte a Espanya.</p>
<pre class="r"><code>class(ceo$P9)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>ceo$P9 &lt;- as.factor(ceo$P9)
levels(ceo$P9)</code></pre>
<pre><code>## [1] &quot;No contesta&quot;                      
## [2] &quot;No ho sap&quot;                        
## [3] &quot;Un Estat dins una Espanya federal&quot;
## [4] &quot;Un Estat independent&quot;             
## [5] &quot;Una comunitat autònoma d’Espanya&quot; 
## [6] &quot;Una regió d’Espanya&quot;</code></pre>
<pre class="r"><code>attributes(ceo$P9)</code></pre>
<pre><code>## $levels
## [1] &quot;No contesta&quot;                      
## [2] &quot;No ho sap&quot;                        
## [3] &quot;Un Estat dins una Espanya federal&quot;
## [4] &quot;Un Estat independent&quot;             
## [5] &quot;Una comunitat autònoma d’Espanya&quot; 
## [6] &quot;Una regió d’Espanya&quot;              
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<pre class="r"><code>glimpse(ceo$P9)</code></pre>
<pre><code>##  Factor w/ 6 levels &quot;No contesta&quot;,..: 4 6 3 4 3 6 4 3 3 3 ...</code></pre>
<p>Veiem com es distribueixen els casos en aquestes categories:</p>
<pre class="r"><code>table(ceo$P9)</code></pre>
<pre><code>## 
##                       No contesta                         No ho sap 
##                                27                                53 
## Un Estat dins una Espanya federal              Un Estat independent 
##                               292                               368 
##  Una comunitat autònoma d’Espanya               Una regió d’Espanya 
##                               286                                74</code></pre>
<p>Recodifiquem en dos categories: “Romandre a Espanya” i “Independència”.</p>
<pre class="r"><code>ceo$P9R &lt;- recode(ceo$P9, &quot;Una regió d&#39;Espanya&quot; = &quot;Romandre a Espanya&quot;, &quot;Una comunitat autònoma d’Espanya&quot; = &quot;Romandre a Espanya&quot;, &quot;Un Estat d&#39;una Espanya Federal&quot; = &quot;Romandre a Espanya&quot;, &quot;Un Estat independent&quot; = &quot;Independència&quot;, .default = NA_character_)

class(ceo$P9R)</code></pre>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<pre class="r"><code>levels(ceo$P9R)</code></pre>
<pre><code>## [1] &quot;Independència&quot;      &quot;Romandre a Espanya&quot;</code></pre>
<pre class="r"><code>glimpse(ceo$P9R)</code></pre>
<pre><code>##  Factor w/ 2 levels &quot;Independència&quot;,..: 1 NA NA 1 NA NA 1 NA NA NA ...</code></pre>
<pre class="r"><code>table(ceo$P9R)</code></pre>
<pre><code>## 
##      Independència Romandre a Espanya 
##                368                286</code></pre>
<p>És important entendre quina és la funció de recodificar i quins objectius perseguim amb això.</p>
</div>
</div>
</div>
<div id="exploració-ordenació-i-transformació-de-bases-de-dades-amb-dplyr-y-el-paquet-tidyverse" class="section level3">
<h3>Exploració, ordenació i transformació de bases de dades amb dplyr y el paquet tidyverse</h3>
<p>Dedicarem aquest apartat a endreçar (tidy) les bases de dades per operar millor amb elles.</p>
<p>• Carreguem primer les llibreries que utilitzarem i després les dades.</p>
<pre class="r"><code>library(tidyverse)
library(dplyr)</code></pre>
<p>• Carreguem ara una base de dades del sistema.</p>
<pre class="r"><code>install.packages(&quot;gapminder&quot;)</code></pre>
<pre><code>## Error in install.packages : Updating loaded packages</code></pre>
<pre class="r"><code>library(gapminder)</code></pre>
<div id="exploració-general-dun-data.frame" class="section level4">
<h4>Exploració general d’un data.frame</h4>
<p>Obrim la base de dades com un tibble():</p>
<pre class="r"><code>gapminder</code></pre>
<pre><code>## # A tibble: 1,704 x 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## # ... with 1,694 more rows</code></pre>
<pre class="r"><code>as.tibble(gapminder)</code></pre>
<pre><code>## # A tibble: 1,704 x 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## # ... with 1,694 more rows</code></pre>
<p>Observem és un data.frame que té 1.704 observacions o casos (files) i 6 variables (columna). A més, també ens informa de la tipologia de variables que tenim:</p>
<p>• 2 son qualitatives en format factor: country i continent. • 4 variables quantitatives: 2 continues que son double o numeric (lifeExp and gdpPercap) i dues discretes amb formast integer (year and pop)</p>
<p>Amb les funcions head() i tail() podem observasr els 6 primers casos i els 6 últims.</p>
<pre class="r"><code>head(gapminder) #### Ens ensenya els 6 primers casos o files.</code></pre>
<pre><code>## # A tibble: 6 x 6
##   country     continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.
## 2 Afghanistan Asia       1957    30.3  9240934      821.
## 3 Afghanistan Asia       1962    32.0 10267083      853.
## 4 Afghanistan Asia       1967    34.0 11537966      836.
## 5 Afghanistan Asia       1972    36.1 13079460      740.
## 6 Afghanistan Asia       1977    38.4 14880372      786.</code></pre>
<pre class="r"><code>tail(gapminder) #### Ens ensenya les 6 darreres files.</code></pre>
<pre><code>## # A tibble: 6 x 6
##   country  continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;    &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Zimbabwe Africa     1982    60.4  7636524      789.
## 2 Zimbabwe Africa     1987    62.4  9216418      706.
## 3 Zimbabwe Africa     1992    60.4 10704340      693.
## 4 Zimbabwe Africa     1997    46.8 11404948      792.
## 5 Zimbabwe Africa     2002    40.0 11926563      672.
## 6 Zimbabwe Africa     2007    43.5 12311143      470.</code></pre>
<p>La funció names() ens mostra el nom de les variables que tenim en aquest data.frame.</p>
<pre class="r"><code>names(gapminder)</code></pre>
<pre><code>## [1] &quot;country&quot;   &quot;continent&quot; &quot;year&quot;      &quot;lifeExp&quot;   &quot;pop&quot;      
## [6] &quot;gdpPercap&quot;</code></pre>
<p>Si volem saber el nom d’una o varies columnes en qüestió:</p>
<pre class="r"><code>names(gapminder)[2] ### Ens donarà el nom de la segona columna del data.frame.</code></pre>
<pre><code>## [1] &quot;continent&quot;</code></pre>
<pre class="r"><code>names(gapminder)[2:4] ### Ens donarà el nom de les columnes de la 2 a la 4.</code></pre>
<pre><code>## [1] &quot;continent&quot; &quot;year&quot;      &quot;lifeExp&quot;</code></pre>
<p>També podem utilitzar funcions com str() i glimpse()</p>
<pre class="r"><code>str(gapminder) #### Ens dona info de la base de dades (casos i variables) i info de totes les variables.</code></pre>
<pre><code>## tibble [1,704 x 6] (S3: tbl_df/tbl/data.frame)
##  $ country  : Factor w/ 142 levels &quot;Afghanistan&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ continent: Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
##  $ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...
##  $ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...
##  $ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880372 12881816 13867957 16317921 22227415 ...
##  $ gdpPercap: num [1:1704] 779 821 853 836 740 ...</code></pre>
<pre class="r"><code>glimpse(gapminder) #### Ens dona la mateixa informació en format tibble()</code></pre>
<pre><code>## Rows: 1,704
## Columns: 6
## $ country   &lt;fct&gt; Afghanistan, Afghanistan, Afghanistan, Afghanistan...
## $ continent &lt;fct&gt; Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, As...
## $ year      &lt;int&gt; 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 19...
## $ lifeExp   &lt;dbl&gt; 28.801, 30.332, 31.997, 34.020, 36.088, 38.438, 39...
## $ pop       &lt;int&gt; 8425333, 9240934, 10267083, 11537966, 13079460, 14...
## $ gdpPercap &lt;dbl&gt; 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, ...</code></pre>
</div>
<div id="exploració-específica-dels-casos-i-variables-dun-data.frame" class="section level4">
<h4>Exploració específica dels casos i variables d’un data.frame</h4>
<p>Analitzem ara una variable.</p>
<pre class="r"><code>gapminder$country</code></pre>
<pre><code>##    [1] Afghanistan              Afghanistan             
##    [3] Afghanistan              Afghanistan             
##    [5] Afghanistan              Afghanistan             
##    [7] Afghanistan              Afghanistan             
##    [9] Afghanistan              Afghanistan             
##   [11] Afghanistan              Afghanistan             
##   [13] Albania                  Albania                 
##   [15] Albania                  Albania                 
##   [17] Albania                  Albania                 
##   [19] Albania                  Albania                 
##   [21] Albania                  Albania                 
##   [23] Albania                  Albania                 
##   [25] Algeria                  Algeria                 
##   [27] Algeria                  Algeria                 
##   [29] Algeria                  Algeria                 
##   [31] Algeria                  Algeria                 
##   [33] Algeria                  Algeria                 
##   [35] Algeria                  Algeria                 
##   [37] Angola                   Angola                  
##   [39] Angola                   Angola                  
##   [41] Angola                   Angola                  
##   [43] Angola                   Angola                  
##   [45] Angola                   Angola                  
##   [47] Angola                   Angola                  
##   [49] Argentina                Argentina               
##   [51] Argentina                Argentina               
##   [53] Argentina                Argentina               
##   [55] Argentina                Argentina               
##   [57] Argentina                Argentina               
##   [59] Argentina                Argentina               
##   [61] Australia                Australia               
##   [63] Australia                Australia               
##   [65] Australia                Australia               
##   [67] Australia                Australia               
##   [69] Australia                Australia               
##   [71] Australia                Australia               
##   [73] Austria                  Austria                 
##   [75] Austria                  Austria                 
##   [77] Austria                  Austria                 
##   [79] Austria                  Austria                 
##   [81] Austria                  Austria                 
##   [83] Austria                  Austria                 
##   [85] Bahrain                  Bahrain                 
##   [87] Bahrain                  Bahrain                 
##   [89] Bahrain                  Bahrain                 
##   [91] Bahrain                  Bahrain                 
##   [93] Bahrain                  Bahrain                 
##   [95] Bahrain                  Bahrain                 
##   [97] Bangladesh               Bangladesh              
##   [99] Bangladesh               Bangladesh              
##  [101] Bangladesh               Bangladesh              
##  [103] Bangladesh               Bangladesh              
##  [105] Bangladesh               Bangladesh              
##  [107] Bangladesh               Bangladesh              
##  [109] Belgium                  Belgium                 
##  [111] Belgium                  Belgium                 
##  [113] Belgium                  Belgium                 
##  [115] Belgium                  Belgium                 
##  [117] Belgium                  Belgium                 
##  [119] Belgium                  Belgium                 
##  [121] Benin                    Benin                   
##  [123] Benin                    Benin                   
##  [125] Benin                    Benin                   
##  [127] Benin                    Benin                   
##  [129] Benin                    Benin                   
##  [131] Benin                    Benin                   
##  [133] Bolivia                  Bolivia                 
##  [135] Bolivia                  Bolivia                 
##  [137] Bolivia                  Bolivia                 
##  [139] Bolivia                  Bolivia                 
##  [141] Bolivia                  Bolivia                 
##  [143] Bolivia                  Bolivia                 
##  [145] Bosnia and Herzegovina   Bosnia and Herzegovina  
##  [147] Bosnia and Herzegovina   Bosnia and Herzegovina  
##  [149] Bosnia and Herzegovina   Bosnia and Herzegovina  
##  [151] Bosnia and Herzegovina   Bosnia and Herzegovina  
##  [153] Bosnia and Herzegovina   Bosnia and Herzegovina  
##  [155] Bosnia and Herzegovina   Bosnia and Herzegovina  
##  [157] Botswana                 Botswana                
##  [159] Botswana                 Botswana                
##  [161] Botswana                 Botswana                
##  [163] Botswana                 Botswana                
##  [165] Botswana                 Botswana                
##  [167] Botswana                 Botswana                
##  [169] Brazil                   Brazil                  
##  [171] Brazil                   Brazil                  
##  [173] Brazil                   Brazil                  
##  [175] Brazil                   Brazil                  
##  [177] Brazil                   Brazil                  
##  [179] Brazil                   Brazil                  
##  [181] Bulgaria                 Bulgaria                
##  [183] Bulgaria                 Bulgaria                
##  [185] Bulgaria                 Bulgaria                
##  [187] Bulgaria                 Bulgaria                
##  [189] Bulgaria                 Bulgaria                
##  [191] Bulgaria                 Bulgaria                
##  [193] Burkina Faso             Burkina Faso            
##  [195] Burkina Faso             Burkina Faso            
##  [197] Burkina Faso             Burkina Faso            
##  [199] Burkina Faso             Burkina Faso            
##  [201] Burkina Faso             Burkina Faso            
##  [203] Burkina Faso             Burkina Faso            
##  [205] Burundi                  Burundi                 
##  [207] Burundi                  Burundi                 
##  [209] Burundi                  Burundi                 
##  [211] Burundi                  Burundi                 
##  [213] Burundi                  Burundi                 
##  [215] Burundi                  Burundi                 
##  [217] Cambodia                 Cambodia                
##  [219] Cambodia                 Cambodia                
##  [221] Cambodia                 Cambodia                
##  [223] Cambodia                 Cambodia                
##  [225] Cambodia                 Cambodia                
##  [227] Cambodia                 Cambodia                
##  [229] Cameroon                 Cameroon                
##  [231] Cameroon                 Cameroon                
##  [233] Cameroon                 Cameroon                
##  [235] Cameroon                 Cameroon                
##  [237] Cameroon                 Cameroon                
##  [239] Cameroon                 Cameroon                
##  [241] Canada                   Canada                  
##  [243] Canada                   Canada                  
##  [245] Canada                   Canada                  
##  [247] Canada                   Canada                  
##  [249] Canada                   Canada                  
##  [251] Canada                   Canada                  
##  [253] Central African Republic Central African Republic
##  [255] Central African Republic Central African Republic
##  [257] Central African Republic Central African Republic
##  [259] Central African Republic Central African Republic
##  [261] Central African Republic Central African Republic
##  [263] Central African Republic Central African Republic
##  [265] Chad                     Chad                    
##  [267] Chad                     Chad                    
##  [269] Chad                     Chad                    
##  [271] Chad                     Chad                    
##  [273] Chad                     Chad                    
##  [275] Chad                     Chad                    
##  [277] Chile                    Chile                   
##  [279] Chile                    Chile                   
##  [281] Chile                    Chile                   
##  [283] Chile                    Chile                   
##  [285] Chile                    Chile                   
##  [287] Chile                    Chile                   
##  [289] China                    China                   
##  [291] China                    China                   
##  [293] China                    China                   
##  [295] China                    China                   
##  [297] China                    China                   
##  [299] China                    China                   
##  [301] Colombia                 Colombia                
##  [303] Colombia                 Colombia                
##  [305] Colombia                 Colombia                
##  [307] Colombia                 Colombia                
##  [309] Colombia                 Colombia                
##  [311] Colombia                 Colombia                
##  [313] Comoros                  Comoros                 
##  [315] Comoros                  Comoros                 
##  [317] Comoros                  Comoros                 
##  [319] Comoros                  Comoros                 
##  [321] Comoros                  Comoros                 
##  [323] Comoros                  Comoros                 
##  [325] Congo, Dem. Rep.         Congo, Dem. Rep.        
##  [327] Congo, Dem. Rep.         Congo, Dem. Rep.        
##  [329] Congo, Dem. Rep.         Congo, Dem. Rep.        
##  [331] Congo, Dem. Rep.         Congo, Dem. Rep.        
##  [333] Congo, Dem. Rep.         Congo, Dem. Rep.        
##  [335] Congo, Dem. Rep.         Congo, Dem. Rep.        
##  [337] Congo, Rep.              Congo, Rep.             
##  [339] Congo, Rep.              Congo, Rep.             
##  [341] Congo, Rep.              Congo, Rep.             
##  [343] Congo, Rep.              Congo, Rep.             
##  [345] Congo, Rep.              Congo, Rep.             
##  [347] Congo, Rep.              Congo, Rep.             
##  [349] Costa Rica               Costa Rica              
##  [351] Costa Rica               Costa Rica              
##  [353] Costa Rica               Costa Rica              
##  [355] Costa Rica               Costa Rica              
##  [357] Costa Rica               Costa Rica              
##  [359] Costa Rica               Costa Rica              
##  [361] Cote d&#39;Ivoire            Cote d&#39;Ivoire           
##  [363] Cote d&#39;Ivoire            Cote d&#39;Ivoire           
##  [365] Cote d&#39;Ivoire            Cote d&#39;Ivoire           
##  [367] Cote d&#39;Ivoire            Cote d&#39;Ivoire           
##  [369] Cote d&#39;Ivoire            Cote d&#39;Ivoire           
##  [371] Cote d&#39;Ivoire            Cote d&#39;Ivoire           
##  [373] Croatia                  Croatia                 
##  [375] Croatia                  Croatia                 
##  [377] Croatia                  Croatia                 
##  [379] Croatia                  Croatia                 
##  [381] Croatia                  Croatia                 
##  [383] Croatia                  Croatia                 
##  [385] Cuba                     Cuba                    
##  [387] Cuba                     Cuba                    
##  [389] Cuba                     Cuba                    
##  [391] Cuba                     Cuba                    
##  [393] Cuba                     Cuba                    
##  [395] Cuba                     Cuba                    
##  [397] Czech Republic           Czech Republic          
##  [399] Czech Republic           Czech Republic          
##  [401] Czech Republic           Czech Republic          
##  [403] Czech Republic           Czech Republic          
##  [405] Czech Republic           Czech Republic          
##  [407] Czech Republic           Czech Republic          
##  [409] Denmark                  Denmark                 
##  [411] Denmark                  Denmark                 
##  [413] Denmark                  Denmark                 
##  [415] Denmark                  Denmark                 
##  [417] Denmark                  Denmark                 
##  [419] Denmark                  Denmark                 
##  [421] Djibouti                 Djibouti                
##  [423] Djibouti                 Djibouti                
##  [425] Djibouti                 Djibouti                
##  [427] Djibouti                 Djibouti                
##  [429] Djibouti                 Djibouti                
##  [431] Djibouti                 Djibouti                
##  [433] Dominican Republic       Dominican Republic      
##  [435] Dominican Republic       Dominican Republic      
##  [437] Dominican Republic       Dominican Republic      
##  [439] Dominican Republic       Dominican Republic      
##  [441] Dominican Republic       Dominican Republic      
##  [443] Dominican Republic       Dominican Republic      
##  [445] Ecuador                  Ecuador                 
##  [447] Ecuador                  Ecuador                 
##  [449] Ecuador                  Ecuador                 
##  [451] Ecuador                  Ecuador                 
##  [453] Ecuador                  Ecuador                 
##  [455] Ecuador                  Ecuador                 
##  [457] Egypt                    Egypt                   
##  [459] Egypt                    Egypt                   
##  [461] Egypt                    Egypt                   
##  [463] Egypt                    Egypt                   
##  [465] Egypt                    Egypt                   
##  [467] Egypt                    Egypt                   
##  [469] El Salvador              El Salvador             
##  [471] El Salvador              El Salvador             
##  [473] El Salvador              El Salvador             
##  [475] El Salvador              El Salvador             
##  [477] El Salvador              El Salvador             
##  [479] El Salvador              El Salvador             
##  [481] Equatorial Guinea        Equatorial Guinea       
##  [483] Equatorial Guinea        Equatorial Guinea       
##  [485] Equatorial Guinea        Equatorial Guinea       
##  [487] Equatorial Guinea        Equatorial Guinea       
##  [489] Equatorial Guinea        Equatorial Guinea       
##  [491] Equatorial Guinea        Equatorial Guinea       
##  [493] Eritrea                  Eritrea                 
##  [495] Eritrea                  Eritrea                 
##  [497] Eritrea                  Eritrea                 
##  [499] Eritrea                  Eritrea                 
##  [501] Eritrea                  Eritrea                 
##  [503] Eritrea                  Eritrea                 
##  [505] Ethiopia                 Ethiopia                
##  [507] Ethiopia                 Ethiopia                
##  [509] Ethiopia                 Ethiopia                
##  [511] Ethiopia                 Ethiopia                
##  [513] Ethiopia                 Ethiopia                
##  [515] Ethiopia                 Ethiopia                
##  [517] Finland                  Finland                 
##  [519] Finland                  Finland                 
##  [521] Finland                  Finland                 
##  [523] Finland                  Finland                 
##  [525] Finland                  Finland                 
##  [527] Finland                  Finland                 
##  [529] France                   France                  
##  [531] France                   France                  
##  [533] France                   France                  
##  [535] France                   France                  
##  [537] France                   France                  
##  [539] France                   France                  
##  [541] Gabon                    Gabon                   
##  [543] Gabon                    Gabon                   
##  [545] Gabon                    Gabon                   
##  [547] Gabon                    Gabon                   
##  [549] Gabon                    Gabon                   
##  [551] Gabon                    Gabon                   
##  [553] Gambia                   Gambia                  
##  [555] Gambia                   Gambia                  
##  [557] Gambia                   Gambia                  
##  [559] Gambia                   Gambia                  
##  [561] Gambia                   Gambia                  
##  [563] Gambia                   Gambia                  
##  [565] Germany                  Germany                 
##  [567] Germany                  Germany                 
##  [569] Germany                  Germany                 
##  [571] Germany                  Germany                 
##  [573] Germany                  Germany                 
##  [575] Germany                  Germany                 
##  [577] Ghana                    Ghana                   
##  [579] Ghana                    Ghana                   
##  [581] Ghana                    Ghana                   
##  [583] Ghana                    Ghana                   
##  [585] Ghana                    Ghana                   
##  [587] Ghana                    Ghana                   
##  [589] Greece                   Greece                  
##  [591] Greece                   Greece                  
##  [593] Greece                   Greece                  
##  [595] Greece                   Greece                  
##  [597] Greece                   Greece                  
##  [599] Greece                   Greece                  
##  [601] Guatemala                Guatemala               
##  [603] Guatemala                Guatemala               
##  [605] Guatemala                Guatemala               
##  [607] Guatemala                Guatemala               
##  [609] Guatemala                Guatemala               
##  [611] Guatemala                Guatemala               
##  [613] Guinea                   Guinea                  
##  [615] Guinea                   Guinea                  
##  [617] Guinea                   Guinea                  
##  [619] Guinea                   Guinea                  
##  [621] Guinea                   Guinea                  
##  [623] Guinea                   Guinea                  
##  [625] Guinea-Bissau            Guinea-Bissau           
##  [627] Guinea-Bissau            Guinea-Bissau           
##  [629] Guinea-Bissau            Guinea-Bissau           
##  [631] Guinea-Bissau            Guinea-Bissau           
##  [633] Guinea-Bissau            Guinea-Bissau           
##  [635] Guinea-Bissau            Guinea-Bissau           
##  [637] Haiti                    Haiti                   
##  [639] Haiti                    Haiti                   
##  [641] Haiti                    Haiti                   
##  [643] Haiti                    Haiti                   
##  [645] Haiti                    Haiti                   
##  [647] Haiti                    Haiti                   
##  [649] Honduras                 Honduras                
##  [651] Honduras                 Honduras                
##  [653] Honduras                 Honduras                
##  [655] Honduras                 Honduras                
##  [657] Honduras                 Honduras                
##  [659] Honduras                 Honduras                
##  [661] Hong Kong, China         Hong Kong, China        
##  [663] Hong Kong, China         Hong Kong, China        
##  [665] Hong Kong, China         Hong Kong, China        
##  [667] Hong Kong, China         Hong Kong, China        
##  [669] Hong Kong, China         Hong Kong, China        
##  [671] Hong Kong, China         Hong Kong, China        
##  [673] Hungary                  Hungary                 
##  [675] Hungary                  Hungary                 
##  [677] Hungary                  Hungary                 
##  [679] Hungary                  Hungary                 
##  [681] Hungary                  Hungary                 
##  [683] Hungary                  Hungary                 
##  [685] Iceland                  Iceland                 
##  [687] Iceland                  Iceland                 
##  [689] Iceland                  Iceland                 
##  [691] Iceland                  Iceland                 
##  [693] Iceland                  Iceland                 
##  [695] Iceland                  Iceland                 
##  [697] India                    India                   
##  [699] India                    India                   
##  [701] India                    India                   
##  [703] India                    India                   
##  [705] India                    India                   
##  [707] India                    India                   
##  [709] Indonesia                Indonesia               
##  [711] Indonesia                Indonesia               
##  [713] Indonesia                Indonesia               
##  [715] Indonesia                Indonesia               
##  [717] Indonesia                Indonesia               
##  [719] Indonesia                Indonesia               
##  [721] Iran                     Iran                    
##  [723] Iran                     Iran                    
##  [725] Iran                     Iran                    
##  [727] Iran                     Iran                    
##  [729] Iran                     Iran                    
##  [731] Iran                     Iran                    
##  [733] Iraq                     Iraq                    
##  [735] Iraq                     Iraq                    
##  [737] Iraq                     Iraq                    
##  [739] Iraq                     Iraq                    
##  [741] Iraq                     Iraq                    
##  [743] Iraq                     Iraq                    
##  [745] Ireland                  Ireland                 
##  [747] Ireland                  Ireland                 
##  [749] Ireland                  Ireland                 
##  [751] Ireland                  Ireland                 
##  [753] Ireland                  Ireland                 
##  [755] Ireland                  Ireland                 
##  [757] Israel                   Israel                  
##  [759] Israel                   Israel                  
##  [761] Israel                   Israel                  
##  [763] Israel                   Israel                  
##  [765] Israel                   Israel                  
##  [767] Israel                   Israel                  
##  [769] Italy                    Italy                   
##  [771] Italy                    Italy                   
##  [773] Italy                    Italy                   
##  [775] Italy                    Italy                   
##  [777] Italy                    Italy                   
##  [779] Italy                    Italy                   
##  [781] Jamaica                  Jamaica                 
##  [783] Jamaica                  Jamaica                 
##  [785] Jamaica                  Jamaica                 
##  [787] Jamaica                  Jamaica                 
##  [789] Jamaica                  Jamaica                 
##  [791] Jamaica                  Jamaica                 
##  [793] Japan                    Japan                   
##  [795] Japan                    Japan                   
##  [797] Japan                    Japan                   
##  [799] Japan                    Japan                   
##  [801] Japan                    Japan                   
##  [803] Japan                    Japan                   
##  [805] Jordan                   Jordan                  
##  [807] Jordan                   Jordan                  
##  [809] Jordan                   Jordan                  
##  [811] Jordan                   Jordan                  
##  [813] Jordan                   Jordan                  
##  [815] Jordan                   Jordan                  
##  [817] Kenya                    Kenya                   
##  [819] Kenya                    Kenya                   
##  [821] Kenya                    Kenya                   
##  [823] Kenya                    Kenya                   
##  [825] Kenya                    Kenya                   
##  [827] Kenya                    Kenya                   
##  [829] Korea, Dem. Rep.         Korea, Dem. Rep.        
##  [831] Korea, Dem. Rep.         Korea, Dem. Rep.        
##  [833] Korea, Dem. Rep.         Korea, Dem. Rep.        
##  [835] Korea, Dem. Rep.         Korea, Dem. Rep.        
##  [837] Korea, Dem. Rep.         Korea, Dem. Rep.        
##  [839] Korea, Dem. Rep.         Korea, Dem. Rep.        
##  [841] Korea, Rep.              Korea, Rep.             
##  [843] Korea, Rep.              Korea, Rep.             
##  [845] Korea, Rep.              Korea, Rep.             
##  [847] Korea, Rep.              Korea, Rep.             
##  [849] Korea, Rep.              Korea, Rep.             
##  [851] Korea, Rep.              Korea, Rep.             
##  [853] Kuwait                   Kuwait                  
##  [855] Kuwait                   Kuwait                  
##  [857] Kuwait                   Kuwait                  
##  [859] Kuwait                   Kuwait                  
##  [861] Kuwait                   Kuwait                  
##  [863] Kuwait                   Kuwait                  
##  [865] Lebanon                  Lebanon                 
##  [867] Lebanon                  Lebanon                 
##  [869] Lebanon                  Lebanon                 
##  [871] Lebanon                  Lebanon                 
##  [873] Lebanon                  Lebanon                 
##  [875] Lebanon                  Lebanon                 
##  [877] Lesotho                  Lesotho                 
##  [879] Lesotho                  Lesotho                 
##  [881] Lesotho                  Lesotho                 
##  [883] Lesotho                  Lesotho                 
##  [885] Lesotho                  Lesotho                 
##  [887] Lesotho                  Lesotho                 
##  [889] Liberia                  Liberia                 
##  [891] Liberia                  Liberia                 
##  [893] Liberia                  Liberia                 
##  [895] Liberia                  Liberia                 
##  [897] Liberia                  Liberia                 
##  [899] Liberia                  Liberia                 
##  [901] Libya                    Libya                   
##  [903] Libya                    Libya                   
##  [905] Libya                    Libya                   
##  [907] Libya                    Libya                   
##  [909] Libya                    Libya                   
##  [911] Libya                    Libya                   
##  [913] Madagascar               Madagascar              
##  [915] Madagascar               Madagascar              
##  [917] Madagascar               Madagascar              
##  [919] Madagascar               Madagascar              
##  [921] Madagascar               Madagascar              
##  [923] Madagascar               Madagascar              
##  [925] Malawi                   Malawi                  
##  [927] Malawi                   Malawi                  
##  [929] Malawi                   Malawi                  
##  [931] Malawi                   Malawi                  
##  [933] Malawi                   Malawi                  
##  [935] Malawi                   Malawi                  
##  [937] Malaysia                 Malaysia                
##  [939] Malaysia                 Malaysia                
##  [941] Malaysia                 Malaysia                
##  [943] Malaysia                 Malaysia                
##  [945] Malaysia                 Malaysia                
##  [947] Malaysia                 Malaysia                
##  [949] Mali                     Mali                    
##  [951] Mali                     Mali                    
##  [953] Mali                     Mali                    
##  [955] Mali                     Mali                    
##  [957] Mali                     Mali                    
##  [959] Mali                     Mali                    
##  [961] Mauritania               Mauritania              
##  [963] Mauritania               Mauritania              
##  [965] Mauritania               Mauritania              
##  [967] Mauritania               Mauritania              
##  [969] Mauritania               Mauritania              
##  [971] Mauritania               Mauritania              
##  [973] Mauritius                Mauritius               
##  [975] Mauritius                Mauritius               
##  [977] Mauritius                Mauritius               
##  [979] Mauritius                Mauritius               
##  [981] Mauritius                Mauritius               
##  [983] Mauritius                Mauritius               
##  [985] Mexico                   Mexico                  
##  [987] Mexico                   Mexico                  
##  [989] Mexico                   Mexico                  
##  [991] Mexico                   Mexico                  
##  [993] Mexico                   Mexico                  
##  [995] Mexico                   Mexico                  
##  [997] Mongolia                 Mongolia                
##  [999] Mongolia                 Mongolia                
##  [ reached getOption(&quot;max.print&quot;) -- omitted 704 entries ]
## 142 Levels: Afghanistan Albania Algeria Angola Argentina ... Zimbabwe</code></pre>
<p>Ens surt a la consola el nom de totes les etiquetes (142) i com es distribueixen.</p>
<pre class="r"><code>unique(gapminder$country) #### Els països de la base de dades.</code></pre>
<pre><code>##   [1] Afghanistan              Albania                 
##   [3] Algeria                  Angola                  
##   [5] Argentina                Australia               
##   [7] Austria                  Bahrain                 
##   [9] Bangladesh               Belgium                 
##  [11] Benin                    Bolivia                 
##  [13] Bosnia and Herzegovina   Botswana                
##  [15] Brazil                   Bulgaria                
##  [17] Burkina Faso             Burundi                 
##  [19] Cambodia                 Cameroon                
##  [21] Canada                   Central African Republic
##  [23] Chad                     Chile                   
##  [25] China                    Colombia                
##  [27] Comoros                  Congo, Dem. Rep.        
##  [29] Congo, Rep.              Costa Rica              
##  [31] Cote d&#39;Ivoire            Croatia                 
##  [33] Cuba                     Czech Republic          
##  [35] Denmark                  Djibouti                
##  [37] Dominican Republic       Ecuador                 
##  [39] Egypt                    El Salvador             
##  [41] Equatorial Guinea        Eritrea                 
##  [43] Ethiopia                 Finland                 
##  [45] France                   Gabon                   
##  [47] Gambia                   Germany                 
##  [49] Ghana                    Greece                  
##  [51] Guatemala                Guinea                  
##  [53] Guinea-Bissau            Haiti                   
##  [55] Honduras                 Hong Kong, China        
##  [57] Hungary                  Iceland                 
##  [59] India                    Indonesia               
##  [61] Iran                     Iraq                    
##  [63] Ireland                  Israel                  
##  [65] Italy                    Jamaica                 
##  [67] Japan                    Jordan                  
##  [69] Kenya                    Korea, Dem. Rep.        
##  [71] Korea, Rep.              Kuwait                  
##  [73] Lebanon                  Lesotho                 
##  [75] Liberia                  Libya                   
##  [77] Madagascar               Malawi                  
##  [79] Malaysia                 Mali                    
##  [81] Mauritania               Mauritius               
##  [83] Mexico                   Mongolia                
##  [85] Montenegro               Morocco                 
##  [87] Mozambique               Myanmar                 
##  [89] Namibia                  Nepal                   
##  [91] Netherlands              New Zealand             
##  [93] Nicaragua                Niger                   
##  [95] Nigeria                  Norway                  
##  [97] Oman                     Pakistan                
##  [99] Panama                   Paraguay                
## [101] Peru                     Philippines             
## [103] Poland                   Portugal                
## [105] Puerto Rico              Reunion                 
## [107] Romania                  Rwanda                  
## [109] Sao Tome and Principe    Saudi Arabia            
## [111] Senegal                  Serbia                  
## [113] Sierra Leone             Singapore               
## [115] Slovak Republic          Slovenia                
## [117] Somalia                  South Africa            
## [119] Spain                    Sri Lanka               
## [121] Sudan                    Swaziland               
## [123] Sweden                   Switzerland             
## [125] Syria                    Taiwan                  
## [127] Tanzania                 Thailand                
## [129] Togo                     Trinidad and Tobago     
## [131] Tunisia                  Turkey                  
## [133] Uganda                   United Kingdom          
## [135] United States            Uruguay                 
## [137] Venezuela                Vietnam                 
## [139] West Bank and Gaza       Yemen, Rep.             
## [141] Zambia                   Zimbabwe                
## 142 Levels: Afghanistan Albania Algeria Angola Argentina ... Zimbabwe</code></pre>
<pre class="r"><code>unique(gapminder$year) #### El número d&#39;anys que apareixen en aquesta base de dades</code></pre>
<pre><code>##  [1] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 2002 2007</code></pre>
<p>Com comptem casos? Amb la funció lenght()</p>
<pre class="r"><code>length(gapminder$year) # Ens dona el número de casos de cada variable</code></pre>
<pre><code>## [1] 1704</code></pre>
<p>Si volem comptar el número d’etiquetes o valors fem el següent codi:</p>
<pre class="r"><code>length(unique(gapminder$year)) #Ens dona que només tenim 12 anys diferents (12 valors/categories)</code></pre>
<pre><code>## [1] 12</code></pre>
<p>Si volem en canvi, obtenir més informació de manera ràpida podem utilitzar el comandament summary():</p>
<pre class="r"><code>summary(gapminder$continent) ### Obtenim els casos per continent.</code></pre>
<pre><code>##   Africa Americas     Asia   Europe  Oceania 
##      624      300      396      360       24</code></pre>
<pre class="r"><code>summary(gapminder$country) ### Obtenim que son 12 casos per cada país. 12 observacions, 1 per any, de cada país.</code></pre>
<pre><code>##              Afghanistan                  Albania 
##                       12                       12 
##                  Algeria                   Angola 
##                       12                       12 
##                Argentina                Australia 
##                       12                       12 
##                  Austria                  Bahrain 
##                       12                       12 
##               Bangladesh                  Belgium 
##                       12                       12 
##                    Benin                  Bolivia 
##                       12                       12 
##   Bosnia and Herzegovina                 Botswana 
##                       12                       12 
##                   Brazil                 Bulgaria 
##                       12                       12 
##             Burkina Faso                  Burundi 
##                       12                       12 
##                 Cambodia                 Cameroon 
##                       12                       12 
##                   Canada Central African Republic 
##                       12                       12 
##                     Chad                    Chile 
##                       12                       12 
##                    China                 Colombia 
##                       12                       12 
##                  Comoros         Congo, Dem. Rep. 
##                       12                       12 
##              Congo, Rep.               Costa Rica 
##                       12                       12 
##            Cote d&#39;Ivoire                  Croatia 
##                       12                       12 
##                     Cuba           Czech Republic 
##                       12                       12 
##                  Denmark                 Djibouti 
##                       12                       12 
##       Dominican Republic                  Ecuador 
##                       12                       12 
##                    Egypt              El Salvador 
##                       12                       12 
##        Equatorial Guinea                  Eritrea 
##                       12                       12 
##                 Ethiopia                  Finland 
##                       12                       12 
##                   France                    Gabon 
##                       12                       12 
##                   Gambia                  Germany 
##                       12                       12 
##                    Ghana                   Greece 
##                       12                       12 
##                Guatemala                   Guinea 
##                       12                       12 
##            Guinea-Bissau                    Haiti 
##                       12                       12 
##                 Honduras         Hong Kong, China 
##                       12                       12 
##                  Hungary                  Iceland 
##                       12                       12 
##                    India                Indonesia 
##                       12                       12 
##                     Iran                     Iraq 
##                       12                       12 
##                  Ireland                   Israel 
##                       12                       12 
##                    Italy                  Jamaica 
##                       12                       12 
##                    Japan                   Jordan 
##                       12                       12 
##                    Kenya         Korea, Dem. Rep. 
##                       12                       12 
##              Korea, Rep.                   Kuwait 
##                       12                       12 
##                  Lebanon                  Lesotho 
##                       12                       12 
##                  Liberia                    Libya 
##                       12                       12 
##               Madagascar                   Malawi 
##                       12                       12 
##                 Malaysia                     Mali 
##                       12                       12 
##               Mauritania                Mauritius 
##                       12                       12 
##                   Mexico                 Mongolia 
##                       12                       12 
##               Montenegro                  Morocco 
##                       12                       12 
##               Mozambique                  Myanmar 
##                       12                       12 
##                  Namibia                    Nepal 
##                       12                       12 
##              Netherlands              New Zealand 
##                       12                       12 
##                Nicaragua                    Niger 
##                       12                       12 
##                  Nigeria                   Norway 
##                       12                       12 
##                     Oman                 Pakistan 
##                       12                       12 
##                   Panama                  (Other) 
##                       12                      516</code></pre>
<pre class="r"><code>summary(gapminder$lifeExp) </code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   23.60   48.20   60.71   59.47   70.85   82.60</code></pre>
<p>Ara, en canvi, al ser una variable numèrica continua ens dona els estadístics descriptius habituals (mitjana, mediana, min, màxim i quartils).</p>
<pre class="r"><code>summary(gapminder$gdpPercap) ### Ens torna a donar els mateixos estadístics però de la variable PIB per cápita.</code></pre>
<pre><code>##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
##    241.2   1202.1   3531.8   7215.3   9325.5 113523.1</code></pre>
<p>Tot això ens ha hagut de proporcionar una bona imatge mental de les dades que treballarem.</p>
<p>Contesteu les següents preguntes:</p>
<ol style="list-style-type: decimal">
<li>En quin continent tenim més casos registrats? En quin menys?</li>
<li>Quina és l’esperança màxima de vida registrada? Quina és la mitjana d’esperança de vida?</li>
<li>I quin és el PIB per cápida màxim? I el minim?</li>
</ol>
</div>
</div>
<div id="transformar-una-base-de-dades" class="section level3">
<h3>Transformar una base de dades</h3>
<p>En l’anterior apartat hem realitzat una observació o exploració general d’una base de dades i d’algunes variables. Tanmateix, si volem extreure totes les potencialitats possibles a les dades ens cal transformar-les. En base a aquesta transformació de les dades podrem fer-nos preguntes més concretes sobre les dades que tenim. L’exploració passarà a ser més minuciosa i detallada.</p>
<p>En aquest apartat aprendrem a utilitzar el paquet de transformació de dades dplyr que inclou 6 grans funcions: filtrar, ordenar, seleccionar, mutar, resumir i agrupar.</p>
<div id="enganxar-quadre-resum-llibre-jordi-taula-8" class="section level4">
<h4>ENGANXAR QUADRE RESUM LLIBRE JORDI (TAULA 8)</h4>
<p>Per treballar amb aquestes funcions que assenyala la taula utiltizarem la funció pipe(%&gt;%) que ens permet encadenar funcions de manera simultanea sempre i quan tinguin el primer argument en comú. La taula 9 ens ho explica:</p>
</div>
<div id="enganxar-taula-9-llibre-jordi." class="section level4">
<h4>ENGANXAR TAULA 9 LLIBRE JORDI.</h4>
<p>Atenció: és important que cada cop que transformem la base de dades ho guardem en un altre objecte per no perdre la informació real de la base de dades.</p>
<p>Abans de començar a aplicar les funcions, carreguem les llibreries i una base de dades. En aquest cas l’històric de sondeigs de l’ICPS que hem treballat anteriorment.</p>
<pre class="r"><code>library(tidyverse)
library(dplyr)</code></pre>
<p>Carreguem de nou les dades anteriors sobre l’enquesta de l’ICPS per aplicar-hi totes les funcions. També les convertim en un data frame amb la funció as.data.frame i comprovem amb glimpse() i class() si s’ha convertit en un.</p>
<pre class="r"><code>ceo &lt;- read.csv(&quot;Microdades anonimitzades -992.csv&quot;, sep = &quot;;&quot;, dec = &quot;.&quot;, header = TRUE, encoding = &quot;UTF-8&quot;)
as.data.frame(ceo)</code></pre>
<pre><code>##   X.U.FEFF.PONDERA ORDRE_REVISADA  ANY MES DIA HOR_INI HOR_FIN DURADA
## 1                1              1 2021   1  NA      NA      NA    571
## 2                1              2 2021   1  NA      NA      NA    775
## 3                1              3 2021   1  NA      NA      NA    748
## 4                1              4 2021   1  NA      NA      NA    933
## 5                1              5 2021   1  NA      NA      NA    983
## 6                1              6 2021   1  NA      NA      NA   1104
## 7                1              7 2021   1  NA      NA      NA   1438
##                   TIP_TEL ENQUESTADOR_CODI ENQUESTADOR_SEXE
## 1 Trucada a telèfon mòbil               98             Dona
## 2 Trucada a telèfon mòbil               98             Dona
## 3   Trucada a telèfon fix              629             Dona
## 4   Trucada a telèfon fix              629             Dona
## 5 Trucada a telèfon mòbil              852             Dona
## 6 Trucada a telèfon mòbil               98             Dona
## 7 Trucada a telèfon mòbil              629             Dona
##   ENQUESTADOR_EDAT                                  ENQUESTADOR_ESTUDIS
## 1               42                 ESO, EGB, FP1, Batxillerat elemental
## 2               42                 ESO, EGB, FP1, Batxillerat elemental
## 3               58 Batxillerat, BUP, FP2, COU, Mòdul professional 2 i 3
## 4               58 Batxillerat, BUP, FP2, COU, Mòdul professional 2 i 3
## 5               63 Batxillerat, BUP, FP2, COU, Mòdul professional 2 i 3
## 6               42                 ESO, EGB, FP1, Batxillerat elemental
## 7               58 Batxillerat, BUP, FP2, COU, Mòdul professional 2 i 3
##   ENQUESTADOR_NACIONALITAT NUM_QUEST_CAMP PROVINCIA
## 1                  Espanya             NA BARCELONA
## 2                  Espanya             NA BARCELONA
## 3                  Espanya             NA TARRAGONA
## 4                  Espanya             NA BARCELONA
## 5                  Espanya             NA BARCELONA
## 6                  Espanya             NA BARCELONA
## 7                  Espanya             NA BARCELONA
##                  HABITAT                    MUNICIPI           COMARCA
## 1     De 10.001 a 50.000                                Baix Llobregat
## 2 De 150.001 a 1.000.000 HOSPITALET DE LLOBREGAT, L&#39;        Barcelonès
## 3    De 50.001 a 150.000                   TARRAGONA        Tarragonès
## 4    De 50.001 a 150.000       SANT CUGAT DEL VALLÈS Vallès Occidental
## 5       Més de 1.000.000                   BARCELONA        Barcelonès
## 6 De 150.001 a 1.000.000 HOSPITALET DE LLOBREGAT, L&#39;        Barcelonès
## 7       Més de 1.000.000                   BARCELONA        Barcelonès
##   DOMICILI_PARTICULAR LLENGUA_ENQUESTA LLENGUA_SISTEMA PADRO
## 1                  Sí           Català          Català    Sí
## 2                  Sí         Castellà        Castellà    Sí
## 3                  Sí           Català          Català    Sí
## 4                  Sí           Català          Català    Sí
## 5                  Sí         Castellà        Castellà    Sí
## 6                  Sí         Castellà        Castellà    Sí
## 7                  Sí           Català          Català    Sí
##                           CIUTADANIA SEXE EDAT         EDAT_GR
## 1 Sí, tinc la ciutadania (espanyola) Home   61 De 50 a 64 anys
## 2 Sí, tinc la ciutadania (espanyola) Dona   62 De 50 a 64 anys
## 3 Sí, tinc la ciutadania (espanyola) Dona   58 De 50 a 64 anys
## 4 Sí, tinc la ciutadania (espanyola) Dona   83   65 anys o més
## 5 Sí, tinc la ciutadania (espanyola) Dona   25 De 25 a 34 anys
## 6 Sí, tinc la ciutadania (espanyola) Dona   70   65 anys o més
## 7 Sí, tinc la ciutadania (espanyola) Home   44 De 35 a 49 anys
##           EDAT_CEO       US_TELEFON_FIX                   LLOC_NAIX
## 1  De 60 a 64 anys         Sí, en fa ús                   Catalunya
## 2  De 60 a 64 anys                   No Altres comunitats autònomes
## 3  De 55 a 59 anys         Sí, en fa ús Altres comunitats autònomes
## 4 De 80 anys i més         Sí, en fa ús                   Catalunya
## 5  De 25 a 29 anys                   No                   Catalunya
## 6  De 70 a 74 anys                   No Altres comunitats autònomes
## 7  De 40 a 44 anys Sí, però no en fa ús                   Catalunya
##   HORA_PRIMERA_PREGUNTA CIRCUIT_992_1                 P1           P2
## 1                    NA             1            Dolenta Molt dolenta
## 2                    NA             2       Molt dolenta         Bona
## 3                    NA             1       Molt dolenta      Dolenta
## 4                    NA             1 Ni bona ni dolenta    No ho sap
## 5                    NA             2            Dolenta      Dolenta
## 6                    NA             1       Molt dolenta Molt dolenta
## 7                    NA             1            Dolenta      Dolenta
##        P3        P4                      P5    P5_LITERALS          P6
## 1 Bastant         4                     CUP              -    Esquerra
## 2     Poc         5 Catalunya en Comú Podem              -    Esquerra
## 3 Bastant         5                     PSC              -    Esquerra
## 4     Poc         6     Junts per Catalunya              -    Esquerra
## 5 Bastant         5                 Podemos unidas podemos    Esquerra
## 6 Bastant No ho sap             No contesta              - No contesta
## 7 Bastant         6                  PDeCAT              -       Dreta
##                  P7                                P8
## 1 Màxim catalanisme Un nivell insuficient d’autonomia
## 2                 7   Un nivell suficient d’autonomia
## 3                 5   Un nivell suficient d’autonomia
## 4 Màxim catalanisme Un nivell insuficient d’autonomia
## 5                 7 Un nivell insuficient d’autonomia
## 6 Mínim catalanisme   Un nivell suficient d’autonomia
## 7                 9 Un nivell insuficient d’autonomia
##                                  P9 P10
## 1              Un Estat independent  Sí
## 2               Una regió d’Espanya  No
## 3 Un Estat dins una Espanya federal  No
## 4              Un Estat independent  Sí
## 5 Un Estat dins una Espanya federal  No
## 6               Una regió d’Espanya  No
## 7              Un Estat independent  Sí
##                                   P11                  P12_1
## 1    Amb tota seguretat aniré a votar           La ideologia
## 2    Amb tota seguretat aniré a votar El líder/cap de llista
## 3    Amb tota seguretat aniré a votar           La ideologia
## 4    Amb tota seguretat aniré a votar        El propi partit
## 5    Amb tota seguretat aniré a votar           La ideologia
## 6 Amb tota seguretat no aniré a votar           La ideologia
## 7    Amb tota seguretat aniré a votar        El propi partit
##                                             P12_2                P13_A
## 1                        Les propostes electorals Ho té molt en compte
## 2                        Les propostes electorals                    5
## 3 L’actuació en el Govern/L’actuació a l’oposició                    7
## 4                                                            No ho sap
## 5                                                                    7
## 6 L’actuació en el Govern/L’actuació a l’oposició            No ho sap
## 7                        Les propostes electorals Ho té molt en compte
##                     P13_B                P13_C                   P13_D
## 1                       8 Ho té molt en compte                       8
## 2    Ho té molt en compte Ho té molt en compte                       8
## 3    Ho té molt en compte                    9                       8
## 4               No ho sap                    9    Ho té molt en compte
## 5    Ho té molt en compte Ho té molt en compte                       8
## 6    Ho té molt en compte Ho té molt en compte    Ho té molt en compte
## 7 No ho té gens en compte Ho té molt en compte No ho té gens en compte
##                     P13_E                           P14
## 1                       5 Abans que comenci la campanya
## 2                       8 Abans que comenci la campanya
## 3                       7 Abans que comenci la campanya
## 4               No ho sap Abans que comenci la campanya
## 5                       9 Abans que comenci la campanya
## 6    Ho té molt en compte Abans que comenci la campanya
## 7 No ho té gens en compte Abans que comenci la campanya
##                   P15  P15_LITERALS P16_1                   P16_2
## 1                 CUP             -                              
## 2           No ho sap             -   ERC Catalunya en Comú Podem
## 3                 PSC             -                              
## 4 Junts per Catalunya             -                              
## 5       En Comú Podem en comu podem                              
## 6         No contesta             -                              
## 7 Junts per Catalunya             -                              
##            P16_3 P16_4 P16_LITERALS                     P17
## 1                                 -                     ERC
## 2 Altres partits             verdes Catalunya en Comú Podem
## 3                                 -                     ERC
## 4                                 -           No ho recorda
## 5                                 -           No ho recorda
## 6                                 -           No ho recorda
## 7                                 -     Junts per Catalunya
##                     P17_LITERALS                        P18_A
## 1                              - Estic segur/a que vaig votar
## 2                              - Estic segur/a que vaig votar
## 3                              - Estic segur/a que vaig votar
## 4                              - Estic segur/a que vaig votar
## 5 junts per catalunya y esquerra Estic segur/a que vaig votar
## 6                              - Estic segur/a que vaig votar
## 7                              - Estic segur/a que vaig votar
##                 P18_B P18_B_LITERALS P19A_A_FERNANDEZ P19B_A_FERNANDEZ
## 1                 CUP              -               Sí   Molt deficient
## 2       No ho recorda              -               No                 
## 3                 PSC              -               Sí                4
## 4 Junts per Catalunya              -        No ho sap                 
## 5             Podemos        podemos               No                 
## 6         No contesta              -               No                 
## 7 Junts per Catalunya              -               Sí                2
##   P19A_L_BORRAS P19B_L_BORRAS P19A_P_ARAGONES P19B_P_ARAGONES
## 1            Sí             8              Sí               6
## 2            Sí     No ho sap              Sí       No ho sap
## 3            Sí             4              Sí               6
## 4            Sí             8              Sí               7
## 5            Sí             7              Sí               6
## 6            Sí     No ho sap              Sí       No ho sap
## 7            Sí             9              Sí               5
##   P19A_S_ILLA P19B_S_ILLA P19A_J_ALBIACH P19B_J_ALBIACH P19A_C_CARRIZOSA
## 1          Sí           5             Sí              7               Sí
## 2          Sí  Excel·lent             No                              No
## 3          Sí           7             No                              Sí
## 4          Sí           5             Sí      No ho sap               Sí
## 5          Sí           7             No                              No
## 6          Sí   No ho sap             No                              Sí
## 7          Sí           3             Sí              4               Sí
##   P19B_C_CARRIZOSA P19A_D_SABATER P19B_D_SABATER P19A_I_GARRIGA
## 1   Molt deficient             Sí     Excel·lent             Sí
## 2                              Sí              5             No
## 3                4             No                            No
## 4   Molt deficient             Sí              7             No
## 5                              No                            No
## 6        No ho sap             Sí      No ho sap             No
## 7   Molt deficient             Sí              6             No
##   P19B_I_GARRIGA P19A_A_CHACON P19B_A_CHACON  P20
## 1 Molt deficient            Sí             5     
## 2                           No               1970
## 3                           Sí             5 1966
## 4                           Sí     No ho sap     
## 5                           Sí             5     
## 6                           No               1969
## 7                           Sí             5     
##                           P21                         P22
## 1                   Catalunya                   Catalunya
## 2 Altres comunitats autònomes Altres comunitats autònomes
## 3 Altres comunitats autònomes Altres comunitats autònomes
## 4                   Catalunya                   Catalunya
## 5                   Catalunya                   Catalunya
## 6                Unió Europea                Unió Europea
## 7                   Catalunya                   Catalunya
##                 P23 P23_LITERALS                   P24         P25
## 1       Catolicisme            -               No, mai    Treballa
## 2       Catolicisme            -               No, mai No treballa
## 3       Catolicisme            - Sí, algun cop a l’any    Treballa
## 4 Cap: Agnosticisme            -                       No treballa
## 5       Catolicisme            -               No, mai    Treballa
## 6       Catolicisme            -               No, mai No treballa
## 7       No contesta            -               No, mai    Treballa
##                                              P26
## 1                                               
## 2           Aturat /ada i busca la primera feina
## 3                                               
## 4            Pensionista (abans no ha treballat)
## 5                                               
## 6 Jubilat/ada o pensionista (abans ha treballat)
## 7                                               
##                            P27
## 1 Assalariat/ada indefinit/ida
## 2                             
## 3 Assalariat/ada indefinit/ida
## 4                             
## 5 Assalariat/ada indefinit/ida
## 6                             
## 7 Assalariat/ada indefinit/ida
##                                                          P28
## 1                                              Sector privat
## 2                                                           
## 3 Sector públic (Administració Pública + empreses públiques)
## 4                                                           
## 5                                              Sector privat
## 6                                              Sector privat
## 7                                              Sector privat
##                                                                                                        P29
## 1                                                        Batxillerat, BUP, COU, Batxillerat superior, PREU
## 2 ESO completa (Graduat escolar), EGB, Batxiller elemental o Certificat d’Escolaritat o d’Estudis Primaris
## 3                                    Cursos d’especialització professional, Postgrau, Màster (MIR, FIR...)
## 4 ESO completa (Graduat escolar), EGB, Batxiller elemental o Certificat d’Escolaritat o d’Estudis Primaris
## 5                                Llicenciatura, Arquitectura, Enginyeria, Grau o equivalent (4 anys o més)
## 6 ESO completa (Graduat escolar), EGB, Batxiller elemental o Certificat d’Escolaritat o d’Estudis Primaris
## 7                                  Cicle formatiu de grau superior, FP2, Mestratge industrial o equivalent
##   P29_LITERALS                 P30 P31                           P32
## 1            -           Casat/ada   2              Només català/ana
## 2            -       Divorciat/ada   2 Tan espanyol/a com català/ana
## 3            -           Casat/ada   2 Tan espanyol/a com català/ana
## 4            -           Casat/ada   2              Només català/ana
## 5            - Amb parella estable   0 Tan espanyol/a com català/ana
## 6            -         Separat/ada   1 Tan espanyol/a com català/ana
## 7            -            Solter/a   0              Només català/ana
##                        P33 P33_LITERALS
## 1 Català (Valencià/Balear)            -
## 2                 Castellà            -
## 3                 Castellà            -
## 4 Català (Valencià/Balear)            -
## 5                 Castellà            -
## 6                 Castellà            -
## 7 Català (Valencià/Balear)            -
##                                     P34         P34_LITERALS
## 1              Català (Valencià/Balear)                    -
## 2                              Castellà                    -
## 3                              Castellà                    -
## 4              Català (Valencià/Balear)                    -
## 5              Català (Valencià/Balear)                    -
## 6 Altres llengües o altres combinacions GALLEGO - CASTELLANO
## 7              Català (Valencià/Balear)                    -
##                    P35                       P36 P37
## 1       Classe mitjana                             3
## 2                      Classe treballadora baixa   1
## 3 Classe mitjana-baixa                             3
## 4       Classe mitjana                             5
## 5                                 Classe mitjana   4
## 6       Classe mitjana                             2
## 7  Classe mitjana-alta                             1
##                     P38 P39             P40_1 P40_2 P40_3 P40_4
## 1 Entre 2.001\200 i 3.000\200  No                                  NA
## 2    Inferiors a 1.000\200  No                                  NA
## 3 Entre 3.001\200 i 4.000\200  No                                  NA
## 4             No ho sap  Sí Mobilitat reduïda                NA
## 5 Entre 2.001\200 i 3.000\200  No                                  NA
## 6 Entre 1.001\200 i 2.000\200  No                                  NA
## 7 Entre 1.001\200 i 2.000\200  No                                  NA
##   P40_LITERALS HORA_ÚLTIMA_PREGUNTA E1        E2   E3      E4      E5
## 1            -                   NA No       Mai Gens    Molt    Molt
## 2            -                   NA No       Mai Gens    Molt    Molt
## 3            -                   NA No       Mai Gens    Molt    Molt
## 4            -                   NA No Quasi mai  Poc Bastant Bastant
## 5            -                   NA No       Mai Gens    Molt    Molt
## 6            -                   NA No       Mai Molt     Poc    Molt
## 7            -                   NA No       Mai Gens Bastant    Molt
##        E6 SUPERVISADA                     P5R                    P15R
## 1    Molt          Sí                     CUP                     CUP
## 2 Bastant             Catalunya en Comú Podem                   NS/NC
## 3 Bastant          Sí                     PSC                     PSC
## 4 Bastant                 Junts per Catalunya     Junts per Catalunya
## 5    Molt             Catalunya en Comú Podem Catalunya en Comú Podem
## 6     Poc          Sí                   NS/NC                   NS/NC
## 7 Bastant                              PDeCAT     Junts per Catalunya
##   P16_1R                  P16_2R        P16_3R P16_4R
## 1                                                    
## 2    ERC Catalunya en Comú Podem Altres, blanc       
## 3                                                    
## 4                                                    
## 5                                                    
## 6                                                    
## 7                                                    
##                      P17R                    P18R            P18_CENS
## 1                     ERC                     CUP                 CUP
## 2 Catalunya en Comú Podem                   NS/NC       No ho recorda
## 3                     ERC                     PSC                 PSC
## 4                   NS/NC     Junts per Catalunya Junts per Catalunya
## 5                   NS/NC Catalunya en Comú Podem             Podemos
## 6                   NS/NC                   NS/NC         No contesta
## 7     Junts per Catalunya     Junts per Catalunya Junts per Catalunya
##                 P18R_CENS         P16R
## 1                     CUP             
## 2                   NS/NC ERC / Altres
## 3                     PSC             
## 4     Junts per Catalunya             
## 5 Catalunya en Comú Podem             
## 6                   NS/NC             
## 7     Junts per Catalunya             
##  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 1093 rows ]</code></pre>
<pre class="r"><code>names(ceo)</code></pre>
<pre><code>##   [1] &quot;X.U.FEFF.PONDERA&quot;         &quot;ORDRE_REVISADA&quot;          
##   [3] &quot;ANY&quot;                      &quot;MES&quot;                     
##   [5] &quot;DIA&quot;                      &quot;HOR_INI&quot;                 
##   [7] &quot;HOR_FIN&quot;                  &quot;DURADA&quot;                  
##   [9] &quot;TIP_TEL&quot;                  &quot;ENQUESTADOR_CODI&quot;        
##  [11] &quot;ENQUESTADOR_SEXE&quot;         &quot;ENQUESTADOR_EDAT&quot;        
##  [13] &quot;ENQUESTADOR_ESTUDIS&quot;      &quot;ENQUESTADOR_NACIONALITAT&quot;
##  [15] &quot;NUM_QUEST_CAMP&quot;           &quot;PROVINCIA&quot;               
##  [17] &quot;HABITAT&quot;                  &quot;MUNICIPI&quot;                
##  [19] &quot;COMARCA&quot;                  &quot;DOMICILI_PARTICULAR&quot;     
##  [21] &quot;LLENGUA_ENQUESTA&quot;         &quot;LLENGUA_SISTEMA&quot;         
##  [23] &quot;PADRO&quot;                    &quot;CIUTADANIA&quot;              
##  [25] &quot;SEXE&quot;                     &quot;EDAT&quot;                    
##  [27] &quot;EDAT_GR&quot;                  &quot;EDAT_CEO&quot;                
##  [29] &quot;US_TELEFON_FIX&quot;           &quot;LLOC_NAIX&quot;               
##  [31] &quot;HORA_PRIMERA_PREGUNTA&quot;    &quot;CIRCUIT_992_1&quot;           
##  [33] &quot;P1&quot;                       &quot;P2&quot;                      
##  [35] &quot;P3&quot;                       &quot;P4&quot;                      
##  [37] &quot;P5&quot;                       &quot;P5_LITERALS&quot;             
##  [39] &quot;P6&quot;                       &quot;P7&quot;                      
##  [41] &quot;P8&quot;                       &quot;P9&quot;                      
##  [43] &quot;P10&quot;                      &quot;P11&quot;                     
##  [45] &quot;P12_1&quot;                    &quot;P12_2&quot;                   
##  [47] &quot;P13_A&quot;                    &quot;P13_B&quot;                   
##  [49] &quot;P13_C&quot;                    &quot;P13_D&quot;                   
##  [51] &quot;P13_E&quot;                    &quot;P14&quot;                     
##  [53] &quot;P15&quot;                      &quot;P15_LITERALS&quot;            
##  [55] &quot;P16_1&quot;                    &quot;P16_2&quot;                   
##  [57] &quot;P16_3&quot;                    &quot;P16_4&quot;                   
##  [59] &quot;P16_LITERALS&quot;             &quot;P17&quot;                     
##  [61] &quot;P17_LITERALS&quot;             &quot;P18_A&quot;                   
##  [63] &quot;P18_B&quot;                    &quot;P18_B_LITERALS&quot;          
##  [65] &quot;P19A_A_FERNANDEZ&quot;         &quot;P19B_A_FERNANDEZ&quot;        
##  [67] &quot;P19A_L_BORRAS&quot;            &quot;P19B_L_BORRAS&quot;           
##  [69] &quot;P19A_P_ARAGONES&quot;          &quot;P19B_P_ARAGONES&quot;         
##  [71] &quot;P19A_S_ILLA&quot;              &quot;P19B_S_ILLA&quot;             
##  [73] &quot;P19A_J_ALBIACH&quot;           &quot;P19B_J_ALBIACH&quot;          
##  [75] &quot;P19A_C_CARRIZOSA&quot;         &quot;P19B_C_CARRIZOSA&quot;        
##  [77] &quot;P19A_D_SABATER&quot;           &quot;P19B_D_SABATER&quot;          
##  [79] &quot;P19A_I_GARRIGA&quot;           &quot;P19B_I_GARRIGA&quot;          
##  [81] &quot;P19A_A_CHACON&quot;            &quot;P19B_A_CHACON&quot;           
##  [83] &quot;P20&quot;                      &quot;P21&quot;                     
##  [85] &quot;P22&quot;                      &quot;P23&quot;                     
##  [87] &quot;P23_LITERALS&quot;             &quot;P24&quot;                     
##  [89] &quot;P25&quot;                      &quot;P26&quot;                     
##  [91] &quot;P27&quot;                      &quot;P28&quot;                     
##  [93] &quot;P29&quot;                      &quot;P29_LITERALS&quot;            
##  [95] &quot;P30&quot;                      &quot;P31&quot;                     
##  [97] &quot;P32&quot;                      &quot;P33&quot;                     
##  [99] &quot;P33_LITERALS&quot;             &quot;P34&quot;                     
## [101] &quot;P34_LITERALS&quot;             &quot;P35&quot;                     
## [103] &quot;P36&quot;                      &quot;P37&quot;                     
## [105] &quot;P38&quot;                      &quot;P39&quot;                     
## [107] &quot;P40_1&quot;                    &quot;P40_2&quot;                   
## [109] &quot;P40_3&quot;                    &quot;P40_4&quot;                   
## [111] &quot;P40_LITERALS&quot;             &quot;HORA_ÚLTIMA_PREGUNTA&quot;    
## [113] &quot;E1&quot;                       &quot;E2&quot;                      
## [115] &quot;E3&quot;                       &quot;E4&quot;                      
## [117] &quot;E5&quot;                       &quot;E6&quot;                      
## [119] &quot;SUPERVISADA&quot;              &quot;P5R&quot;                     
## [121] &quot;P15R&quot;                     &quot;P16_1R&quot;                  
## [123] &quot;P16_2R&quot;                   &quot;P16_3R&quot;                  
## [125] &quot;P16_4R&quot;                   &quot;P17R&quot;                    
## [127] &quot;P18R&quot;                     &quot;P18_CENS&quot;                
## [129] &quot;P18R_CENS&quot;                &quot;P16R&quot;</code></pre>
<pre class="r"><code>glimpse(ceo)</code></pre>
<pre><code>## Rows: 1,100
## Columns: 130
## $ X.U.FEFF.PONDERA         &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ ORDRE_REVISADA           &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...
## $ ANY                      &lt;int&gt; 2021, 2021, 2021, 2021, 2021, 2021,...
## $ MES                      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ DIA                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_INI                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_FIN                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ DURADA                   &lt;int&gt; 571, 775, 748, 933, 983, 1104, 1438...
## $ TIP_TEL                  &lt;chr&gt; &quot;Trucada a telèfon mòbil&quot;, &quot;Trucada...
## $ ENQUESTADOR_CODI         &lt;int&gt; 98, 98, 629, 629, 852, 98, 629, 98,...
## $ ENQUESTADOR_SEXE         &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ ENQUESTADOR_EDAT         &lt;int&gt; 42, 42, 58, 58, 63, 42, 58, 42, 58,...
## $ ENQUESTADOR_ESTUDIS      &lt;chr&gt; &quot;ESO, EGB, FP1, Batxillerat element...
## $ ENQUESTADOR_NACIONALITAT &lt;chr&gt; &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;E...
## $ NUM_QUEST_CAMP           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ PROVINCIA                &lt;chr&gt; &quot;BARCELONA&quot;, &quot;BARCELONA&quot;, &quot;TARRAGON...
## $ HABITAT                  &lt;chr&gt; &quot;De 10.001 a 50.000&quot;, &quot;De 150.001 a...
## $ MUNICIPI                 &lt;chr&gt; &quot; &quot;, &quot;HOSPITALET DE LLOBREGAT, L&#39;&quot;,...
## $ COMARCA                  &lt;chr&gt; &quot;Baix Llobregat&quot;, &quot;Barcelonès&quot;, &quot;Ta...
## $ DOMICILI_PARTICULAR      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ LLENGUA_ENQUESTA         &lt;chr&gt; &quot;Català&quot;, &quot;Castellà&quot;, &quot;Català&quot;, &quot;Ca...
## $ LLENGUA_SISTEMA          &lt;chr&gt; &quot;Català&quot;, &quot;Castellà&quot;, &quot;Català&quot;, &quot;Ca...
## $ PADRO                    &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ CIUTADANIA               &lt;chr&gt; &quot;Sí, tinc la ciutadania (espanyola)...
## $ SEXE                     &lt;chr&gt; &quot;Home&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ EDAT                     &lt;int&gt; 61, 62, 58, 83, 25, 70, 44, 36, 49,...
## $ EDAT_GR                  &lt;chr&gt; &quot;De 50 a 64 anys&quot;, &quot;De 50 a 64 anys...
## $ EDAT_CEO                 &lt;chr&gt; &quot;De 60 a 64 anys&quot;, &quot;De 60 a 64 anys...
## $ US_TELEFON_FIX           &lt;chr&gt; &quot;Sí, en fa ús&quot;, &quot;No&quot;, &quot;Sí, en fa ús...
## $ LLOC_NAIX                &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ HORA_PRIMERA_PREGUNTA    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ CIRCUIT_992_1            &lt;int&gt; 1, 2, 1, 1, 2, 1, 1, 1, 2, 1, 1, 2,...
## $ P1                       &lt;chr&gt; &quot;Dolenta&quot;, &quot;Molt dolenta&quot;, &quot;Molt do...
## $ P2                       &lt;chr&gt; &quot;Molt dolenta&quot;, &quot;Bona&quot;, &quot;Dolenta&quot;, ...
## $ P3                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Poc&quot;, &quot;Bastant&quot;, &quot;Poc&quot;,...
## $ P4                       &lt;chr&gt; &quot;4&quot;, &quot;5&quot;, &quot;5&quot;, &quot;6&quot;, &quot;5&quot;, &quot;No ho sap...
## $ P5                       &lt;chr&gt; &quot;CUP&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P5_LITERALS              &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;unidas podemos...
## $ P6                       &lt;chr&gt; &quot;Esquerra&quot;, &quot;Esquerra&quot;, &quot;Esquerra&quot;,...
## $ P7                       &lt;chr&gt; &quot;Màxim catalanisme&quot;, &quot;7&quot;, &quot;5&quot;, &quot;Màx...
## $ P8                       &lt;chr&gt; &quot;Un nivell insuficient d’autonomia&quot;...
## $ P9                       &lt;chr&gt; &quot;Un Estat independent&quot;, &quot;Una regió ...
## $ P10                      &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P11                      &lt;chr&gt; &quot;Amb tota seguretat aniré a votar&quot;,...
## $ P12_1                    &lt;chr&gt; &quot;La ideologia&quot;, &quot;El líder/cap de ll...
## $ P12_2                    &lt;chr&gt; &quot;Les propostes electorals&quot;, &quot;Les pr...
## $ P13_A                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;5&quot;, &quot;7&quot;, &quot;...
## $ P13_B                    &lt;chr&gt; &quot;8&quot;, &quot;Ho té molt en compte&quot;, &quot;Ho té...
## $ P13_C                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;Ho té molt...
## $ P13_D                    &lt;chr&gt; &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;Ho té molt en compt...
## $ P13_E                    &lt;chr&gt; &quot;5&quot;, &quot;8&quot;, &quot;7&quot;, &quot;No ho sap&quot;, &quot;9&quot;, &quot;H...
## $ P14                      &lt;chr&gt; &quot;Abans que comenci la campanya&quot;, &quot;A...
## $ P15                      &lt;chr&gt; &quot;CUP&quot;, &quot;No ho sap&quot;, &quot;PSC&quot;, &quot;Junts p...
## $ P15_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;en comu podem&quot;...
## $ P16_1                    &lt;chr&gt; &quot; &quot;, &quot;ERC&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_2                    &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem&quot;, &quot; &quot;...
## $ P16_3                    &lt;chr&gt; &quot; &quot;, &quot;Altres partits&quot;, &quot; &quot;, &quot; &quot;, &quot; ...
## $ P16_4                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;verdes&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P17                      &lt;chr&gt; &quot;ERC&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P17_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;junts per cata...
## $ P18_A                    &lt;chr&gt; &quot;Estic segur/a que vaig votar&quot;, &quot;Es...
## $ P18_B                    &lt;chr&gt; &quot;CUP&quot;, &quot;No ho recorda&quot;, &quot;PSC&quot;, &quot;Jun...
## $ P18_B_LITERALS           &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;podemos&quot;, &quot;-&quot;,...
## $ P19A_A_FERNANDEZ         &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No ho sap&quot;, &quot;No&quot;...
## $ P19B_A_FERNANDEZ         &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot;4&quot;, &quot; &quot;, &quot; ...
## $ P19A_L_BORRAS            &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_L_BORRAS            &lt;chr&gt; &quot;8&quot;, &quot;No ho sap&quot;, &quot;4&quot;, &quot;8&quot;, &quot;7&quot;, &quot;N...
## $ P19A_P_ARAGONES          &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_P_ARAGONES          &lt;chr&gt; &quot;6&quot;, &quot;No ho sap&quot;, &quot;6&quot;, &quot;7&quot;, &quot;6&quot;, &quot;N...
## $ P19A_S_ILLA              &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_S_ILLA              &lt;chr&gt; &quot;5&quot;, &quot;Excel·lent&quot;, &quot;7&quot;, &quot;5&quot;, &quot;7&quot;, &quot;...
## $ P19A_J_ALBIACH           &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_J_ALBIACH           &lt;chr&gt; &quot;7&quot;, &quot; &quot;, &quot; &quot;, &quot;No ho sap&quot;, &quot; &quot;, &quot; ...
## $ P19A_C_CARRIZOSA         &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_C_CARRIZOSA         &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot;4&quot;, &quot;Molt d...
## $ P19A_D_SABATER           &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_D_SABATER           &lt;chr&gt; &quot;Excel·lent&quot;, &quot;5&quot;, &quot; &quot;, &quot;7&quot;, &quot; &quot;, &quot;...
## $ P19A_I_GARRIGA           &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_I_GARRIGA           &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; ...
## $ P19A_A_CHACON            &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_A_CHACON            &lt;chr&gt; &quot;5&quot;, &quot; &quot;, &quot;5&quot;, &quot;No ho sap&quot;, &quot;5&quot;, &quot; ...
## $ P20                      &lt;chr&gt; &quot; &quot;, &quot;1970&quot;, &quot;1966&quot;, &quot; &quot;, &quot; &quot;, &quot;196...
## $ P21                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ P22                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ P23                      &lt;chr&gt; &quot;Catolicisme&quot;, &quot;Catolicisme&quot;, &quot;Cato...
## $ P23_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P24                      &lt;chr&gt; &quot;No, mai&quot;, &quot;No, mai&quot;, &quot;Sí, algun co...
## $ P25                      &lt;chr&gt; &quot;Treballa&quot;, &quot;No treballa&quot;, &quot;Treball...
## $ P26                      &lt;chr&gt; &quot; &quot;, &quot;Aturat /ada i busca la primer...
## $ P27                      &lt;chr&gt; &quot;Assalariat/ada indefinit/ida&quot;, &quot; &quot;...
## $ P28                      &lt;chr&gt; &quot;Sector privat&quot;, &quot; &quot;, &quot;Sector públi...
## $ P29                      &lt;chr&gt; &quot;Batxillerat, BUP, COU, Batxillerat...
## $ P29_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P30                      &lt;chr&gt; &quot;Casat/ada&quot;, &quot;Divorciat/ada&quot;, &quot;Casa...
## $ P31                      &lt;int&gt; 2, 2, 2, 2, 0, 1, 0, 2, 0, 0, 3, 8,...
## $ P32                      &lt;chr&gt; &quot;Només català/ana&quot;, &quot;Tan espanyol/a...
## $ P33                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Castel...
## $ P33_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P34                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Castel...
## $ P34_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;GALLEGO -...
## $ P35                      &lt;chr&gt; &quot;Classe mitjana&quot;, &quot; &quot;, &quot;Classe mitj...
## $ P36                      &lt;chr&gt; &quot; &quot;, &quot;Classe treballadora baixa&quot;, &quot;...
## $ P37                      &lt;int&gt; 3, 1, 3, 5, 4, 2, 1, 4, 2, 2, 2, 2,...
## $ P38                      &lt;chr&gt; &quot;Entre 2.001€ i 3.000€&quot;, &quot;Inferiors...
## $ P39                      &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P40_1                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;Mobilitat reduïda&quot;,...
## $ P40_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_4                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ P40_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ HORA_ÚLTIMA_PREGUNTA     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ E1                       &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ E2                       &lt;chr&gt; &quot;Mai&quot;, &quot;Mai&quot;, &quot;Mai&quot;, &quot;Quasi mai&quot;, &quot;...
## $ E3                       &lt;chr&gt; &quot;Gens&quot;, &quot;Gens&quot;, &quot;Gens&quot;, &quot;Poc&quot;, &quot;Gen...
## $ E4                       &lt;chr&gt; &quot;Molt&quot;, &quot;Molt&quot;, &quot;Molt&quot;, &quot;Bastant&quot;, ...
## $ E5                       &lt;chr&gt; &quot;Molt&quot;, &quot;Molt&quot;, &quot;Molt&quot;, &quot;Bastant&quot;, ...
## $ E6                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Bast...
## $ SUPERVISADA              &lt;chr&gt; &quot;Sí&quot;, &quot; &quot;, &quot;Sí&quot;, &quot; &quot;, &quot; &quot;, &quot;Sí&quot;, &quot; ...
## $ P5R                      &lt;chr&gt; &quot;CUP&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P15R                     &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P16_1R                   &lt;chr&gt; &quot; &quot;, &quot;ERC&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_2R                   &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem&quot;, &quot; &quot;...
## $ P16_3R                   &lt;chr&gt; &quot; &quot;, &quot;Altres, blanc&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;...
## $ P16_4R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P17R                     &lt;chr&gt; &quot;ERC&quot;, &quot;Catalunya en Comú Podem&quot;, &quot;...
## $ P18R                     &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P18_CENS                 &lt;chr&gt; &quot;CUP&quot;, &quot;No ho recorda&quot;, &quot;PSC&quot;, &quot;Jun...
## $ P18R_CENS                &lt;chr&gt; &quot;CUP&quot;, &quot;NS/NC&quot;, &quot;PSC&quot;, &quot;Junts per C...
## $ P16R                     &lt;chr&gt; &quot; &quot;, &quot;ERC / Altres&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;,...</code></pre>
<pre class="r"><code>ceo &lt;- as_tibble(ceo)
class(ceo)</code></pre>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
</div>
<div id="filtrar-filter" class="section level4">
<h4>1. Filtrar (filter)</h4>
<p>La funció filtrar ens permet crear un subconjunt de files d’un marc de dades determinat sobre la base d’una o més condcions lògiques.</p>
<p>Suposem que volem veure només les observacions d’una sola provincia: en aquest cas la de Girona. Com veiem hi ha una variable que es diu “PROVINCIA”. Apliquem la funció filter() amb la funció pipe().</p>
<pre class="r"><code>table(ceo$PROVINCIA) ### Observem quans casos hi ha a Girona i quina és l&#39;etiqueta exacte.</code></pre>
<pre><code>## 
## BARCELONA    GIRONA    LLEIDA TARRAGONA 
##       852        79        64       105</code></pre>
<pre class="r"><code>ceo_girona &lt;- ceo %&gt;% filter(PROVINCIA == &quot;GIRONA&quot;) ### Filtrem usant pipe() i filter()
glimpse(ceo_girona) ### Analtizem la nova base de dades</code></pre>
<pre><code>## Rows: 79
## Columns: 130
## $ X.U.FEFF.PONDERA         &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ ORDRE_REVISADA           &lt;int&gt; 16, 27, 35, 43, 54, 61, 81, 84, 128...
## $ ANY                      &lt;int&gt; 2021, 2021, 2021, 2021, 2021, 2021,...
## $ MES                      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ DIA                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_INI                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_FIN                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ DURADA                   &lt;int&gt; 563, 670, 728, 625, 1138, 1141, 931...
## $ TIP_TEL                  &lt;chr&gt; &quot;Trucada a telèfon fix&quot;, &quot;Trucada a...
## $ ENQUESTADOR_CODI         &lt;int&gt; 629, 18, 853, 813, 877, 851, 144, 8...
## $ ENQUESTADOR_SEXE         &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ ENQUESTADOR_EDAT         &lt;int&gt; 58, 46, 43, 43, 35, 42, 47, 63, 58,...
## $ ENQUESTADOR_ESTUDIS      &lt;chr&gt; &quot;Batxillerat, BUP, FP2, COU, Mòdul ...
## $ ENQUESTADOR_NACIONALITAT &lt;chr&gt; &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;E...
## $ NUM_QUEST_CAMP           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ PROVINCIA                &lt;chr&gt; &quot;GIRONA&quot;, &quot;GIRONA&quot;, &quot;GIRONA&quot;, &quot;GIRO...
## $ HABITAT                  &lt;chr&gt; &quot;Menor o igual a 2.000&quot;, &quot;De 2.001 ...
## $ MUNICIPI                 &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ COMARCA                  &lt;chr&gt; &quot;Ripollès&quot;, &quot;Ripollès&quot;, &quot;Alt Empord...
## $ DOMICILI_PARTICULAR      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ LLENGUA_ENQUESTA         &lt;chr&gt; &quot;Català&quot;, &quot;Català&quot;, &quot;Castellà&quot;, &quot;Ca...
## $ LLENGUA_SISTEMA          &lt;chr&gt; &quot;Català&quot;, &quot;Català&quot;, &quot;Castellà&quot;, &quot;Ca...
## $ PADRO                    &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ CIUTADANIA               &lt;chr&gt; &quot;Sí, tinc la ciutadania (espanyola)...
## $ SEXE                     &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Home&quot;, &quot;Ho...
## $ EDAT                     &lt;int&gt; 59, 65, 37, 73, 25, 56, 35, 60, 24,...
## $ EDAT_GR                  &lt;chr&gt; &quot;De 50 a 64 anys&quot;, &quot;65 anys o més&quot;,...
## $ EDAT_CEO                 &lt;chr&gt; &quot;De 55 a 59 anys&quot;, &quot;De 65 a 69 anys...
## $ US_TELEFON_FIX           &lt;chr&gt; &quot;Sí, en fa ús&quot;, &quot;Sí, en fa ús&quot;, &quot;Sí...
## $ LLOC_NAIX                &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ HORA_PRIMERA_PREGUNTA    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ CIRCUIT_992_1            &lt;int&gt; 2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 1, 2,...
## $ P1                       &lt;chr&gt; &quot;Molt dolenta&quot;, &quot;Dolenta&quot;, &quot;Molt do...
## $ P2                       &lt;chr&gt; &quot;Dolenta&quot;, &quot;Dolenta&quot;, &quot;Molt dolenta...
## $ P3                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Poc&quot;, &quot;Gens&quot;, &quot;Bastant&quot;...
## $ P4                       &lt;chr&gt; &quot;8&quot;, &quot;4&quot;, &quot;1&quot;, &quot;2&quot;, &quot;4&quot;, &quot;3&quot;, &quot;4&quot;, ...
## $ P5                       &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Cap&quot;, &quot;Cap&quot;...
## $ P5_LITERALS              &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P6                       &lt;chr&gt; &quot;Centre-esquerra&quot;, &quot;Centre-esquerra...
## $ P7                       &lt;chr&gt; &quot;Màxim catalanisme&quot;, &quot;9&quot;, &quot;Mínim ca...
## $ P8                       &lt;chr&gt; &quot;Un nivell insuficient d’autonomia&quot;...
## $ P9                       &lt;chr&gt; &quot;Un Estat independent&quot;, &quot;Un Estat d...
## $ P10                      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P11                      &lt;chr&gt; &quot;Amb tota seguretat aniré a votar&quot;,...
## $ P12_1                    &lt;chr&gt; &quot;El líder/cap de llista&quot;, &quot;L’actuac...
## $ P12_2                    &lt;chr&gt; &quot;La ideologia&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;,...
## $ P13_A                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;8&quot;, &quot;No ho...
## $ P13_B                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;8&quot;, &quot;No ho...
## $ P13_C                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;4&quot;, &quot;No ho...
## $ P13_D                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;8&quot;, &quot;No ho...
## $ P13_E                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;Ho té molt...
## $ P14                      &lt;chr&gt; &quot;Abans que comenci la campanya&quot;, &quot;A...
## $ P15                      &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;No votarà&quot;,...
## $ P15_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P16_1                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;No h...
## $ P16_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_4                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P17                      &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;ERC&quot;, &quot;No h...
## $ P17_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P18_A                    &lt;chr&gt; &quot;Estic segur/a que vaig votar&quot;, &quot;Es...
## $ P18_B                    &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;ERC&quot;, &quot; &quot;, ...
## $ P18_B_LITERALS           &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P19A_A_FERNANDEZ         &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_A_FERNANDEZ         &lt;chr&gt; &quot;2&quot;, &quot;4&quot;, &quot; &quot;, &quot;5&quot;, &quot;2&quot;, &quot;No contes...
## $ P19A_L_BORRAS            &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_L_BORRAS            &lt;chr&gt; &quot;Excel·lent&quot;, &quot;8&quot;, &quot; &quot;, &quot;4&quot;, &quot;6&quot;, &quot;...
## $ P19A_P_ARAGONES          &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_P_ARAGONES          &lt;chr&gt; &quot;8&quot;, &quot;4&quot;, &quot; &quot;, &quot;6&quot;, &quot;4&quot;, &quot;No contes...
## $ P19A_S_ILLA              &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_S_ILLA              &lt;chr&gt; &quot;5&quot;, &quot;7&quot;, &quot;5&quot;, &quot;7&quot;, &quot;6&quot;, &quot;No contes...
## $ P19A_J_ALBIACH           &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_J_ALBIACH           &lt;chr&gt; &quot;5&quot;, &quot;6&quot;, &quot; &quot;, &quot;8&quot;, &quot;4&quot;, &quot; &quot;, &quot; &quot;, ...
## $ P19A_C_CARRIZOSA         &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_C_CARRIZOSA         &lt;chr&gt; &quot;Molt deficient&quot;, &quot;Molt deficient&quot;,...
## $ P19A_D_SABATER           &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_D_SABATER           &lt;chr&gt; &quot;7&quot;, &quot;4&quot;, &quot; &quot;, &quot;7&quot;, &quot;5&quot;, &quot;No contes...
## $ P19A_I_GARRIGA           &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_I_GARRIGA           &lt;chr&gt; &quot; &quot;, &quot;2&quot;, &quot; &quot;, &quot;Molt deficient&quot;, &quot; ...
## $ P19A_A_CHACON            &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_A_CHACON            &lt;chr&gt; &quot;6&quot;, &quot;6&quot;, &quot; &quot;, &quot;5&quot;, &quot;5&quot;, &quot;No contes...
## $ P20                      &lt;chr&gt; &quot; &quot;, &quot;1960&quot;, &quot; &quot;, &quot; &quot;, &quot;No contesta...
## $ P21                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ P22                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Altres comunitats aut...
## $ P23                      &lt;chr&gt; &quot;Catolicisme&quot;, &quot;Catolicisme&quot;, &quot;Cris...
## $ P23_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P24                      &lt;chr&gt; &quot;No, mai&quot;, &quot;Sí, algun cop a l’any&quot;,...
## $ P25                      &lt;chr&gt; &quot;Treballa&quot;, &quot;No treballa&quot;, &quot;Treball...
## $ P26                      &lt;chr&gt; &quot; &quot;, &quot;Jubilat/ada o pensionista (ab...
## $ P27                      &lt;chr&gt; &quot;Assalariat/ada indefinit/ida&quot;, &quot; &quot;...
## $ P28                      &lt;chr&gt; &quot;Sector privat&quot;, &quot;Sector privat&quot;, &quot;...
## $ P29                      &lt;chr&gt; &quot;Diplomatura, Enginyeria/arquitectu...
## $ P29_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P30                      &lt;chr&gt; &quot;Casat/ada&quot;, &quot;Casat/ada&quot;, &quot;Amb pare...
## $ P31                      &lt;int&gt; 2, 2, 2, 2, 0, 2, 2, 2, 0, 2, 2, 3,...
## $ P32                      &lt;chr&gt; &quot;Només català/ana&quot;, &quot;Més català/ana...
## $ P33                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Català...
## $ P33_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P34                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Castel...
## $ P34_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P35                      &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot;Classe mitjana&quot;, &quot; &quot;, &quot; ...
## $ P36                      &lt;chr&gt; &quot;Classe mitjana alta&quot;, &quot;Classe mitj...
## $ P37                      &lt;int&gt; 2, 2, 4, 2, 5, 3, 2, 2, 3, 3, 4, 5,...
## $ P38                      &lt;chr&gt; &quot;Entre 2.001€ i 3.000€&quot;, &quot;Entre 2.0...
## $ P39                      &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P40_1                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_4                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ P40_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ HORA_ÚLTIMA_PREGUNTA     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ E1                       &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ E2                       &lt;chr&gt; &quot;Mai&quot;, &quot;Quasi mai&quot;, &quot;Mai&quot;, &quot;Quasi m...
## $ E3                       &lt;chr&gt; &quot;Gens&quot;, &quot;Gens&quot;, &quot;Gens&quot;, &quot;Bastant&quot;, ...
## $ E4                       &lt;chr&gt; &quot;Molt&quot;, &quot;Gens&quot;, &quot;Bastant&quot;, &quot;Bastant...
## $ E5                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Bast...
## $ E6                       &lt;chr&gt; &quot;Molt&quot;, &quot;Molt&quot;, &quot;Molt&quot;, &quot;Bastant&quot;, ...
## $ SUPERVISADA              &lt;chr&gt; &quot; &quot;, &quot;Sí&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;,...
## $ P5R                      &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Cap&quot;, &quot;Cap&quot;...
## $ P15R                     &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;No votaria&quot;...
## $ P16_1R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;NS/N...
## $ P16_2R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_3R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_4R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P17R                     &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;ERC&quot;, &quot;NS/N...
## $ P18R                     &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;ERC&quot;, &quot; &quot;, ...
## $ P18_CENS                 &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;ERC&quot;, &quot;No v...
## $ P18R_CENS                &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;ERC&quot;, &quot;No v...
## $ P16R                     &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;NS/N...</code></pre>
<pre class="r"><code>table(ceo_girona$PROVINCIA) ### Comprovem el nombre de casos.</code></pre>
<pre><code>## 
## GIRONA 
##     79</code></pre>
<p>Hem aconseguit filtrar la base de dades de l’enquesta del CEO per els casos de la provincia de Girona.</p>
<p>Provem ara a realitzar dos filtratges a la vegada.</p>
<pre class="r"><code>ceo_tarragona_joves &lt;- ceo %&gt;% filter(PROVINCIA == &quot;TARRAGONA&quot;) %&gt;% filter(EDAT_GR == &quot;24 anys o menys&quot;)
glimpse(ceo_tarragona_joves)</code></pre>
<pre><code>## Rows: 9
## Columns: 130
## $ X.U.FEFF.PONDERA         &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1
## $ ORDRE_REVISADA           &lt;int&gt; 51, 820, 845, 870, 896, 956, 969, 1...
## $ ANY                      &lt;int&gt; 2021, 2021, 2021, 2021, 2021, 2021,...
## $ MES                      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1
## $ DIA                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA
## $ HOR_INI                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA
## $ HOR_FIN                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA
## $ DURADA                   &lt;int&gt; 520, 482, 751, 687, 632, 867, 949, ...
## $ TIP_TEL                  &lt;chr&gt; &quot;Trucada a telèfon fix&quot;, &quot;Trucada a...
## $ ENQUESTADOR_CODI         &lt;int&gt; 855, 813, 181, 848, 138, 491, 828, ...
## $ ENQUESTADOR_SEXE         &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Ho...
## $ ENQUESTADOR_EDAT         &lt;int&gt; 23, 43, 55, 36, 58, 55, 27, 55, 58
## $ ENQUESTADOR_ESTUDIS      &lt;chr&gt; &quot;Batxillerat, BUP, FP2, COU, Mòdul ...
## $ ENQUESTADOR_NACIONALITAT &lt;chr&gt; &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;E...
## $ NUM_QUEST_CAMP           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA
## $ PROVINCIA                &lt;chr&gt; &quot;TARRAGONA&quot;, &quot;TARRAGONA&quot;, &quot;TARRAGON...
## $ HABITAT                  &lt;chr&gt; &quot;De 2.001 a 10.000&quot;, &quot;De 2.001 a 10...
## $ MUNICIPI                 &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;TARRAGONA&quot;, &quot; ...
## $ COMARCA                  &lt;chr&gt; &quot;Tarragonès&quot;, &quot;Alt Camp&quot;, &quot;Tarragon...
## $ DOMICILI_PARTICULAR      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ LLENGUA_ENQUESTA         &lt;chr&gt; &quot;Català&quot;, &quot;Català&quot;, &quot;Català&quot;, &quot;Cast...
## $ LLENGUA_SISTEMA          &lt;chr&gt; &quot;Català&quot;, &quot;Català&quot;, &quot;Català&quot;, &quot;Cast...
## $ PADRO                    &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ CIUTADANIA               &lt;chr&gt; &quot;Sí, tinc la ciutadania (espanyola)...
## $ SEXE                     &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Home&quot;, &quot;Do...
## $ EDAT                     &lt;int&gt; 23, 22, 23, 21, 21, 22, 24, 19, 23
## $ EDAT_GR                  &lt;chr&gt; &quot;24 anys o menys&quot;, &quot;24 anys o menys...
## $ EDAT_CEO                 &lt;chr&gt; &quot;De 20 a 24 anys&quot;, &quot;De 20 a 24 anys...
## $ US_TELEFON_FIX           &lt;chr&gt; &quot;Sí, en fa ús&quot;, &quot;Sí, en fa ús&quot;, &quot;Sí...
## $ LLOC_NAIX                &lt;chr&gt; &quot;Catalunya&quot;, &quot;Catalunya&quot;, &quot;Cataluny...
## $ HORA_PRIMERA_PREGUNTA    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA
## $ CIRCUIT_992_1            &lt;int&gt; 2, 2, 1, 2, 2, 1, 2, 2, 1
## $ P1                       &lt;chr&gt; &quot;Dolenta&quot;, &quot;Dolenta&quot;, &quot;Bona&quot;, &quot;Dole...
## $ P2                       &lt;chr&gt; &quot;Dolenta&quot;, &quot;Dolenta&quot;, &quot;Dolenta&quot;, &quot;D...
## $ P3                       &lt;chr&gt; &quot;Gens&quot;, &quot;Molt&quot;, &quot;Poc&quot;, &quot;Poc&quot;, &quot;Bast...
## $ P4                       &lt;chr&gt; &quot;7&quot;, &quot;2&quot;, &quot;5&quot;, &quot;6&quot;, &quot;6&quot;, &quot;7&quot;, &quot;No h...
## $ P5                       &lt;chr&gt; &quot;Cap&quot;, &quot;No ho sap&quot;, &quot;C’s&quot;, &quot;PSC&quot;, &quot;...
## $ P5_LITERALS              &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;psoe&quot;, &quot;-...
## $ P6                       &lt;chr&gt; &quot;Esquerra&quot;, &quot;Esquerra&quot;, &quot;Centre-dre...
## $ P7                       &lt;chr&gt; &quot;7&quot;, &quot;5&quot;, &quot;5&quot;, &quot;8&quot;, &quot;8&quot;, &quot;5&quot;, &quot;3&quot;, ...
## $ P8                       &lt;chr&gt; &quot;Un nivell insuficient d’autonomia&quot;...
## $ P9                       &lt;chr&gt; &quot;Una comunitat autònoma d’Espanya&quot;,...
## $ P10                      &lt;chr&gt; &quot;No ho sap&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;...
## $ P11                      &lt;chr&gt; &quot;Amb tota seguretat no aniré a vota...
## $ P12_1                    &lt;chr&gt; &quot;Les propostes electorals&quot;, &quot;Les pr...
## $ P12_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;La ideologia&quot;, &quot; &quot;,...
## $ P13_A                    &lt;chr&gt; &quot;8&quot;, &quot;5&quot;, &quot;8&quot;, &quot;6&quot;, &quot;8&quot;, &quot;7&quot;, &quot;5&quot;, ...
## $ P13_B                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;Ho té molt...
## $ P13_C                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;Ho té molt...
## $ P13_D                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;Ho té molt...
## $ P13_E                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;Ho té molt...
## $ P14                      &lt;chr&gt; &quot;Abans que comenci la campanya&quot;, &quot;A...
## $ P15                      &lt;chr&gt; &quot;No votarà&quot;, &quot;No ho sap&quot;, &quot;No ho sa...
## $ P15_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P16_1                    &lt;chr&gt; &quot; &quot;, &quot;CUP&quot;, &quot;PSC&quot;, &quot;No ho sap&quot;, &quot; &quot;...
## $ P16_2                    &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem&quot;, &quot;C’...
## $ P16_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_4                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P17                      &lt;chr&gt; &quot;PSC&quot;, &quot;ERC&quot;, &quot;No ho recorda&quot;, &quot;No ...
## $ P17_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;erc/...
## $ P18_A                    &lt;chr&gt; &quot;Habitualment voto, però aquesta ve...
## $ P18_B                    &lt;chr&gt; &quot; &quot;, &quot;CUP&quot;, &quot;C’s&quot;, &quot;No contesta&quot;, &quot;...
## $ P18_B_LITERALS           &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P19A_A_FERNANDEZ         &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_A_FERNANDEZ         &lt;chr&gt; &quot; &quot;, &quot;4&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;4&quot;, ...
## $ P19A_L_BORRAS            &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_L_BORRAS            &lt;chr&gt; &quot; &quot;, &quot;3&quot;, &quot; &quot;, &quot;7&quot;, &quot;7&quot;, &quot; &quot;, &quot;4&quot;, ...
## $ P19A_P_ARAGONES          &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_P_ARAGONES          &lt;chr&gt; &quot; &quot;, &quot;4&quot;, &quot;5&quot;, &quot;8&quot;, &quot;7&quot;, &quot;5&quot;, &quot;7&quot;, ...
## $ P19A_S_ILLA              &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_S_ILLA              &lt;chr&gt; &quot;5&quot;, &quot;4&quot;, &quot;5&quot;, &quot;7&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, ...
## $ P19A_J_ALBIACH           &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_J_ALBIACH           &lt;chr&gt; &quot; &quot;, &quot;5&quot;, &quot; &quot;, &quot; &quot;, &quot;6&quot;, &quot; &quot;, &quot; &quot;, ...
## $ P19A_C_CARRIZOSA         &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_C_CARRIZOSA         &lt;chr&gt; &quot; &quot;, &quot;2&quot;, &quot; &quot;, &quot; &quot;, &quot;5&quot;, &quot;5&quot;, &quot; &quot;, ...
## $ P19A_D_SABATER           &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_D_SABATER           &lt;chr&gt; &quot; &quot;, &quot;5&quot;, &quot;5&quot;, &quot; &quot;, &quot;6&quot;, &quot;7&quot;, &quot; &quot;, ...
## $ P19A_I_GARRIGA           &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_I_GARRIGA           &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot;5&quot;, &quot; &quot;, &quot;5&quot;, &quot; &quot;, &quot; &quot;, ...
## $ P19A_A_CHACON            &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P19B_A_CHACON            &lt;chr&gt; &quot; &quot;, &quot;4&quot;, &quot; &quot;, &quot;7&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P20                      &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;2010&quot;, &quot; ...
## $ P21                      &lt;chr&gt; &quot;Altres comunitats autònomes&quot;, &quot;Cat...
## $ P22                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Catalunya&quot;, &quot;Cataluny...
## $ P23                      &lt;chr&gt; &quot;Cap: Ateisme&quot;, &quot;Cap: Agnosticisme&quot;...
## $ P23_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P24                      &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot;No, mai&quot;, &quot;No, mai&quot;, &quot;Sí...
## $ P25                      &lt;chr&gt; &quot;No treballa&quot;, &quot;Treballa&quot;, &quot;Treball...
## $ P26                      &lt;chr&gt; &quot;Estudiant&quot;, &quot; &quot;, &quot; &quot;, &quot;Estudiant&quot;,...
## $ P27                      &lt;chr&gt; &quot; &quot;, &quot;Assalariat/ada eventual o int...
## $ P28                      &lt;chr&gt; &quot; &quot;, &quot;Sector privat&quot;, &quot;Sector priva...
## $ P29                      &lt;chr&gt; &quot;Cicle formatiu de grau superior, F...
## $ P29_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P30                      &lt;chr&gt; &quot;Amb parella estable&quot;, &quot;Solter/a&quot;, ...
## $ P31                      &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0
## $ P32                      &lt;chr&gt; &quot;Tan espanyol/a com català/ana&quot;, &quot;M...
## $ P33                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Català...
## $ P33_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P34                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Català...
## $ P34_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;aleman&quot;, ...
## $ P35                      &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot;Classe mitjana&quot;, &quot; &quot;, &quot; ...
## $ P36                      &lt;chr&gt; &quot;Classe treballadora mitjana&quot;, &quot;Cla...
## $ P37                      &lt;int&gt; 2, 4, 4, 3, 4, 5, 2, 5, 5
## $ P38                      &lt;chr&gt; &quot;Inferiors a 1.000€&quot;, &quot;Entre 3.001€...
## $ P39                      &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ P40_1                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_4                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA
## $ P40_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ HORA_ÚLTIMA_PREGUNTA     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA
## $ E1                       &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ E2                       &lt;chr&gt; &quot;Mai&quot;, &quot;Quasi mai&quot;, &quot;Mai&quot;, &quot;Alguna ...
## $ E3                       &lt;chr&gt; &quot;Poc&quot;, &quot;Poc&quot;, &quot;Gens&quot;, &quot;Bastant&quot;, &quot;G...
## $ E4                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Gens&quot;, &quot;Bastant...
## $ E5                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;B...
## $ E6                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Molt&quot;, &quot;Bastant...
## $ SUPERVISADA              &lt;chr&gt; &quot; &quot;, &quot;Sí&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;Sí&quot;...
## $ P5R                      &lt;chr&gt; &quot;Cap&quot;, &quot;NS/NC&quot;, &quot;C&#39;s&quot;, &quot;PSC&quot;, &quot;ERC&quot;...
## $ P15R                     &lt;chr&gt; &quot;No votaria&quot;, &quot;NS/NC&quot;, &quot;NS/NC&quot;, &quot;NS...
## $ P16_1R                   &lt;chr&gt; &quot; &quot;, &quot;CUP&quot;, &quot;PSC&quot;, &quot;NS/NC&quot;, &quot; &quot;, &quot;N...
## $ P16_2R                   &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem&quot;, &quot;C&#39;...
## $ P16_3R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_4R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P17R                     &lt;chr&gt; &quot;PSC&quot;, &quot;ERC&quot;, &quot;NS/NC&quot;, &quot;NS/NC&quot;, &quot;PS...
## $ P18R                     &lt;chr&gt; &quot; &quot;, &quot;CUP&quot;, &quot;C&#39;s&quot;, &quot;NS/NC&quot;, &quot;ERC&quot;, ...
## $ P18_CENS                 &lt;chr&gt; &quot;No va votar&quot;, &quot;CUP&quot;, &quot;C’s&quot;, &quot;No co...
## $ P18R_CENS                &lt;chr&gt; &quot;No va votar&quot;, &quot;CUP&quot;, &quot;C&#39;s&quot;, &quot;NS/NC...
## $ P16R                     &lt;chr&gt; &quot; &quot;, &quot;Catalunya en Comú Podem / CUP...</code></pre>
<pre class="r"><code>table(ceo_tarragona_joves$PROVINCIA)</code></pre>
<pre><code>## 
## TARRAGONA 
##         9</code></pre>
<pre class="r"><code>table(ceo_tarragona_joves$EDAT_GR)</code></pre>
<pre><code>## 
## 24 anys o menys 
##               9</code></pre>
<p>Aquí tenim un doble filtratge: per una banda els casos de la provincia de Tarragona i per l’altre els casos que tenen 24 anys o meys. Això ens diu que a només hi ha 9 casos que compleixin aquests requisits.</p>
<p>Realitzem un nou filtratge. En aquest cas tenint en compte les preferències en les relacions CAT-ESP.</p>
<pre class="r"><code>table(ceo$P9)</code></pre>
<pre><code>## 
##                       No contesta                         No ho sap 
##                                27                                53 
## Un Estat dins una Espanya federal              Un Estat independent 
##                               292                               368 
##  Una comunitat autònoma d’Espanya               Una regió d’Espanya 
##                               286                                74</code></pre>
<pre class="r"><code>ceo_indy &lt;- ceo %&gt;% filter(P9 == &quot;Un Estat independent&quot;)
glimpse(ceo_indy)</code></pre>
<pre><code>## Rows: 368
## Columns: 130
## $ X.U.FEFF.PONDERA         &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ ORDRE_REVISADA           &lt;int&gt; 1, 4, 7, 13, 16, 19, 23, 24, 29, 32...
## $ ANY                      &lt;int&gt; 2021, 2021, 2021, 2021, 2021, 2021,...
## $ MES                      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ DIA                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_INI                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_FIN                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ DURADA                   &lt;int&gt; 571, 933, 1438, 896, 563, 912, 705,...
## $ TIP_TEL                  &lt;chr&gt; &quot;Trucada a telèfon mòbil&quot;, &quot;Trucada...
## $ ENQUESTADOR_CODI         &lt;int&gt; 98, 629, 629, 98, 629, 98, 98, 18, ...
## $ ENQUESTADOR_SEXE         &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ ENQUESTADOR_EDAT         &lt;int&gt; 42, 58, 58, 42, 58, 42, 42, 46, 55,...
## $ ENQUESTADOR_ESTUDIS      &lt;chr&gt; &quot;ESO, EGB, FP1, Batxillerat element...
## $ ENQUESTADOR_NACIONALITAT &lt;chr&gt; &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;E...
## $ NUM_QUEST_CAMP           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ PROVINCIA                &lt;chr&gt; &quot;BARCELONA&quot;, &quot;BARCELONA&quot;, &quot;BARCELON...
## $ HABITAT                  &lt;chr&gt; &quot;De 10.001 a 50.000&quot;, &quot;De 50.001 a ...
## $ MUNICIPI                 &lt;chr&gt; &quot; &quot;, &quot;SANT CUGAT DEL VALLÈS&quot;, &quot;BARC...
## $ COMARCA                  &lt;chr&gt; &quot;Baix Llobregat&quot;, &quot;Vallès Occidenta...
## $ DOMICILI_PARTICULAR      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ LLENGUA_ENQUESTA         &lt;chr&gt; &quot;Català&quot;, &quot;Català&quot;, &quot;Català&quot;, &quot;Cata...
## $ LLENGUA_SISTEMA          &lt;chr&gt; &quot;Català&quot;, &quot;Català&quot;, &quot;Català&quot;, &quot;Cata...
## $ PADRO                    &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ CIUTADANIA               &lt;chr&gt; &quot;Sí, tinc la ciutadania (espanyola)...
## $ SEXE                     &lt;chr&gt; &quot;Home&quot;, &quot;Dona&quot;, &quot;Home&quot;, &quot;Dona&quot;, &quot;Do...
## $ EDAT                     &lt;int&gt; 61, 83, 44, 78, 59, 67, 66, 75, 53,...
## $ EDAT_GR                  &lt;chr&gt; &quot;De 50 a 64 anys&quot;, &quot;65 anys o més&quot;,...
## $ EDAT_CEO                 &lt;chr&gt; &quot;De 60 a 64 anys&quot;, &quot;De 80 anys i mé...
## $ US_TELEFON_FIX           &lt;chr&gt; &quot;Sí, en fa ús&quot;, &quot;Sí, en fa ús&quot;, &quot;Sí...
## $ LLOC_NAIX                &lt;chr&gt; &quot;Catalunya&quot;, &quot;Catalunya&quot;, &quot;Cataluny...
## $ HORA_PRIMERA_PREGUNTA    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ CIRCUIT_992_1            &lt;int&gt; 1, 1, 1, 2, 2, 2, 1, 1, 2, 2, 1, 2,...
## $ P1                       &lt;chr&gt; &quot;Dolenta&quot;, &quot;Ni bona ni dolenta&quot;, &quot;D...
## $ P2                       &lt;chr&gt; &quot;Molt dolenta&quot;, &quot;No ho sap&quot;, &quot;Dolen...
## $ P3                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Poc&quot;, &quot;Bastant&quot;, &quot;Gens&quot;...
## $ P4                       &lt;chr&gt; &quot;4&quot;, &quot;6&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;5&quot;, &quot;5&quot;, ...
## $ P5                       &lt;chr&gt; &quot;CUP&quot;, &quot;Junts per Catalunya&quot;, &quot;PDeC...
## $ P5_LITERALS              &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P6                       &lt;chr&gt; &quot;Esquerra&quot;, &quot;Esquerra&quot;, &quot;Dreta&quot;, &quot;D...
## $ P7                       &lt;chr&gt; &quot;Màxim catalanisme&quot;, &quot;Màxim catalan...
## $ P8                       &lt;chr&gt; &quot;Un nivell insuficient d’autonomia&quot;...
## $ P9                       &lt;chr&gt; &quot;Un Estat independent&quot;, &quot;Un Estat i...
## $ P10                      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P11                      &lt;chr&gt; &quot;Amb tota seguretat aniré a votar&quot;,...
## $ P12_1                    &lt;chr&gt; &quot;La ideologia&quot;, &quot;El propi partit&quot;, ...
## $ P12_2                    &lt;chr&gt; &quot;Les propostes electorals&quot;, &quot; &quot;, &quot;L...
## $ P13_A                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;No ho sap&quot;...
## $ P13_B                    &lt;chr&gt; &quot;8&quot;, &quot;No ho sap&quot;, &quot;No ho té gens en...
## $ P13_C                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;9&quot;, &quot;Ho té...
## $ P13_D                    &lt;chr&gt; &quot;8&quot;, &quot;Ho té molt en compte&quot;, &quot;No ho...
## $ P13_E                    &lt;chr&gt; &quot;5&quot;, &quot;No ho sap&quot;, &quot;No ho té gens en...
## $ P14                      &lt;chr&gt; &quot;Abans que comenci la campanya&quot;, &quot;A...
## $ P15                      &lt;chr&gt; &quot;CUP&quot;, &quot;Junts per Catalunya&quot;, &quot;Junt...
## $ P15_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P16_1                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_4                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P17                      &lt;chr&gt; &quot;ERC&quot;, &quot;No ho recorda&quot;, &quot;Junts per ...
## $ P17_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P18_A                    &lt;chr&gt; &quot;Estic segur/a que vaig votar&quot;, &quot;Es...
## $ P18_B                    &lt;chr&gt; &quot;CUP&quot;, &quot;Junts per Catalunya&quot;, &quot;Junt...
## $ P18_B_LITERALS           &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;CIU&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;...
## $ P19A_A_FERNANDEZ         &lt;chr&gt; &quot;Sí&quot;, &quot;No ho sap&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;...
## $ P19B_A_FERNANDEZ         &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot;2&quot;, &quot; &quot;, &quot;2...
## $ P19A_L_BORRAS            &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_L_BORRAS            &lt;chr&gt; &quot;8&quot;, &quot;8&quot;, &quot;9&quot;, &quot; &quot;, &quot;Excel·lent&quot;, &quot;...
## $ P19A_P_ARAGONES          &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_P_ARAGONES          &lt;chr&gt; &quot;6&quot;, &quot;7&quot;, &quot;5&quot;, &quot; &quot;, &quot;8&quot;, &quot;7&quot;, &quot;5&quot;, ...
## $ P19A_S_ILLA              &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_S_ILLA              &lt;chr&gt; &quot;5&quot;, &quot;5&quot;, &quot;3&quot;, &quot; &quot;, &quot;5&quot;, &quot;6&quot;, &quot;2&quot;, ...
## $ P19A_J_ALBIACH           &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_J_ALBIACH           &lt;chr&gt; &quot;7&quot;, &quot;No ho sap&quot;, &quot;4&quot;, &quot; &quot;, &quot;5&quot;, &quot; ...
## $ P19A_C_CARRIZOSA         &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_C_CARRIZOSA         &lt;chr&gt; &quot;Molt deficient&quot;, &quot;Molt deficient&quot;,...
## $ P19A_D_SABATER           &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_D_SABATER           &lt;chr&gt; &quot;Excel·lent&quot;, &quot;7&quot;, &quot;6&quot;, &quot;Excel·lent...
## $ P19A_I_GARRIGA           &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_I_GARRIGA           &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; ...
## $ P19A_A_CHACON            &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;,...
## $ P19B_A_CHACON            &lt;chr&gt; &quot;5&quot;, &quot;No ho sap&quot;, &quot;5&quot;, &quot; &quot;, &quot;6&quot;, &quot; ...
## $ P20                      &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;1966&quot;, &quot; ...
## $ P21                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Catalunya&quot;, &quot;Cataluny...
## $ P22                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Catalunya&quot;, &quot;Cataluny...
## $ P23                      &lt;chr&gt; &quot;Catolicisme&quot;, &quot;Cap: Agnosticisme&quot;,...
## $ P23_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P24                      &lt;chr&gt; &quot;No, mai&quot;, &quot; &quot;, &quot;No, mai&quot;, &quot;Sí, un ...
## $ P25                      &lt;chr&gt; &quot;Treballa&quot;, &quot;No treballa&quot;, &quot;Treball...
## $ P26                      &lt;chr&gt; &quot; &quot;, &quot;Pensionista (abans no ha treb...
## $ P27                      &lt;chr&gt; &quot;Assalariat/ada indefinit/ida&quot;, &quot; &quot;...
## $ P28                      &lt;chr&gt; &quot;Sector privat&quot;, &quot; &quot;, &quot;Sector priva...
## $ P29                      &lt;chr&gt; &quot;Batxillerat, BUP, COU, Batxillerat...
## $ P29_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P30                      &lt;chr&gt; &quot;Casat/ada&quot;, &quot;Casat/ada&quot;, &quot;Solter/a...
## $ P31                      &lt;int&gt; 2, 2, 0, 6, 2, 2, 1, 2, 3, 1, 3, 2,...
## $ P32                      &lt;chr&gt; &quot;Només català/ana&quot;, &quot;Només català/a...
## $ P33                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Català...
## $ P33_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P34                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Català...
## $ P34_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P35                      &lt;chr&gt; &quot;Classe mitjana&quot;, &quot;Classe mitjana&quot;,...
## $ P36                      &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;Classe mitjana baix...
## $ P37                      &lt;int&gt; 3, 5, 1, 1, 2, 3, 1, 2, 2, 2, 2, 3,...
## $ P38                      &lt;chr&gt; &quot;Entre 2.001€ i 3.000€&quot;, &quot;No ho sap...
## $ P39                      &lt;chr&gt; &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P40_1                    &lt;chr&gt; &quot; &quot;, &quot;Mobilitat reduïda&quot;, &quot; &quot;, &quot;Ceg...
## $ P40_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_4                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ P40_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;ARTRITIS ...
## $ HORA_ÚLTIMA_PREGUNTA     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ E1                       &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ E2                       &lt;chr&gt; &quot;Mai&quot;, &quot;Quasi mai&quot;, &quot;Mai&quot;, &quot;Sovint&quot;...
## $ E3                       &lt;chr&gt; &quot;Gens&quot;, &quot;Poc&quot;, &quot;Gens&quot;, &quot;Gens&quot;, &quot;Gen...
## $ E4                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Bast...
## $ E5                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Molt&quot;, &quot;Bastant...
## $ E6                       &lt;chr&gt; &quot;Molt&quot;, &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Molt...
## $ SUPERVISADA              &lt;chr&gt; &quot;Sí&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;,...
## $ P5R                      &lt;chr&gt; &quot;CUP&quot;, &quot;Junts per Catalunya&quot;, &quot;PDeC...
## $ P15R                     &lt;chr&gt; &quot;CUP&quot;, &quot;Junts per Catalunya&quot;, &quot;Junt...
## $ P16_1R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_2R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_3R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_4R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P17R                     &lt;chr&gt; &quot;ERC&quot;, &quot;NS/NC&quot;, &quot;Junts per Cataluny...
## $ P18R                     &lt;chr&gt; &quot;CUP&quot;, &quot;Junts per Catalunya&quot;, &quot;Junt...
## $ P18_CENS                 &lt;chr&gt; &quot;CUP&quot;, &quot;Junts per Catalunya&quot;, &quot;Junt...
## $ P18R_CENS                &lt;chr&gt; &quot;CUP&quot;, &quot;Junts per Catalunya&quot;, &quot;Junt...
## $ P16R                     &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...</code></pre>
<p>Per acabar fem un doble filtratge més: Estat independent i sexe dona.</p>
<pre class="r"><code>table(ceo$SEXE)</code></pre>
<pre><code>## 
## Dona Home 
##  569  531</code></pre>
<pre class="r"><code>ceo_indy_dona &lt;- ceo %&gt;% filter(P9 == &quot;Un Estat independent&quot;) %&gt;% filter(SEXE == &quot;Dona&quot;) %&gt;% droplevels() 
### droplevels serveix per eliminar les categories que ja no necessitem
glimpse(ceo_indy_dona)</code></pre>
<pre><code>## Rows: 177
## Columns: 130
## $ X.U.FEFF.PONDERA         &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ ORDRE_REVISADA           &lt;int&gt; 4, 13, 16, 19, 24, 32, 36, 37, 40, ...
## $ ANY                      &lt;int&gt; 2021, 2021, 2021, 2021, 2021, 2021,...
## $ MES                      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
## $ DIA                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_INI                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ HOR_FIN                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ DURADA                   &lt;int&gt; 933, 896, 563, 912, 885, 632, 903, ...
## $ TIP_TEL                  &lt;chr&gt; &quot;Trucada a telèfon fix&quot;, &quot;Trucada a...
## $ ENQUESTADOR_CODI         &lt;int&gt; 629, 98, 629, 98, 18, 813, 181, 813...
## $ ENQUESTADOR_SEXE         &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ ENQUESTADOR_EDAT         &lt;int&gt; 58, 42, 58, 42, 46, 43, 55, 43, 43,...
## $ ENQUESTADOR_ESTUDIS      &lt;chr&gt; &quot;Batxillerat, BUP, FP2, COU, Mòdul ...
## $ ENQUESTADOR_NACIONALITAT &lt;chr&gt; &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;Espanya&quot;, &quot;E...
## $ NUM_QUEST_CAMP           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ PROVINCIA                &lt;chr&gt; &quot;BARCELONA&quot;, &quot;BARCELONA&quot;, &quot;GIRONA&quot;,...
## $ HABITAT                  &lt;chr&gt; &quot;De 50.001 a 150.000&quot;, &quot;De 2.001 a ...
## $ MUNICIPI                 &lt;chr&gt; &quot;SANT CUGAT DEL VALLÈS&quot;, &quot; &quot;, &quot; &quot;, ...
## $ COMARCA                  &lt;chr&gt; &quot;Vallès Occidental&quot;, &quot;Osona&quot;, &quot;Ripo...
## $ DOMICILI_PARTICULAR      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ LLENGUA_ENQUESTA         &lt;chr&gt; &quot;Català&quot;, &quot;Català&quot;, &quot;Català&quot;, &quot;Cast...
## $ LLENGUA_SISTEMA          &lt;chr&gt; &quot;Català&quot;, &quot;Català&quot;, &quot;Català&quot;, &quot;Cast...
## $ PADRO                    &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ CIUTADANIA               &lt;chr&gt; &quot;Sí, tinc la ciutadania (espanyola)...
## $ SEXE                     &lt;chr&gt; &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Dona&quot;, &quot;Do...
## $ EDAT                     &lt;int&gt; 83, 78, 59, 67, 75, 61, 58, 83, 70,...
## $ EDAT_GR                  &lt;chr&gt; &quot;65 anys o més&quot;, &quot;65 anys o més&quot;, &quot;...
## $ EDAT_CEO                 &lt;chr&gt; &quot;De 80 anys i més&quot;, &quot;De 75 a 79 any...
## $ US_TELEFON_FIX           &lt;chr&gt; &quot;Sí, en fa ús&quot;, &quot;Sí, en fa ús&quot;, &quot;Sí...
## $ LLOC_NAIX                &lt;chr&gt; &quot;Catalunya&quot;, &quot;Catalunya&quot;, &quot;Cataluny...
## $ HORA_PRIMERA_PREGUNTA    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ CIRCUIT_992_1            &lt;int&gt; 1, 2, 2, 2, 1, 2, 2, 1, 1, 2, 2, 2,...
## $ P1                       &lt;chr&gt; &quot;Ni bona ni dolenta&quot;, &quot;Ni bona ni d...
## $ P2                       &lt;chr&gt; &quot;No ho sap&quot;, &quot;Dolenta&quot;, &quot;Dolenta&quot;, ...
## $ P3                       &lt;chr&gt; &quot;Poc&quot;, &quot;Gens&quot;, &quot;Bastant&quot;, &quot;Molt&quot;, &quot;...
## $ P4                       &lt;chr&gt; &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;5&quot;, &quot;8&quot;, &quot;1&quot;, &quot;5&quot;, ...
## $ P5                       &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Junts per C...
## $ P5_LITERALS              &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P6                       &lt;chr&gt; &quot;Esquerra&quot;, &quot;Dreta&quot;, &quot;Centre-esquer...
## $ P7                       &lt;chr&gt; &quot;Màxim catalanisme&quot;, &quot;7&quot;, &quot;Màxim ca...
## $ P8                       &lt;chr&gt; &quot;Un nivell insuficient d’autonomia&quot;...
## $ P9                       &lt;chr&gt; &quot;Un Estat independent&quot;, &quot;Un Estat i...
## $ P10                      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P11                      &lt;chr&gt; &quot;Amb tota seguretat aniré a votar&quot;,...
## $ P12_1                    &lt;chr&gt; &quot;El propi partit&quot;, &quot;Cap d’aquests&quot;,...
## $ P12_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot;La ideologia&quot;, &quot;La ideol...
## $ P13_A                    &lt;chr&gt; &quot;No ho sap&quot;, &quot;No ho sap&quot;, &quot;Ho té mo...
## $ P13_B                    &lt;chr&gt; &quot;No ho sap&quot;, &quot;Ho té molt en compte&quot;...
## $ P13_C                    &lt;chr&gt; &quot;9&quot;, &quot;7&quot;, &quot;Ho té molt en compte&quot;, &quot;...
## $ P13_D                    &lt;chr&gt; &quot;Ho té molt en compte&quot;, &quot;7&quot;, &quot;Ho té...
## $ P13_E                    &lt;chr&gt; &quot;No ho sap&quot;, &quot;No ho sap&quot;, &quot;Ho té mo...
## $ P14                      &lt;chr&gt; &quot;Abans que comenci la campanya&quot;, &quot;E...
## $ P15                      &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Junts per C...
## $ P15_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P16_1                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;No ho sap&quot;, &quot;E...
## $ P16_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;Junts per...
## $ P16_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_4                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P17                      &lt;chr&gt; &quot;No ho recorda&quot;, &quot;ERC&quot;, &quot;Junts per ...
## $ P17_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P18_A                    &lt;chr&gt; &quot;Estic segur/a que vaig votar&quot;, &quot;Es...
## $ P18_B                    &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Altres part...
## $ P18_B_LITERALS           &lt;chr&gt; &quot;-&quot;, &quot;CIU&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;pu...
## $ P19A_A_FERNANDEZ         &lt;chr&gt; &quot;No ho sap&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;...
## $ P19B_A_FERNANDEZ         &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot;2&quot;, &quot;Molt deficient&quot;, &quot; ...
## $ P19A_L_BORRAS            &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_L_BORRAS            &lt;chr&gt; &quot;8&quot;, &quot; &quot;, &quot;Excel·lent&quot;, &quot;5&quot;, &quot;No co...
## $ P19A_P_ARAGONES          &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_P_ARAGONES          &lt;chr&gt; &quot;7&quot;, &quot; &quot;, &quot;8&quot;, &quot;7&quot;, &quot;No contesta&quot;, ...
## $ P19A_S_ILLA              &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_S_ILLA              &lt;chr&gt; &quot;5&quot;, &quot; &quot;, &quot;5&quot;, &quot;6&quot;, &quot;No contesta&quot;, ...
## $ P19A_J_ALBIACH           &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_J_ALBIACH           &lt;chr&gt; &quot;No ho sap&quot;, &quot; &quot;, &quot;5&quot;, &quot; &quot;, &quot; &quot;, &quot;8...
## $ P19A_C_CARRIZOSA         &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_C_CARRIZOSA         &lt;chr&gt; &quot;Molt deficient&quot;, &quot; &quot;, &quot;Molt defici...
## $ P19A_D_SABATER           &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;Sí&quot;,...
## $ P19B_D_SABATER           &lt;chr&gt; &quot;7&quot;, &quot;Excel·lent&quot;, &quot;7&quot;, &quot;7&quot;, &quot;No co...
## $ P19A_I_GARRIGA           &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_I_GARRIGA           &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;No ho sap&quot;, &quot; &quot;, &quot;7...
## $ P19A_A_CHACON            &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P19B_A_CHACON            &lt;chr&gt; &quot;No ho sap&quot;, &quot; &quot;, &quot;6&quot;, &quot; &quot;, &quot; &quot;, &quot;6...
## $ P20                      &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;1966&quot;, &quot; &quot;, &quot; &quot;, &quot; ...
## $ P21                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Catalunya&quot;, &quot;Cataluny...
## $ P22                      &lt;chr&gt; &quot;Catalunya&quot;, &quot;Catalunya&quot;, &quot;Cataluny...
## $ P23                      &lt;chr&gt; &quot;Cap: Agnosticisme&quot;, &quot;Catolicisme&quot;,...
## $ P23_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P24                      &lt;chr&gt; &quot; &quot;, &quot;Sí, un cop per setmana o més&quot;...
## $ P25                      &lt;chr&gt; &quot;No treballa&quot;, &quot;No treballa&quot;, &quot;Treb...
## $ P26                      &lt;chr&gt; &quot;Pensionista (abans no ha treballat...
## $ P27                      &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot;Assalariat/ada indefinit...
## $ P28                      &lt;chr&gt; &quot; &quot;, &quot;Sector privat&quot;, &quot;Sector priva...
## $ P29                      &lt;chr&gt; &quot;ESO completa (Graduat escolar), EG...
## $ P29_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P30                      &lt;chr&gt; &quot;Casat/ada&quot;, &quot;Vidu/a&quot;, &quot;Casat/ada&quot;,...
## $ P31                      &lt;int&gt; 2, 6, 2, 2, 2, 1, 2, 2, 2, 2, 0, 3,...
## $ P32                      &lt;chr&gt; &quot;Només català/ana&quot;, &quot;Més català/ana...
## $ P33                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Català...
## $ P33_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P34                      &lt;chr&gt; &quot;Català (Valencià/Balear)&quot;, &quot;Català...
## $ P34_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, ...
## $ P35                      &lt;chr&gt; &quot;Classe mitjana&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;C...
## $ P36                      &lt;chr&gt; &quot; &quot;, &quot;Classe mitjana baixa&quot;, &quot;Class...
## $ P37                      &lt;int&gt; 5, 1, 2, 3, 2, 2, 3, 1, 2, 4, 1, 1,...
## $ P38                      &lt;chr&gt; &quot;No ho sap&quot;, &quot;Inferiors a 1.000€&quot;, ...
## $ P39                      &lt;chr&gt; &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;Sí&quot;,...
## $ P40_1                    &lt;chr&gt; &quot;Mobilitat reduïda&quot;, &quot;Ceguesa, visu...
## $ P40_2                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_3                    &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P40_4                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ P40_LITERALS             &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;ARTRITIS REUMATOIDE...
## $ HORA_ÚLTIMA_PREGUNTA     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ E1                       &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;,...
## $ E2                       &lt;chr&gt; &quot;Quasi mai&quot;, &quot;Sovint&quot;, &quot;Mai&quot;, &quot;Quas...
## $ E3                       &lt;chr&gt; &quot;Poc&quot;, &quot;Gens&quot;, &quot;Gens&quot;, &quot;Gens&quot;, &quot;Bas...
## $ E4                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Molt&quot;, &quot;Molt...
## $ E5                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Bastant&quot;, &quot;Molt&quot;, &quot;Molt...
## $ E6                       &lt;chr&gt; &quot;Bastant&quot;, &quot;Molt&quot;, &quot;Molt&quot;, &quot;Bastant...
## $ SUPERVISADA              &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P5R                      &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Junts per C...
## $ P15R                     &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Junts per C...
## $ P16_1R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;NS/NC&quot;, &quot;ERC&quot;,...
## $ P16_2R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;Junts per...
## $ P16_3R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P16_4R                   &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, ...
## $ P17R                     &lt;chr&gt; &quot;NS/NC&quot;, &quot;ERC&quot;, &quot;Junts per Cataluny...
## $ P18R                     &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Altres, bla...
## $ P18_CENS                 &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Altres part...
## $ P18R_CENS                &lt;chr&gt; &quot;Junts per Catalunya&quot;, &quot;Altres, bla...
## $ P16R                     &lt;chr&gt; &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;NS/NC&quot;, &quot;Junts...</code></pre>
<pre class="r"><code>table(ceo_indy_dona$SEXE)</code></pre>
<pre><code>## 
## Dona 
##  177</code></pre>
<pre class="r"><code>table(ceo$P9, ceo$SEXE) ###Comprovació amb les variables originals</code></pre>
<pre><code>##                                    
##                                     Dona Home
##   No contesta                         13   14
##   No ho sap                           41   12
##   Un Estat dins una Espanya federal  130  162
##   Un Estat independent               177  191
##   Una comunitat autònoma d’Espanya   160  126
##   Una regió d’Espanya                 48   26</code></pre>
<p>A través d’aquests filtratges podem estudiar les variables segmentades pels casos que ens interessen.</p>
</div>
<div id="ordenar" class="section level4">
<h4>2. Ordenar</h4>
<p>La función arrange() simplement ordena les files de manera ascendent o descendent a partir dels valors d’una determinada variable o columna. És una funció útil per a ordenar casos a partir d’una variable numèrica continua o discreta. Provem amb les dades de gapminder.</p>
<pre class="r"><code>a &lt;- gapminder %&gt;% arrange(lifeExp)
glimpse(a)</code></pre>
<pre><code>## Rows: 1,704
## Columns: 6
## $ country   &lt;fct&gt; &quot;Rwanda&quot;, &quot;Afghanistan&quot;, &quot;Gambia&quot;, &quot;Angola&quot;, &quot;Sier...
## $ continent &lt;fct&gt; Africa, Asia, Africa, Africa, Africa, Asia, Asia, ...
## $ year      &lt;int&gt; 1992, 1952, 1952, 1952, 1952, 1957, 1977, 1952, 19...
## $ lifeExp   &lt;dbl&gt; 23.599, 28.801, 30.000, 30.015, 30.331, 30.332, 31...
## $ pop       &lt;int&gt; 7290203, 8425333, 284320, 4232095, 2143249, 924093...
## $ gdpPercap &lt;dbl&gt; 737.0686, 779.4453, 485.2307, 3520.6103, 879.7877,...</code></pre>
<p>Ens dona tota la base de dades de gapminder ordenada de menor a major esperança de vida. Si volem fer-ho al revés.</p>
<pre class="r"><code>b &lt;- gapminder %&gt;% arrange(desc(lifeExp))
glimpse(b)</code></pre>
<pre><code>## Rows: 1,704
## Columns: 6
## $ country   &lt;fct&gt; &quot;Japan&quot;, &quot;Hong Kong, China&quot;, &quot;Japan&quot;, &quot;Iceland&quot;, &quot;...
## $ continent &lt;fct&gt; Asia, Asia, Asia, Europe, Europe, Asia, Oceania, E...
## $ year      &lt;int&gt; 2007, 2007, 2002, 2007, 2007, 2002, 2007, 2007, 20...
## $ lifeExp   &lt;dbl&gt; 82.603, 82.208, 82.000, 81.757, 81.701, 81.495, 81...
## $ pop       &lt;int&gt; 127467972, 6980412, 127065841, 301931, 7554661, 67...
## $ gdpPercap &lt;dbl&gt; 31656.07, 39724.98, 28604.59, 36180.79, 37506.42, ...</code></pre>
<p>Ara ens ho ordena de més esperança de vida a menys.</p>
<pre class="r"><code>c &lt;- gapminder %&gt;% arrange(gdpPercap)
glimpse(c)</code></pre>
<pre><code>## Rows: 1,704
## Columns: 6
## $ country   &lt;fct&gt; &quot;Congo, Dem. Rep.&quot;, &quot;Congo, Dem. Rep.&quot;, &quot;Lesotho&quot;,...
## $ continent &lt;fct&gt; Africa, Africa, Africa, Africa, Africa, Africa, As...
## $ year      &lt;int&gt; 2002, 2007, 1952, 1952, 1997, 1952, 1952, 1957, 19...
## $ lifeExp   &lt;dbl&gt; 44.966, 46.462, 42.138, 32.500, 42.587, 35.928, 36...
## $ pop       &lt;int&gt; 55379852, 64606759, 748747, 580653, 47798986, 1438...
## $ gdpPercap &lt;dbl&gt; 241.1659, 277.5519, 298.8462, 299.8503, 312.1884, ...</code></pre>
<p>Ordenada per menys a més PIB per cápita.</p>
</div>
<div id="seleccionar" class="section level4">
<h4>3. Seleccionar</h4>
<p>La funció select() ens permet seleccionar el número de columnes, és a dir, variables amb les que volguem operar. Aquesta funció ens permet crear bases de dades més manegables i orientades a les variables que volem analitzar.</p>
<p>Provem com funciona. Seleccionem variables relacionades amb les Relacions CAT-ESP de l’ICPS.</p>
<pre class="r"><code>class(ceo$P9) ### Model territorial</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>ceo$P9F &lt;- as.factor(ceo$P9)
levels(ceo$P9)</code></pre>
<pre><code>## NULL</code></pre>
<pre class="r"><code>class(ceo$P10) #### Vol que CAT sigui independent?</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>ceo$P10F &lt;- as.factor(ceo$P10) 
levels(ceo$P10)</code></pre>
<pre><code>## NULL</code></pre>
<pre class="r"><code>class(ceo$P8) ### Grau autonomia Catalunya</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>ceo$P8F &lt;- as.factor(ceo$P8)
levels(ceo$P8)</code></pre>
<pre><code>## NULL</code></pre>
<p>Seleccionem aquestes variasbles per formar una nova base de dades.</p>
<pre class="r"><code>ceo_nacional &lt;- ceo %&gt;% select(P9,P8,P10)
glimpse(ceo_nacional)</code></pre>
<pre><code>## Rows: 1,100
## Columns: 3
## $ P9  &lt;chr&gt; &quot;Un Estat independent&quot;, &quot;Una regió d’Espanya&quot;, &quot;Un Estat...
## $ P8  &lt;chr&gt; &quot;Un nivell insuficient d’autonomia&quot;, &quot;Un nivell suficien...
## $ P10 &lt;chr&gt; &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Sí&quot;, &quot;Sí&quot;, &quot;No&quot;, &quot;N...</code></pre>
<p>Hem creat una base de dades amb tots els casos i només 4 variables vinculades al tema nacional.</p>
</div>
<div id="mutar" class="section level4">
<h4>4. Mutar</h4>
<p>La funció de mutate() ens permet transformar els valors d’una determinada variable o crear una de nova a partir de les dades ja existents. Si el primer que especifiquem dins de la funció mutate es el nom de la columna que volem transformar, R ens sobreescriurà els valors en aquesta mateixa columna. Si el que fem és indicar el nom de la columna nova que no existeix dins d’aquest marc de dades, R ens mantindrà l’origianl i crearà una de nova.</p>
<p>Primer cas:</p>
<pre class="r"><code>gapminder</code></pre>
<pre><code>## # A tibble: 1,704 x 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## # ... with 1,694 more rows</code></pre>
<pre class="r"><code>gapminder %&gt;% mutate(pop = pop/1000000) %&gt;% head()</code></pre>
<pre><code>## # A tibble: 6 x 6
##   country     continent  year lifeExp   pop gdpPercap
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8.43      779.
## 2 Afghanistan Asia       1957    30.3  9.24      821.
## 3 Afghanistan Asia       1962    32.0 10.3       853.
## 4 Afghanistan Asia       1967    34.0 11.5       836.
## 5 Afghanistan Asia       1972    36.1 13.1       740.
## 6 Afghanistan Asia       1977    38.4 14.9       786.</code></pre>
<p>La columna pop ha canviat de l’original a l’actual amb l’operació realitzada.</p>
<p>Segon cas:</p>
<pre class="r"><code>gapminder</code></pre>
<pre><code>## # A tibble: 1,704 x 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## # ... with 1,694 more rows</code></pre>
<pre class="r"><code>gapminder %&gt;% mutate(gdp = gdpPercap*pop) %&gt;% head()</code></pre>
<pre><code>## # A tibble: 6 x 7
##   country     continent  year lifeExp      pop gdpPercap          gdp
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;        &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.  6567086330.
## 2 Afghanistan Asia       1957    30.3  9240934      821.  7585448670.
## 3 Afghanistan Asia       1962    32.0 10267083      853.  8758855797.
## 4 Afghanistan Asia       1967    34.0 11537966      836.  9648014150.
## 5 Afghanistan Asia       1972    36.1 13079460      740.  9678553274.
## 6 Afghanistan Asia       1977    38.4 14880372      786. 11697659231.</code></pre>
<p>Afegeix la columna gdp que hem creat nova fruit de multiplicar PIB per cápita i població total. Això ens dona el PIB del país.</p>
</div>
<div id="resumir" class="section level4">
<h4>5. Resumir</h4>
<p>La funció summarize() ens resumeix en un únic valor les dades d’una columna a partir d’una determinada operació matemàtica. Veiem com funciona:</p>
<p>Provem. Seleccionem només països d’Àfrica a l’any 1962 amb filter().</p>
<pre class="r"><code>table(gapminder$year)</code></pre>
<pre><code>## 
## 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 2002 2007 
##  142  142  142  142  142  142  142  142  142  142  142  142</code></pre>
<pre class="r"><code>gap_africa_1962&lt;- gapminder %&gt;% filter(continent == &quot;Africa&quot;) %&gt;% 
  filter(year == &quot;1962&quot;)

glimpse(gap_africa_1962)</code></pre>
<pre><code>## Rows: 52
## Columns: 6
## $ country   &lt;fct&gt; &quot;Algeria&quot;, &quot;Angola&quot;, &quot;Benin&quot;, &quot;Botswana&quot;, &quot;Burkina...
## $ continent &lt;fct&gt; Africa, Africa, Africa, Africa, Africa, Africa, Af...
## $ year      &lt;int&gt; 1962, 1962, 1962, 1962, 1962, 1962, 1962, 1962, 19...
## $ lifeExp   &lt;dbl&gt; 48.303, 34.000, 42.618, 51.520, 37.814, 42.045, 42...
## $ pop       &lt;int&gt; 11000948, 4826015, 2151895, 512764, 4919632, 29619...
## $ gdpPercap &lt;dbl&gt; 2550.8169, 4269.2767, 949.4991, 983.6540, 722.5120...</code></pre>
<pre class="r"><code>gap_africa_1962 %&gt;% summarize(tpop = sum(pop), 
                              mean_gdpcap = mean(gdpPercap, na.rm = TRUE),
                              prop = mean(gdpPercap &gt; mean_gdpcap),
                              esp = sum(lifeExp &gt; 60), count = n())</code></pre>
<pre><code>## # A tibble: 1 x 5
##        tpop mean_gdpcap  prop   esp count
##       &lt;int&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
## 1 296516865       1598. 0.327     1    52</code></pre>
<p>Què ens dona aquesta gran funció? Una taula on apareix la següent informació:</p>
<ol style="list-style-type: decimal">
<li>Selecciona tots els casos d’Àfrica a l’any 1962.</li>
<li>La nova variable tpop ens suma la població de tots els països africans filtrats en el continent.</li>
<li>La variable mean_gdpcap ens calcula la mitjana del producte interior brut.</li>
<li>esp ens dona el número de països amb una esperança de vida superior de 60 anys.</li>
<li>count() ens recompta les observacions filtrades.</li>
</ol>
</div>
<div id="agrupar" class="section level4">
<h4>6. Agrupar</h4>
<p>La funció group_by() s’ha d’aplicar en combinació amb altres variables. Aquesta opció ens permet agrupar algunes funcions seguint per les categories d’altres variables. Normalment hem de combinar aquesta funció amb summarize().</p>
<p>Creem base de dades nova (Sánchez, 2020):</p>
<pre class="r"><code>city &lt;- c(&quot;New York&quot;, &quot;New York&quot;, &quot;London&quot;, &quot;London&quot;, &quot;Beijing&quot;, &quot;Beijing&quot;)
size &lt;- c(&quot;large&quot;,&quot;small&quot;,&quot;large&quot;,&quot;small&quot;,&quot;large&quot;,&quot;small&quot;)
amount &lt;- c(23, 14, 22, 16, 121, 56)

pollution &lt;- data.frame(city, size, amount)

glimpse(pollution)</code></pre>
<pre><code>## Rows: 6
## Columns: 3
## $ city   &lt;chr&gt; &quot;New York&quot;, &quot;New York&quot;, &quot;London&quot;, &quot;London&quot;, &quot;Beijing&quot;...
## $ size   &lt;chr&gt; &quot;large&quot;, &quot;small&quot;, &quot;large&quot;, &quot;small&quot;, &quot;large&quot;, &quot;small&quot;
## $ amount &lt;dbl&gt; 23, 14, 22, 16, 121, 56</code></pre>
<pre class="r"><code>pollution %&gt;%  group_by(city) %&gt;%  summarise(mean = mean(amount), sum = sum(amount), n = n())</code></pre>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 4
##   city      mean   sum     n
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
## 1 Beijing   88.5   177     2
## 2 London    19      38     2
## 3 New York  18.5    37     2</code></pre>
<p>Aquest codi ens permet agrupar per ciutat i ens resumeix la variable amount amb la mitjana.</p>
<p>Conclusió final: un codi amb més operacions no és necessariament un codi millor. Un bon codi és aquell que ens ajuda a transformar les dades de manera que ens permeti respondre les preguntes que ens fem (Mas, 2020)</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
